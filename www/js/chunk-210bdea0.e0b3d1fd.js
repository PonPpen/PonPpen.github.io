(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-210bdea0"],{"04ad":function(t,e,n){"use strict";n("17df")},"17df":function(t,e,n){},5319:function(t,e,n){"use strict";var r=n("d784"),i=n("825a"),o=n("7b0b"),a=n("50c4"),s=n("a691"),d=n("1d80"),u=n("8aa5"),c=n("14c3"),l=Math.max,f=Math.min,h=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,p=function(t){return void 0===t?t:String(t)};r("replace",2,(function(t,e,n,r){var b=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=r.REPLACE_KEEPS_$0,y=b?"$":"$0";return[function(n,r){var i=d(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!b&&g||"string"===typeof r&&-1===r.indexOf(y)){var o=n(e,t,this,r);if(o.done)return o.value}var d=i(t),h=String(this),m="function"===typeof r;m||(r=String(r));var v=d.global;if(v){var x=d.unicode;d.lastIndex=0}var M=[];while(1){var N=c(d,h);if(null===N)break;if(M.push(N),!v)break;var S=String(N[0]);""===S&&(d.lastIndex=u(h,a(d.lastIndex),x))}for(var w="",k=0,$=0;$<M.length;$++){N=M[$];for(var E=String(N[0]),P=l(f(s(N.index),h.length),0),_=[],I=1;I<N.length;I++)_.push(p(N[I]));var T=N.groups;if(m){var H=[E].concat(_,P,h);void 0!==T&&H.push(T);var A=String(r.apply(void 0,H))}else A=C(E,h,P,_,T,r);P>=k&&(w+=h.slice(k,P)+A,k=P+E.length)}return w+h.slice(k)}];function C(t,n,r,i,a,s){var d=r+t.length,u=i.length,c=v;return void 0!==a&&(a=o(a),c=m),e.call(s,c,(function(e,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(d);case"<":s=a[o.slice(1,-1)];break;default:var c=+o;if(0===c)return e;if(c>u){var l=h(c/10);return 0===l?e:l<=u?void 0===i[l-1]?o.charAt(1):i[l-1]+o.charAt(1):e}s=i[c-1]}return void 0===s?"":s}))}}))},7795:function(t,e,n){t.exports=n.p+"img/cat.89cb4ea3.jpeg"},"81d5":function(t,e,n){"use strict";var r=n("7b0b"),i=n("23cb"),o=n("50c4");t.exports=function(t){var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),d=a>2?arguments[2]:void 0,u=void 0===d?n:i(d,n);while(u>s)e[s++]=t;return e}},"97c5":function(t,e,n){"use strict";n("dd76")},"9ed6":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("img",{staticClass:"user-poster",staticStyle:{height:"300px"},attrs:{src:t.poster}}),n("van-form",{on:{submit:t.onSubmit}},[n("van-field",{attrs:{label:"用户名",formatter:t.formatter,placeholder:"请输入用户名",rules:[{required:!0,message:"请输入用户名"}]},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}}),n("van-field",{attrs:{type:"password",label:"密码",placeholder:"请输入密码 默认密码123456",rules:[{required:!0,message:"请输入密码"}]},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}),n("van-field",{attrs:{center:"",clearable:"",label:"验证码",placeholder:"请输入验证码"},scopedSlots:t._u([{key:"button",fn:function(){return[n("div",{staticClass:"login-code",attrs:{id:"login-code",title:"点击刷新验证码"},on:{click:t.refreshCode}},[n("s-identify",{attrs:{identifyCode:t.identifyCode}})],1)]},proxy:!0}]),model:{value:t.user.code,callback:function(e){t.$set(t.user,"code",e)},expression:"user.code"}}),n("div",{staticStyle:{margin:"16px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v(" 提交 ")])],1)],1)],1)},i=[],o=(n("ac1f"),n("5319"),n("96cf"),n("1da1")),a=n("365c"),s=n("cc33"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("canvas",{staticClass:"s-canvas",attrs:{id:"s-canvas",width:t.contentWidth,height:t.contentHeight}})},u=[],c=(n("cb29"),n("a9e3"),{name:"SIdentify",props:{identifyCode:{type:String,default:"1234"},fontSizeMin:{type:Number,default:16},fontSizeMax:{type:Number,default:40},backgroundColorMin:{type:Number,default:180},backgroundColorMax:{type:Number,default:240},colorMin:{type:Number,default:50},colorMax:{type:Number,default:160},lineColorMin:{type:Number,default:40},lineColorMax:{type:Number,default:180},dotColorMin:{type:Number,default:0},dotColorMax:{type:Number,default:255},contentWidth:{type:Number,default:88},contentHeight:{type:Number,default:38}},methods:{randomNum:function(t,e){return Math.floor(Math.random()*(e-t)+t)},randomColor:function(t,e){var n=this.randomNum(t,e),r=this.randomNum(t,e),i=this.randomNum(t,e);return"rgb("+n+","+r+","+i+")"},drawPic:function(){var t=document.getElementById("s-canvas"),e=t.getContext("2d");e.textBaseline="bottom",e.fillStyle=this.randomColor(this.backgroundColorMin,this.backgroundColorMax),e.fillRect(0,0,this.contentWidth,this.contentHeight);for(var n=0;n<this.identifyCode.length;n++)this.drawText(e,this.identifyCode[n],n)},drawText:function(t,e,n){t.fillStyle=this.randomColor(this.colorMin,this.colorMax),t.font=this.randomNum(this.fontSizeMin,this.fontSizeMax)+"px SimHei";var r=(n+1)*(this.contentWidth/(this.identifyCode.length+1)),i=this.randomNum(this.fontSizeMax,this.contentHeight-5),o=this.randomNum(-45,45);t.translate(r,i),t.rotate(o*Math.PI/180),t.fillText(e,0,0),t.rotate(-o*Math.PI/180),t.translate(-r,-i)},drawLine:function(t){for(var e=0;e<8;e++)t.strokeStyle=this.randomColor(this.lineColorMin,this.lineColorMax),t.beginPath(),t.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.stroke()},drawDot:function(t){for(var e=0;e<100;e++)t.fillStyle=this.randomColor(0,255),t.beginPath(),t.arc(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight),1,0,2*Math.PI),t.fill()}},watch:{identifyCode:function(){this.drawPic()}},mounted:function(){this.drawPic()}}),l=c,f=(n("97c5"),n("2877")),h=Object(f["a"])(l,d,u,!1,null,"ae00b358",null),m=h.exports,v={components:{SIdentify:m},data:function(){return{poster:n("7795"),user:{username:"",password:"",code:""},identifyCodes:"1234567890",identifyCode:""}},created:function(){var t=this;this.$nextTick((function(){t.refreshCode()}))},methods:{onSubmit:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.user.code===e.identifyCode){t.next=4;break}return e.$toast.fail("验证码错误！"),e.refreshCode(),t.abrupt("return");case 4:return t.next=6,Object(a["b"])(e.user);case 6:n=t.sent,200===n.code?(Object(s["b"])(n.token),e.$router.push({path:"/"})):e.$toast.fail(n.text);case 8:case"end":return t.stop()}}),t)})))()},formatter:function(t){return t.replace(/\d/g,"")},randomNum:function(t,e){return Math.floor(Math.random()*(e-t)+t)},refreshCode:function(){this.identifyCode="",this.makeCode(this.identifyCodes,4)},makeCode:function(t,e){for(var n=0;n<e;n++)this.identifyCode+=this.identifyCodes[this.randomNum(0,this.identifyCodes.length)]}}},p=v,b=(n("04ad"),Object(f["a"])(p,r,i,!1,null,"cd6464aa",null));e["default"]=b.exports},cb29:function(t,e,n){var r=n("23e7"),i=n("81d5"),o=n("44d2");r({target:"Array",proto:!0},{fill:i}),o("fill")},dd76:function(t,e,n){}}]);