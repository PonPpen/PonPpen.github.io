webpackJsonp([368],{1141:function(l,n,t){"use strict";function u(l){return r._22(0,[(l()(),r.Z(0,0,null,null,1,"ion-icon",[["class","wx_bo3_atvar3 wx_cor3_atvar3"],["name","yonghu"],["role","img"]],[[2,"hide",null]],null,null,null,null)),r.Y(1,147456,null,0,Z.a,[x.a,r.j,r.z],{name:[0,"name"]},null)],function(l,n){l(n,1,0,"yonghu")},function(l,n){l(n,0,0,r._11(n,1)._hidden)})}function a(l){return r._22(0,[(l()(),r.Z(0,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,function(l,n){l(n,0,0,r._2(1,"",n.component.POTO_BASIC_URL+n.parent.context.$implicit.basicPhoto,""))})}function o(l){return r._22(0,[(l()(),r.Z(0,0,null,null,15,"li",[],null,[[null,"click"]],function(l,n,t){var u=!0;if("click"===n){u=!1!==l.component.detailsClick(l.context.$implicit.id)&&u}return u},null,null)),(l()(),r._20(-1,null,["\n\t\t\t\t\t\t\t"])),(l()(),r.Z(2,0,null,null,12,"ion-avatar",[["class","wx_gruopchat_avatar"],["item-start",""]],null,null,null,null,null)),r.Y(3,16384,null,0,Y.a,[],null,null),(l()(),r._20(-1,null,["\n\t\t\t\t\t\t\t\t\t"])),(l()(),r._20(-1,null,["\n\t\t\t\t\t\t\t\t\t"])),(l()(),r.U(16777216,null,null,1,null,u)),r.Y(7,16384,null,0,P.j,[r.I,r.F],{ngIf:[0,"ngIf"]},null),(l()(),r._20(-1,null,["\n\t\t\t\t\t\t\t\t\t"])),(l()(),r.U(16777216,null,null,1,null,a)),r.Y(10,16384,null,0,P.j,[r.I,r.F],{ngIf:[0,"ngIf"]},null),(l()(),r._20(-1,null,["\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t"])),(l()(),r.Z(12,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),r._20(13,null,["",""])),(l()(),r._20(-1,null,["\n\t\t\t\t\t\t\t"])),(l()(),r._20(-1,null,["\n\t\t\t\t\t\t"]))],function(l,n){l(n,7,0,!n.context.$implicit.basicPhoto);l(n,10,0,n.context.$implicit.basicPhoto)},function(l,n){l(n,13,0,n.context.$implicit.name)})}function e(l){return r._22(0,[(l()(),r.Z(0,0,null,null,7,"div",[["class","wx_gruopchat_footter"]],null,[[null,"click"]],function(l,n,t){var u=!0;if("click"===n){u=!1!==l.component.moreGroupChat()&&u}return u},null,null)),(l()(),r._20(-1,null,["\t\t\t\n\t\t\t\t\t"])),(l()(),r.Z(2,0,null,null,1,"span",[["class","wx_gruopchat_span"]],null,null,null,null,null)),(l()(),r._20(-1,null,["查看更多群成员"])),(l()(),r._20(-1,null,["\n\t\t\t\t\t"])),(l()(),r.Z(5,0,null,null,1,"ion-icon",[["name","arrow-forward"],["role","img"]],[[2,"hide",null]],null,null,null,null)),r.Y(6,147456,[[4,4]],0,Z.a,[x.a,r.j,r.z],{name:[0,"name"]},null),(l()(),r._20(-1,null,["\n\t\t\t\t"]))],function(l,n){l(n,6,0,"arrow-forward")},function(l,n){l(n,5,0,r._11(n,6)._hidden)})}function s(l){return r._22(0,[(l()(),r.Z(0,0,null,null,7,"div",[["class","wx_gruopchat_footter"]],null,[[null,"click"]],function(l,n,t){var u=!0;if("click"===n){u=!1!==l.component.packUpGroupChat()&&u}return u},null,null)),(l()(),r._20(-1,null,["\t\t\t\n\t\t\t\t\t"])),(l()(),r.Z(2,0,null,null,1,"span",[["class","wx_gruopchat_span"]],null,null,null,null,null)),(l()(),r._20(-1,null,["收起更多群成员"])),(l()(),r._20(-1,null,["\n\t\t\t\t\t"])),(l()(),r.Z(5,0,null,null,1,"ion-icon",[["name","arrow-forward"],["role","img"]],[[2,"hide",null]],null,null,null,null)),r.Y(6,147456,[[4,4]],0,Z.a,[x.a,r.j,r.z],{name:[0,"name"]},null),(l()(),r._20(-1,null,["\n\t\t\t\t"]))],function(l,n){l(n,6,0,"arrow-forward")},function(l,n){l(n,5,0,r._11(n,6)._hidden)})}function i(l){return r._22(0,[r._18(402653184,1,{navBar:0}),(l()(),r._20(-1,null,["\n"])),(l()(),r.Z(2,0,null,null,10,"ion-header",[["class","whiteHeader"]],null,null,null,null,null)),r.Y(3,16384,null,0,j.a,[x.a,r.j,r.z,[2,y.a]],null,null),(l()(),r._20(-1,null,["\n\n  "])),(l()(),r.Z(5,0,null,null,6,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,L.b,L.a)),r.Y(6,49152,[[1,4]],0,G.a,[A.a,[2,y.a],[2,z.a],x.a,r.j,r.z],null,null),(l()(),r._20(-1,3,["\n    "])),(l()(),r.Z(8,0,null,3,2,"ion-title",[],null,null,null,T.b,T.a)),r.Y(9,49152,null,0,N.a,[x.a,r.j,r.z,[2,S.a],[2,G.a]],null,null),(l()(),r._20(-1,0,["群聊资料"])),(l()(),r._20(-1,3,["\n  "])),(l()(),r._20(-1,null,["\n\n"])),(l()(),r._20(-1,null,["\n\n\n"])),(l()(),r.Z(14,0,null,null,68,"ion-content",[["class","wx_gruopchat"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,q.b,q.a)),r.Y(15,4374528,null,0,F.a,[x.a,O.a,B.a,r.j,r.z,A.a,R.a,r.u,[2,y.a],[2,z.a]],null,null),(l()(),r._20(-1,1,["\n\t"])),(l()(),r.Z(17,0,null,1,61,"ion-list",[],null,null,null,null,null)),r.Y(18,16384,null,0,D.a,[x.a,r.j,r.z,O.a,V.l,B.a],null,null),(l()(),r._20(-1,null,["\n\t  \t"])),(l()(),r.Z(20,0,null,null,39,"ion-item",[["class","item item-block"]],null,null,null,$.b,$.a)),r.Y(21,1097728,null,3,X.a,[E.a,x.a,r.j,r.z,[2,M.a]],null,null),r._18(335544320,2,{contentLabel:0}),r._18(603979776,3,{_buttons:1}),r._18(603979776,4,{_icons:1}),r.Y(25,16384,null,0,H.a,[],null,null),(l()(),r._20(-1,2,["\n\t\t    "])),(l()(),r.Z(27,0,null,2,7,"p",[],null,null,null,null,null)),(l()(),r._20(-1,null,["\n\t\t\t\t\t"])),(l()(),r.Z(29,0,null,null,1,"span",[["class","wx_gruopchat_left"]],null,null,null,null,null)),(l()(),r._20(-1,null,["群聊成员"])),(l()(),r._20(-1,null,["\n\t\t\t\t\t"])),(l()(),r.Z(32,0,null,null,1,"span",[["class","wx_gruopchat_right"]],null,null,null,null,null)),(l()(),r._20(33,null,["共","人"])),(l()(),r._20(-1,null,["\n\t\t\t\t"])),(l()(),r._20(-1,2,["\n\t\t    "])),(l()(),r.Z(36,0,null,2,16,"div",[["class","wx_gruopchat_img"]],null,null,null,null,null)),(l()(),r._20(-1,null,["\n\t\t\t\t\t"])),(l()(),r.Z(38,0,null,null,13,"ul",[],null,null,null,null,null)),(l()(),r._20(-1,null,["\n\t\t\t\t\t\t"])),(l()(),r.U(16777216,null,null,1,null,o)),r.Y(41,802816,null,0,P.i,[r.I,r.F,r.p],{ngForOf:[0,"ngForOf"]},null),(l()(),r._20(-1,null,["\n\t\t\t\t\t\t"])),(l()(),r.Z(43,0,null,null,7,"li",[],null,[[null,"click"]],function(l,n,t){var u=!0;if("click"===n){u=!1!==l.component.addGroupChat()&&u}return u},null,null)),(l()(),r._20(-1,null,["\n\t\t\t\t\t\t\t"])),(l()(),r.Z(45,0,null,null,4,"ion-avatar",[["class","wx_gruopchat_avatar"]],null,null,null,null,null)),r.Y(46,16384,null,0,Y.a,[],null,null),(l()(),r._20(-1,null,["\n\t\t\t\t\t\t\t\t"])),(l()(),r.Z(48,0,null,null,0,"img",[["src","../../assets/imgs/add_ion.png"]],null,null,null,null,null)),(l()(),r._20(-1,null,["\n\t\t\t\t\t\t\t"])),(l()(),r._20(-1,null,["\n\t\t\t\t\t\t"])),(l()(),r._20(-1,null,["\n\t\t\t\t\t"])),(l()(),r._20(-1,null,["\n\t\t    "])),(l()(),r._20(-1,2,["\n\t    \t"])),(l()(),r.U(16777216,null,2,1,null,e)),r.Y(55,16384,null,0,P.j,[r.I,r.F],{ngIf:[0,"ngIf"]},null),(l()(),r._20(-1,2,["\n\t\t\t\t"])),(l()(),r.U(16777216,null,2,1,null,s)),r.Y(58,16384,null,0,P.j,[r.I,r.F],{ngIf:[0,"ngIf"]},null),(l()(),r._20(-1,2,["\n\t  \t"])),(l()(),r._20(-1,null,["\n\t  \t"])),(l()(),r.Z(61,0,null,null,15,"ion-item",[["class","item item-block"]],null,[[null,"click"]],function(l,n,t){var u=!0;if("click"===n){u=!1!==l.component.makeGroupChat()&&u}return u},$.b,$.a)),r.Y(62,1097728,null,3,X.a,[E.a,x.a,r.j,r.z,[2,M.a]],null,null),r._18(335544320,5,{contentLabel:0}),r._18(603979776,6,{_buttons:1}),r._18(603979776,7,{_icons:1}),r.Y(66,16384,null,0,H.a,[],null,null),(l()(),r._20(-1,2,["\n\t\t\t\t"])),(l()(),r.Z(68,0,null,2,1,"span",[],null,null,null,null,null)),(l()(),r._20(-1,null,["群聊名称"])),(l()(),r._20(-1,2,["\n\t\t\t\t"])),(l()(),r.Z(71,0,null,2,1,"span",[["style","padding-left:10px;color: #666"]],null,null,null,null,null)),(l()(),r._20(72,null,["",""])),(l()(),r._20(-1,2,["\n\t      "])),(l()(),r.Z(74,0,null,4,1,"ion-icon",[["item-end",""],["name","ios-arrow-forward"],["role","img"]],[[2,"hide",null]],null,null,null,null)),r.Y(75,147456,[[7,4]],0,Z.a,[x.a,r.j,r.z],{name:[0,"name"]},null),(l()(),r._20(-1,2,["\n\t\t\t"])),(l()(),r._20(-1,null,["\n\t\t\t"])),(l()(),r._20(-1,null,["\n\t"])),(l()(),r._20(-1,1,["\n\t"])),(l()(),r.Z(80,0,null,1,1,"button",[["class","wx_groupchatbutton"]],null,[[null,"click"]],function(l,n,t){var u=!0;if("click"===n){u=!1!==l.component.quitGroupChat()&&u}return u},null,null)),(l()(),r._20(-1,null,["退出群聊"])),(l()(),r._20(-1,1,["\n"])),(l()(),r._20(-1,null,["\n"]))],function(l,n){var t=n.component;l(n,41,0,t.ChatUserShowList);l(n,55,0,t.ChatUserAll);l(n,58,0,t.ChatUserPackUp);l(n,75,0,"ios-arrow-forward")},function(l,n){var t=n.component;l(n,5,0,r._11(n,6)._hidden,r._11(n,6)._sbPadding);l(n,14,0,r._11(n,15).statusbarPadding,r._11(n,15)._hasRefresher);l(n,33,0,t.ChatUserList.length);l(n,72,0,t.headerTitle);l(n,74,0,r._11(n,75)._hidden)})}Object.defineProperty(n,"__esModule",{value:!0});var r=t(1),c=(t(0),t(39),t(63)),h=t(77),_=t(49),p=t(43),d=function(){function l(l,n,t,u,a,o,e){this.events=l,this.navCtrl=n,this.navParams=t,this.httpService=u,this.storage=a,this.toastprovider=o,this.alertCtrl=e,this.ChatUserList=[],this.ChatUserShowList=[],this.ChatUserListNum=14,this.ChatUserAll=!1,this.ChatUserPackUp=!1,this.userIds=[],this.POTO_BASIC_URL=c.f,this.headerTitle=this.navParams.data.headerTitle}return l.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad GroupchatPage"),this.getChatUserInfos()},l.prototype.ionViewDidEnter=function(){console.log("ionViewDidEnter GroupchatPage")},l.prototype.getChatUserInfos=function(){var l=this;this.httpService.getResources("tableAPI/getChatUserInfos?tableId="+this.navParams.data.tableId,function(n){var t=n.data;l.ChatUserList=t,l.showChatUserInfos(l.ChatUserListNum);for(var u=0;u<t.length;u++)l.userIds.push(t[u].id)})},l.prototype.showChatUserInfos=function(l){this.ChatUserPackUp=!1,this.ChatUserList.length>=l?(this.ChatUserAll=!0,this.ChatUserShowList=this.ChatUserList.slice(0,l)):this.ChatUserShowList=this.ChatUserList},l.prototype.detailsClick=function(l){this.navCtrl.push("ContactdetailsPage",{id:l})},l.prototype.makeGroupChat=function(){var l=this;this.alertCtrl.create({title:"修改群名称",inputs:[{name:"groupName",placeholder:"输入群名称",value:this.headerTitle}],buttons:[{text:"取消",handler:function(){console.log("Disagree clicked")}},{text:"确认",handler:function(n){if(console.log(n),null==n.groupName||""==n.groupName)return l.toastprovider.showToast("群名称不能为空！"),!1;var t=n.groupName;l.httpService.getResources("tableAPI/setGroupName?tableId="+l.navParams.data.tableId+"&groupName="+t,function(n){200==n.code?(l.headerTitle=t,l.toastprovider.showToast("已成功修改群名称为："+t),l.events.publish("groupchat:setGroupName",t)):l.toastprovider.showToast("系统繁忙，请重新操作")})}}]}).present()},l.prototype.quitGroupChat=function(){var l=this,n=this.storage.get("loginUserId");this.toastprovider.alertEvent("确定退出该群？",null,null,function(){l.httpService.getResources("tableAPI/quitGroupChat?tableId="+l.navParams.data.tableId+"&userId="+n,function(n){200==n.code?(l.toastprovider.showToast("已成功退出"+l.headerTitle+"群"),l.navCtrl.popTo(l.navCtrl.getByIndex(l.navCtrl.length()-3))):l.toastprovider.showToast("系统繁忙，请重新操作")})})},l.prototype.addGroupChat=function(){this.navCtrl.push("AddGroupchatPage",{isAddGroupChat:!0,tableId:this.navParams.data.tableId,userIds:this.userIds})},l.prototype.moreGroupChat=function(){this.showChatUserInfos(this.ChatUserList.length),this.ChatUserPackUp=!0,this.ChatUserAll=!1},l.prototype.packUpGroupChat=function(){this.showChatUserInfos(this.ChatUserListNum),this.ChatUserPackUp=!1},l}(),f=function(){return function(){}}(),g=t(529),b=t(530),m=t(531),C=t(532),v=t(533),k=t(534),w=t(535),U=t(536),I=t(537),Z=t(76),x=t(4),Y=t(260),P=t(37),j=t(247),y=t(9),L=t(1516),G=t(74),A=t(16),z=t(44),T=t(1517),N=t(244),S=t(108),q=t(1515),F=t(48),O=t(8),B=t(17),R=t(68),D=t(109),V=t(15),$=t(538),X=t(38),E=t(35),M=t(78),H=t(160),J=t(110),W=t(21),K=t(161),Q=r.X({encapsulation:2,styles:[],data:{}}),ll=r.V("page-groupchat",d,function(l){return r._22(0,[(l()(),r.Z(0,0,null,null,1,"page-groupchat",[],null,null,null,i,Q)),r.Y(1,49152,null,0,d,[J.a,z.a,W.a,h.a,_.a,p.a,K.a],null,null)],null,null)},{},{},[]),nl=t(31),tl=t(246),ul=t(69);t.d(n,"GroupchatPageModuleNgFactory",function(){return al});var al=r.W(f,[],function(l){return r._7([r._8(512,r.i,r.S,[[8,[g.a,b.a,m.a,C.a,v.a,k.a,w.a,U.a,I.a,ll]],[3,r.i],r.s]),r._8(4608,P.l,P.k,[r.r,[2,P.t]]),r._8(4608,nl.z,nl.z,[]),r._8(4608,nl.d,nl.d,[]),r._8(512,P.b,P.b,[]),r._8(512,nl.w,nl.w,[]),r._8(512,nl.i,nl.i,[]),r._8(512,nl.t,nl.t,[]),r._8(512,tl.a,tl.a,[]),r._8(512,tl.b,tl.b,[]),r._8(512,f,f,[]),r._8(256,ul.a,d,[])])})},1515:function(l,n,t){"use strict";function u(l){return a._22(2,[a._18(402653184,1,{_fixedContent:0}),a._18(402653184,2,{_scrollContent:0}),(l()(),a.Z(2,0,[[1,0],["fixedContent",1]],null,1,"div",[["class","fixed-content"]],null,null,null,null,null)),a._10(null,0),(l()(),a.Z(4,0,[[2,0],["scrollContent",1]],null,1,"div",[["class","scroll-content"]],null,null,null,null,null)),a._10(null,1),a._10(null,2)],null,null)}t.d(n,"a",function(){return o}),n.b=u;var a=t(1),o=(t(4),t(8),t(17),t(68),t(9),t(44),a.X({encapsulation:2,styles:[],data:{}}))},1516:function(l,n,t){"use strict";function u(l){return a._22(0,[(l()(),a.Z(0,0,null,null,1,"div",[["class","toolbar-background"]],null,null,null,null,null)),a.Y(1,278528,null,0,o.h,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),a.Z(2,0,null,null,8,"button",[["class","back-button"],["ion-button","bar-button"]],[[8,"hidden",0]],[[null,"click"]],function(l,n,t){var u=!0;if("click"===n){u=!1!==l.component.backButtonClick(t)&&u}return u},e.b,e.a)),a.Y(3,278528,null,0,o.h,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a.Y(4,1097728,null,0,s.a,[[8,"bar-button"],i.a,a.j,a.z],null,null),(l()(),a.Z(5,0,null,0,2,"ion-icon",[["class","back-button-icon"],["role","img"]],[[2,"hide",null]],null,null,null,null)),a.Y(6,278528,null,0,o.h,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a.Y(7,147456,null,0,r.a,[i.a,a.j,a.z],{name:[0,"name"]},null),(l()(),a.Z(8,0,null,0,2,"span",[["class","back-button-text"]],null,null,null,null,null)),a.Y(9,278528,null,0,o.h,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),a._20(10,null,["",""])),a._10(null,0),a._10(null,1),a._10(null,2),(l()(),a.Z(14,0,null,null,2,"div",[["class","toolbar-content"]],null,null,null,null,null)),a.Y(15,278528,null,0,o.h,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a._10(null,3)],function(l,n){var t=n.component;l(n,1,0,"toolbar-background","toolbar-background-"+t._mode);l(n,3,0,"back-button","back-button-"+t._mode);l(n,6,0,"back-button-icon","back-button-icon-"+t._mode);l(n,7,0,t._bbIcon);l(n,9,0,"back-button-text","back-button-text-"+t._mode);l(n,15,0,"toolbar-content","toolbar-content-"+t._mode)},function(l,n){var t=n.component;l(n,2,0,t._hideBb);l(n,5,0,a._11(n,7)._hidden);l(n,10,0,t._backText)})}t.d(n,"a",function(){return c}),n.b=u;var a=t(1),o=t(37),e=t(75),s=t(40),i=t(4),r=t(76),c=(t(9),t(44),a.X({encapsulation:2,styles:[],data:{}}))},1517:function(l,n,t){"use strict";function u(l){return a._22(2,[(l()(),a.Z(0,0,null,null,2,"div",[["class","toolbar-title"]],null,null,null,null,null)),a.Y(1,278528,null,0,o.h,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a._10(null,0)],function(l,n){l(n,1,0,"toolbar-title","toolbar-title-"+n.component._mode)},null)}t.d(n,"a",function(){return e}),n.b=u;var a=t(1),o=t(37),e=(t(4),a.X({encapsulation:2,styles:[],data:{}}))}});