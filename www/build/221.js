webpackJsonp([221],{1451:function(l,n,t){"use strict";function u(l){return a._22(0,[(l()(),a._20(-1,null,["\n"])),(l()(),a.Z(1,0,null,null,10,"ion-header",[["class","whiteHeader"]],null,null,null,null,null)),a.Y(2,16384,null,0,v.a,[y.a,a.j,a.z,[2,C.a]],null,null),(l()(),a._20(-1,null,["\n\n  "])),(l()(),a.Z(4,0,null,null,6,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,I.b,I.a)),a.Y(5,49152,null,0,x.a,[P.a,[2,C.a],[2,Y.a],y.a,a.j,a.z],null,null),(l()(),a._20(-1,3,["\n    "])),(l()(),a.Z(7,0,null,3,2,"ion-title",[],null,null,null,w.b,w.a)),a.Y(8,49152,null,0,j.a,[y.a,a.j,a.z,[2,T.a],[2,x.a]],null,null),(l()(),a._20(-1,0,["分配队员"])),(l()(),a._20(-1,3,["\n  "])),(l()(),a._20(-1,null,["\n\n"])),(l()(),a._20(-1,null,["\n\n"])),(l()(),a.Z(13,0,null,null,37,"ion-content",[["class","RuralAllocationPlayer"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,Z.b,Z.a)),a.Y(14,4374528,null,0,M.a,[y.a,R.a,S.a,a.j,a.z,P.a,A.a,a.u,[2,C.a],[2,Y.a]],null,null),(l()(),a._20(-1,1,["\n  "])),(l()(),a.Z(16,0,null,1,29,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,t){var u=!0;if("submit"===n){u=!1!==a._11(l,18).onSubmit(t)&&u}if("reset"===n){u=!1!==a._11(l,18).onReset()&&u}return u},null,null)),a.Y(17,16384,null,0,z.y,[],null,null),a.Y(18,4210688,null,0,z.q,[[8,null],[8,null]],null,null),a._16(2048,null,z.b,null,[z.q]),a.Y(20,16384,null,0,z.p,[z.b],null,null),(l()(),a._20(-1,null,["\n    "])),(l()(),a.Z(22,0,null,null,22,"ion-list",[["class","wx_ruralteammember_editor_list"]],null,null,null,null,null)),a.Y(23,16384,null,0,q.a,[y.a,a.j,a.z,R.a,F.l,S.a],null,null),(l()(),a._20(-1,null,["\n      "])),(l()(),a.Z(25,0,null,null,18,"ion-item",[["class","wx_ruralteammember_editor_item_1 item item-block"]],null,null,null,L.b,L.a)),a.Y(26,1097728,null,3,U.a,[W.a,y.a,a.j,a.z,[2,B.a]],null,null),a._18(335544320,1,{contentLabel:0}),a._18(603979776,2,{_buttons:1}),a._18(603979776,3,{_icons:1}),a.Y(30,16384,null,0,O.a,[],null,null),(l()(),a._20(-1,2,["\n        "])),(l()(),a.Z(32,0,null,1,2,"ion-label",[["class","label"],["color","dark"]],null,null,null,null,null)),a.Y(33,16384,[[1,4]],0,V.a,[y.a,a.j,a.z,[8,null],[8,null],[8,null],[8,null]],{color:[0,"color"]},null),(l()(),a._20(-1,null,["手机号："])),(l()(),a._20(-1,2,["\n        "])),(l()(),a.Z(36,0,null,3,6,"ion-input",[["class","form-control"],["maxlength","11"],["name","docNum"],["placeholder","输入手机号"],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup"],[null,"ngModelChange"]],function(l,n,t){var u=!0,a=l.component;if("keyup"===n){u=!1!==a.inputSet(t)&&u}if("ngModelChange"===n){u=!1!==(a.mobilePhone=t)&&u}return u},X.b,X.a)),a.Y(37,540672,null,0,z.j,[],{maxlength:[0,"maxlength"]},null),a._16(1024,null,z.l,function(l){return[l]},[z.j]),a.Y(39,671744,null,0,z.r,[[2,z.b],[2,z.l],[8,null],[8,null]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),a._16(2048,null,z.n,null,[z.r]),a.Y(41,16384,null,0,z.o,[z.n],null,null),a.Y(42,5423104,null,0,D.a,[y.a,R.a,W.a,P.a,a.j,a.z,[2,M.a],[2,U.a],[2,z.n],S.a],{type:[0,"type"],placeholder:[1,"placeholder"]},null),(l()(),a._20(-1,2,["\n      "])),(l()(),a._20(-1,null,["\n    "])),(l()(),a._20(-1,null,["\n  "])),(l()(),a._20(-1,1,["\n  "])),(l()(),a._20(-1,1,["\n  "])),(l()(),a.Z(48,0,null,1,1,"button",[["class","wx_ruralteammember_loginButton create"]],null,[[null,"click"]],function(l,n,t){var u=!0;if("click"===n){u=!1!==l.component.addStaff()&&u}return u},null,null)),(l()(),a._20(-1,null,["创建"])),(l()(),a._20(-1,1,["\n"])),(l()(),a._20(-1,null,["\n"]))],function(l,n){var t=n.component;l(n,33,0,"dark");l(n,37,0,"11");l(n,39,0,"docNum",t.mobilePhone);l(n,42,0,"text","输入手机号")},function(l,n){l(n,4,0,a._11(n,5)._hidden,a._11(n,5)._sbPadding);l(n,13,0,a._11(n,14).statusbarPadding,a._11(n,14)._hasRefresher);l(n,16,0,a._11(n,20).ngClassUntouched,a._11(n,20).ngClassTouched,a._11(n,20).ngClassPristine,a._11(n,20).ngClassDirty,a._11(n,20).ngClassValid,a._11(n,20).ngClassInvalid,a._11(n,20).ngClassPending);l(n,36,0,a._11(n,37).maxlength?a._11(n,37).maxlength:null,a._11(n,41).ngClassUntouched,a._11(n,41).ngClassTouched,a._11(n,41).ngClassPristine,a._11(n,41).ngClassDirty,a._11(n,41).ngClassValid,a._11(n,41).ngClassInvalid,a._11(n,41).ngClassPending)})}Object.defineProperty(n,"__esModule",{value:!0});var a=t(1),e=(t(0),t(39),t(49)),o=t(43),s=t(77),i=t(63),r=function(){function l(l,n,t,u,a,e,o){this.navCtrl=l,this.navParams=n,this.storage=t,this.toast=u,this.http=a,this.alertController=e,this.events=o,this.myTaskInfo={},this.staffType=null,this.mobilePhone=null,this.addMumber={isCaptain:null,telephone:null,workTeamManagementId:null},this.idCaptionList=[{value:"1",name:"队长"},{value:"0",name:"队员"}],this.userRight=null,this.alertStr=["头像","<h2>","队员名称","</h2>","<p>","电话号码","</p>"],this.POTO_BASIC_URL=i.f,console.log("进入搜索页面"),console.log(this.navParams),this.myTaskInfo=Object.assign({},this.navParams.data.myTaskInfo),void 0!=n.data.isWork&&(this.isWork=n.data.isWork),this.staffType=this.navParams.data.staffType}return l.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad RuralallocationplayerPage"),this.userRight=this.storage.get("loginUserId")},l.prototype.addStaff=function(){var l=this;this.events.unsubscribe("teamPlayer"),this.events.subscribe("teamPlayer",function(n){l.navCtrl.pop(),l.events.unsubscribe("teamPlayer")}),this.navCtrl.push("RuralteammemberaddPage",{myTaskInfo:this.myTaskInfo,staffType:this.staffType,isWork:this.isWork})},l.prototype.memberInfo=function(l){for(var n=this,t=this.alertController.create({message:l,cssClass:"addWindow"}),u=0;u<this.idCaptionList.length;u++){var a=this.idCaptionList[u];t.addInput({type:"radio",label:a.name,value:a.value})}t.addButton({text:"添加",handler:function(l){n.addMumber.workTeamManagementId=n.myTaskInfo.id,n.addMumber.isCaptain=l,console.log(n.addMumber.isCaptain),n.addMumber.isCaptain?n.http.httpPost("workTeamMembersAPI/save2",n.addMumber,function(l){200==l.code?(n.toast.showToast("新增成功"),n.navCtrl.pop(),console.log(n.isWork),n.events.publish("orginList",n.isWork)):n.toast.showToast(l.error)}):n.toast.showToast("请选择职务")}}),t.present()},l.prototype.submitForm=function(){var l=this;this.mobilePhone?this.http.httpGet("areaRegisAPI/findPhone",{mobilePhone:this.mobilePhone},function(n){if(1==n.code){console.log("手机号查询到的数据"),console.log(n),l.addMumber.telephone=n.data.areaRegis.mobilePhone,l.alertStr[0]='<img style="width:44px;height: 44px;border-radius: 50%" src="'+(null!=n.data.userInfo.basicPhoto?l.POTO_BASIC_URL:"../../assets/imgs")+(null!=n.data.userInfo.basicPhoto?n.data.userInfo.basicPhoto:"/user.png")+'"/>',l.alertStr[2]=n.data.areaRegis.basicName,l.alertStr[5]=n.data.areaRegis.mobilePhone;var t=l.alertStr.join("");l.memberInfo(t)}else l.mobilePhone=null,l.toast.showToast(n.msg)}):this.toast.showToast("手机号不能为空")},l.prototype.inputSet=function(l){var n=new RegExp(/[^\d]/),t=l.srcElement.value;n.test(t)?this.mobilePhone=null:(console.log(t),11==t.length&&(console.log("长度为11"),this.submitForm()))},l}(),c=function(){return function(){}}(),d=t(529),p=t(530),_=t(531),b=t(532),m=t(533),h=t(534),f=t(535),g=t(536),k=t(537),v=t(247),y=t(4),C=t(9),I=t(1516),x=t(74),P=t(16),Y=t(44),w=t(1517),j=t(244),T=t(108),Z=t(1515),M=t(48),R=t(8),S=t(17),A=t(68),z=t(31),q=t(109),F=t(15),L=t(538),U=t(38),W=t(35),B=t(78),O=t(160),V=t(79),X=t(1521),D=t(248),E=t(21),N=t(161),K=t(110),G=a.X({encapsulation:2,styles:[],data:{}}),H=a.V("page-ruralallocationplayer",r,function(l){return a._22(0,[(l()(),a.Z(0,0,null,null,1,"page-ruralallocationplayer",[],null,null,null,u,G)),a.Y(1,49152,null,0,r,[Y.a,E.a,e.a,o.a,s.a,N.a,K.a],null,null)],null,null)},{},{},[]),J=t(37),Q=t(246),$=t(69);t.d(n,"RuralallocationplayerPageModuleNgFactory",function(){return ll});var ll=a.W(c,[],function(l){return a._7([a._8(512,a.i,a.S,[[8,[d.a,p.a,_.a,b.a,m.a,h.a,f.a,g.a,k.a,H]],[3,a.i],a.s]),a._8(4608,J.l,J.k,[a.r,[2,J.t]]),a._8(4608,z.z,z.z,[]),a._8(4608,z.d,z.d,[]),a._8(512,J.b,J.b,[]),a._8(512,z.w,z.w,[]),a._8(512,z.i,z.i,[]),a._8(512,z.t,z.t,[]),a._8(512,Q.a,Q.a,[]),a._8(512,Q.b,Q.b,[]),a._8(512,c,c,[]),a._8(256,$.a,r,[])])})},1515:function(l,n,t){"use strict";function u(l){return a._22(2,[a._18(402653184,1,{_fixedContent:0}),a._18(402653184,2,{_scrollContent:0}),(l()(),a.Z(2,0,[[1,0],["fixedContent",1]],null,1,"div",[["class","fixed-content"]],null,null,null,null,null)),a._10(null,0),(l()(),a.Z(4,0,[[2,0],["scrollContent",1]],null,1,"div",[["class","scroll-content"]],null,null,null,null,null)),a._10(null,1),a._10(null,2)],null,null)}t.d(n,"a",function(){return e}),n.b=u;var a=t(1),e=(t(4),t(8),t(17),t(68),t(9),t(44),a.X({encapsulation:2,styles:[],data:{}}))},1516:function(l,n,t){"use strict";function u(l){return a._22(0,[(l()(),a.Z(0,0,null,null,1,"div",[["class","toolbar-background"]],null,null,null,null,null)),a.Y(1,278528,null,0,e.h,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),a.Z(2,0,null,null,8,"button",[["class","back-button"],["ion-button","bar-button"]],[[8,"hidden",0]],[[null,"click"]],function(l,n,t){var u=!0;if("click"===n){u=!1!==l.component.backButtonClick(t)&&u}return u},o.b,o.a)),a.Y(3,278528,null,0,e.h,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a.Y(4,1097728,null,0,s.a,[[8,"bar-button"],i.a,a.j,a.z],null,null),(l()(),a.Z(5,0,null,0,2,"ion-icon",[["class","back-button-icon"],["role","img"]],[[2,"hide",null]],null,null,null,null)),a.Y(6,278528,null,0,e.h,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a.Y(7,147456,null,0,r.a,[i.a,a.j,a.z],{name:[0,"name"]},null),(l()(),a.Z(8,0,null,0,2,"span",[["class","back-button-text"]],null,null,null,null,null)),a.Y(9,278528,null,0,e.h,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),a._20(10,null,["",""])),a._10(null,0),a._10(null,1),a._10(null,2),(l()(),a.Z(14,0,null,null,2,"div",[["class","toolbar-content"]],null,null,null,null,null)),a.Y(15,278528,null,0,e.h,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a._10(null,3)],function(l,n){var t=n.component;l(n,1,0,"toolbar-background","toolbar-background-"+t._mode);l(n,3,0,"back-button","back-button-"+t._mode);l(n,6,0,"back-button-icon","back-button-icon-"+t._mode);l(n,7,0,t._bbIcon);l(n,9,0,"back-button-text","back-button-text-"+t._mode);l(n,15,0,"toolbar-content","toolbar-content-"+t._mode)},function(l,n){var t=n.component;l(n,2,0,t._hideBb);l(n,5,0,a._11(n,7)._hidden);l(n,10,0,t._backText)})}t.d(n,"a",function(){return c}),n.b=u;var a=t(1),e=t(37),o=t(75),s=t(40),i=t(4),r=t(76),c=(t(9),t(44),a.X({encapsulation:2,styles:[],data:{}}))},1517:function(l,n,t){"use strict";function u(l){return a._22(2,[(l()(),a.Z(0,0,null,null,2,"div",[["class","toolbar-title"]],null,null,null,null,null)),a.Y(1,278528,null,0,e.h,[a.p,a.q,a.j,a.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a._10(null,0)],function(l,n){l(n,1,0,"toolbar-title","toolbar-title-"+n.component._mode)},null)}t.d(n,"a",function(){return o}),n.b=u;var a=t(1),e=t(37),o=(t(4),a.X({encapsulation:2,styles:[],data:{}}))},1521:function(l,n,t){"use strict";function u(l){return i._22(0,[(l()(),i.Z(0,0,[[1,0],["textInput",1]],null,1,"input",[["class","text-input"],["dir","auto"]],[[8,"type",0],[1,"aria-labelledby",0],[1,"min",0],[1,"max",0],[1,"step",0],[1,"autocomplete",0],[1,"autocorrect",0],[8,"placeholder",0],[8,"disabled",0],[8,"readOnly",0]],[[null,"input"],[null,"blur"],[null,"focus"],[null,"keydown"]],function(l,n,t){var u=!0,a=l.component;if("input"===n){u=!1!==a.onInput(t)&&u}if("blur"===n){u=!1!==a.onBlur(t)&&u}if("focus"===n){u=!1!==a.onFocus(t)&&u}if("keydown"===n){u=!1!==a.onKeydown(t)&&u}return u},null,null)),i.Y(1,278528,null,0,r.h,[i.p,i.q,i.j,i.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],function(l,n){l(n,1,0,"text-input","text-input-"+n.component._mode)},function(l,n){var t=n.component;l(n,0,0,t._type,t._labelId,t.min,t.max,t.step,t.autocomplete,t.autocorrect,t.placeholder,t._disabled,t._readonly)})}function a(l){return i._22(0,[(l()(),i.Z(0,0,[[1,0],["textInput",1]],null,1,"textarea",[["class","text-input"]],[[1,"aria-labelledby",0],[1,"autocomplete",0],[1,"autocorrect",0],[8,"placeholder",0],[8,"disabled",0],[8,"readOnly",0]],[[null,"input"],[null,"blur"],[null,"focus"],[null,"keydown"]],function(l,n,t){var u=!0,a=l.component;if("input"===n){u=!1!==a.onInput(t)&&u}if("blur"===n){u=!1!==a.onBlur(t)&&u}if("focus"===n){u=!1!==a.onFocus(t)&&u}if("keydown"===n){u=!1!==a.onKeydown(t)&&u}return u},null,null)),i.Y(1,278528,null,0,r.h,[i.p,i.q,i.j,i.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],function(l,n){l(n,1,0,"text-input","text-input-"+n.component._mode)},function(l,n){var t=n.component;l(n,0,0,t._labelId,t.autocomplete,t.autocorrect,t.placeholder,t._disabled,t._readonly)})}function e(l){return i._22(0,[(l()(),i.Z(0,0,null,null,1,"button",[["class","text-input-clear-icon"],["clear",""],["ion-button",""],["tabindex","-1"],["type","button"]],null,[[null,"click"],[null,"mousedown"]],function(l,n,t){var u=!0,a=l.component;if("click"===n){u=!1!==a.clearTextInput(t)&&u}if("mousedown"===n){u=!1!==a.clearTextInput(t)&&u}return u},c.b,c.a)),i.Y(1,1097728,null,0,d.a,[[8,""],p.a,i.j,i.z],{clear:[0,"clear"]},null)],function(l,n){l(n,1,0,"")},null)}function o(l){return i._22(0,[(l()(),i.Z(0,0,null,null,0,"div",[["class","input-cover"]],null,[[null,"touchstart"],[null,"touchend"],[null,"mousedown"],[null,"mouseup"]],function(l,n,t){var u=!0,a=l.component;if("touchstart"===n){u=!1!==a._pointerStart(t)&&u}if("touchend"===n){u=!1!==a._pointerEnd(t)&&u}if("mousedown"===n){u=!1!==a._pointerStart(t)&&u}if("mouseup"===n){u=!1!==a._pointerEnd(t)&&u}return u},null,null))],null,null)}function s(l){return i._22(2,[i._18(671088640,1,{_native:0}),(l()(),i.U(16777216,null,null,1,null,u)),i.Y(2,16384,null,0,r.j,[i.I,i.F],{ngIf:[0,"ngIf"]},null),(l()(),i.U(16777216,null,null,1,null,a)),i.Y(4,16384,null,0,r.j,[i.I,i.F],{ngIf:[0,"ngIf"]},null),(l()(),i.U(16777216,null,null,1,null,e)),i.Y(6,16384,null,0,r.j,[i.I,i.F],{ngIf:[0,"ngIf"]},null),(l()(),i.U(16777216,null,null,1,null,o)),i.Y(8,16384,null,0,r.j,[i.I,i.F],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,2,0,!t._isTextarea);l(n,4,0,t._isTextarea);l(n,6,0,t._clearInput);l(n,8,0,t._useAssist)},null)}t.d(n,"a",function(){return _}),n.b=s;var i=t(1),r=t(37),c=t(75),d=t(40),p=t(4),_=(t(8),t(35),t(17),i.X({encapsulation:2,styles:[],data:{}}))}});