(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39e345dc"],{"6f38":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("SplitLayout",[a("div",{staticClass:"header-top",attrs:{slot:"top"},slot:"top"},[a("SearchForm",{on:{query:e.onQuery,reset:e.onResetForm}},[a("SearchFormItem",{attrs:{label:"文档名称："}},[a("a-input",{attrs:{placeholder:"请输入文档名称"},model:{value:e.pageFilter.name,callback:function(t){e.$set(e.pageFilter,"name",t)},expression:"pageFilter.name"}})],1),e.isUser?e._e():a("SearchFormItem",{attrs:{label:"平台："}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择平台"},model:{value:e.pageFilter.platformId,callback:function(t){e.$set(e.pageFilter,"platformId",t)},expression:"pageFilter.platformId"}},[e._l(e.platform,(function(t){return[a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.name))])]}))],2)],1)],1)],1),a("div",{staticClass:"con-content"},[a("OperationPermission",{attrs:{check:"privs.item1160000002"}},[a("div",{staticClass:"con-content-top"},[e.isUser?e._e():a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.add}},[e._v("新建")])],1)]),a("div",{staticClass:"con-content-list"},[a("CustomTable",{ref:"table",attrs:{showAlert:!1,showSelection:!1,columns:e.columns,loading:e.load,dataSource:e.pageData},on:{change:e.onTableChange},scopedSlots:e._u([{key:"order",fn:function(t,a,n){return[e._v(" "+e._s(n+1)+" ")]}},{key:"platformId",fn:function(t){return[1==t?a("span",[e._v("智慧禁毒")]):e._e(),2==t?a("span",[e._v("椰风送暖")]):e._e(),3==t?a("span",[e._v("PC端")]):e._e()]}},{key:"action",fn:function(t){return[a("OperationPermission",{attrs:{check:"privs.item1160000003"}},[e.isUser?e._e():a("a",{staticStyle:{"margin-right":"16px"},on:{click:function(a){return a.stopPropagation(),e.edit(t)}}},[e._v("编辑")])]),a("OperationPermission",{attrs:{check:"privs.item1160000004"}},[e.isUser?e._e():a("a-popconfirm",{attrs:{title:"确定要删除吗？","ok-text":"是","cancel-text":"否"},on:{confirm:function(a){return e.del(t)}}},[a("a",{staticStyle:{"margin-right":"16px"}},[e._v("删除")])])],1),a("OperationPermission",{attrs:{check:"privs.item1160000005"}},[e.isUser?a("a",{staticStyle:{"margin-right":"16px"},on:{click:function(a){return a.stopPropagation(),e.detail(t)}}},[e._v("详情")]):e._e()])]}}])})],1)],1)])},r=[],i=(a("c740"),a("a434"),a("b0c0"),a("b85c")),o=a("5530"),s=a("d99e"),c=a("f2d1"),l=a("c443"),u=s["a"].Item,d={name:"usingHelp",components:{SearchForm:s["a"],SearchFormItem:u},data:function(){var e=this;return{queryForm:{name:"",platform:"",load:!1},columns:[{title:"序号",dataIndex:"order",scopedSlots:{customRender:"order"},customRender:function(t,a,n){return"".concat((e.pageFilter.currentPage-1)*e.pageFilter.pageSize+(n+1))}},{title:"文档名称",dataIndex:"name",align:"center"},{title:"平台",dataIndex:"platformId",align:"center",scopedSlots:{customRender:"platformId"}},{title:"上传人",dataIndex:"uploader",align:"center"},{title:"上传时间",dataIndex:"createTime",align:"center"},{title:"操作",width:"150px",align:"center",scopedSlots:{customRender:"action"}}],pageData:[],platform:[],pageFilter:{currentPage:1,pageSize:10},isUser:!1}},created:function(){this.getPlatform(),this.refreshTable(),"helpUser"==this.$route.name?(this.isUser=!0,this.columns.splice(this.columns.findIndex((function(e){return"平台"===e.title})),1)):this.isUser=!1},methods:{refreshTable:function(){var e=this;this.load=!0,c["a"].getDocList(this.pageFilter).then((function(t){console.log(t);t.pages;var a=t.current,n=t.records,r=t.size,i=t.total,s=a,c=r;e.pageData=Object(o["a"])(Object(o["a"])({},e.form),{},{currentPage:s,records:n,pageSize:c,total:i}),console.log(e.pageData),e.load=!1}))},del:function(e){var t=this;c["a"].delDoc(e.id).then((function(e){e&&(t.$message.success("删除成功"),t.refreshTable())}))},edit:function(e){var t="";e=Object(o["a"])(Object(o["a"])({},e),{},{platformName:t});var a,n=Object(i["a"])(this.platform);try{for(n.s();!(a=n.n()).done;){var r=a.value;r.value==e.platformId&&(e.platformName=r.name)}}catch(s){n.e(s)}finally{n.f()}this.$router.push({name:"editBuild",query:{res:JSON.stringify(e),type:"edit"}})},detail:function(e){this.$router.push({name:"helpDetail",query:{record:JSON.stringify(e),type:"detail"}})},onQuery:function(){this.pageFilter.currentPage=1,console.log(this.pageFilter),this.refreshTable()},onTableChange:function(e){this.pageFilter=Object(o["a"])(Object(o["a"])({},this.pageFilter),e),console.log(this.pageFilter),this.refreshTable()},onResetForm:function(){this.pageFilter={pageSize:10,currentPage:1},this.refreshTable()},add:function(){this.$router.push({path:"/help/newlyBuild",query:{type:"add"}})},getPlatform:function(){var e=this;l["a"].get_typeName({majorKey:"PLATFORM_TYPE"}).then((function(t){e.platform=t}))}}},p=d,h=(a("ac27"),a("2877")),f=Object(h["a"])(p,n,r,!1,null,"19e6b240",null);t["default"]=f.exports},"80d8":function(e,t,a){},"8cc5":function(e,t,a){"use strict";var n=a("d41e"),r=a.n(n);r.a},ac27:function(e,t,a){"use strict";var n=a("80d8"),r=a.n(n);r.a},b85c:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("a4d3"),a("e01a"),a("d28b"),a("d3b7"),a("3ca3"),a("ddb0");var n=a("06c5");function r(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=Object(n["a"])(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==a["return"]||a["return"]()}finally{if(c)throw o}}}}},d41e:function(e,t,a){},d99e:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-wrapper"},[a("div",[a("a-row",{attrs:{gutter:56}},[e._t("default"),a("buttonBox",{style:e.advanced?{float:"right"}:{},on:{toggleAdvanced:e.toggleAdvanced,query:e.query,reset:e.reset}})],2)],1)])},r=[],i=(a("a9e3"),a("5530")),o={name:"SearchListItem",props:{label:{type:String,default:"",required:!1}},inject:{col:{type:Number}},render:function(){var e=arguments[0];return e("a-col",{class:"item-box",props:Object(i["a"])({},c[this.col])},[e("div",{class:"y-search-item"},[e("div",{class:"y-search-label"},[this.$props.label]),e("div",{class:"y-search-content"},[this.$slots.default])])])}},s={name:"buttonBox",data:function(){return{advanced:!1}},inject:{col:{type:Number}},methods:{toggleAdvanced:function(){this.advanced=!this.advanced,this.$emit("toggleAdvanced")},query:function(){this.$emit("query")},reset:function(){this.$emit("reset")}},render:function(){var e=arguments[0];return e("a-col",{props:Object(i["a"])({},c[this.col])},[e("span",{class:"table-page-search-submitButtons",style:"float: 'left', overflow: 'hidden'"},[e("a-button",{attrs:{type:"primary"},on:{click:this.query}},["查询"]),e("a-button",{style:"margin-left: 8px",on:{click:this.reset}},["重置"]),e("a",{attrs:{id:"advance-btn"},style:"margin-left: 8px",on:{click:this.toggleAdvanced}},[this.advanced?"收起":"展开",e("a-icon",{props:Object(i["a"])({},{type:this.advanced?"up":"down"})})])])])}},c={1:{xs:24},2:{xs:24,sm:12},3:{xs:24,sm:12,md:8},4:{md:24,lg:12,xl:8,xxl:6}},l={name:"SearchForm",Item:o,components:{buttonBox:s},props:{col:{type:Number,required:!1,default:6}},provide:function(){return{col:this.col>4?4:this.col}},data:function(){return{advanced:!1,toplist:[],bottomList:[]}},methods:{toggleAdvanced:function(){this.advanced=!this.advanced,this.displayItem()},query:function(){this.$emit("query")},reset:function(){this.$emit("reset")},displayItem:function(){var e=this.$slots.default,t=this.col,a=e.length;if(a<t)document.getElementById("advance-btn").style.display="none";else for(var n=t-1;n<a;n++)e[n].elm.style.display=this.advanced?"":"none"}},mounted:function(){this.displayItem()}},u=l,d=(a("8cc5"),a("2877")),p=Object(d["a"])(u,n,r,!1,null,"359e9f37",null),h=p.exports;t["a"]=h},f2d1:function(e,t,a){"use strict";var n=a("b775");t["a"]={addDoc:function(e){return Object(n["a"])({url:"notice-help-service/sjsk/help/add",method:"POST",data:e})},getDocList:function(e){return Object(n["a"])({url:"notice-help-service/sjsk/help/getList",method:"POST",data:e})},delDoc:function(e){return Object(n["a"])({url:"notice-help-service/sjsk/help/delete/",params:{id:e},method:"POST"})},updateDoc:function(e){return Object(n["a"])({url:"notice-help-service/sjsk/help/update",data:e,method:"POST"})}}}}]);