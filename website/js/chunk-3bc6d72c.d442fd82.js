(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3bc6d72c","chunk-2d20fb72","chunk-2d0ba89c","chunk-2d0ab10a","chunk-2d21a58c","chunk-2d2306a3"],{"095b":function(t,a,e){"use strict";e("4160"),e("159b");var i=e("cc33"),s=e("d99e"),r=e("07cc"),n=e("007b"),o=e("1f84"),c=e("c1df"),l=e.n(c),h=e("16fe"),u=s["a"].Item,d={name:"Index",components:{SearchForm:s["a"],SearchFormItem:u,AnalysisCard:r["default"]},data:function(){return{rangePickerTime:[],areaModel:[],areaArray:[],options:[],form:{departmentId:null,endTime:"",startTime:"",sjskType:"",timeType:""},tabPosition1:"1",tabPosition:"1",dateFormat:"YYYY/MM/DD",PersonNumber1:"--",PersonNumber2:"--",PersonNumber3:"--",PersonNumber4:"--",PersonNumber5:"--",UrinalysisStatisticsData:[],TreatmentStatisticsData:[],BreachAgreementCountData:[],AbnormalNumberCountData:[],DrugTreatmentRehabilitationSQData:[]}},created:function(){var t={deptKey:1};this.getArea(t),this.initParam(),this.getPersonNumber(this.form),this.getUrinalysisStatistics(this.form),this.getTreatmentStatistics(this.form),this.getBreachAgreementCount(this.form),this.getAbnormalNumberCount(this.form),this.getDrugTreatmentRehabilitationSQ(this.form),this.getInstitutionCount1(),this.getMedicineNum1()},mounted:function(){},computed:{},methods:{initParam:function(){this.form.departmentId=Object(i["f"])().mainDeptId,this.areaModel=[this.form.departmentId],this.form.sjskType="",this.form.timeType=4;var t=Object(h["getTime"])();this.form.startTime=t,this.form.endTime=t,this.rangePickerTime=[l()(t,this.dateFormat),l()(t,this.dateFormat)],console.log("默认参数",this.form)},getArea:function(t){var a=this;n["a"].getDepartmentTree(t).then((function(t){null!==t&&(a.areaArray=t.data,a.areaArray.forEach((function(t,e){a.options.push({value:t.key,label:t.title,children:[]}),console.log("地址",a.areaArray,a.options),t.children&&0!==t.children.length&&t.children.forEach((function(t,i){a.options[e].children.push({value:t.key,label:t.title,children:[]}),t.children&&0!==t.children.length&&t.children.forEach((function(t,s){a.options[e].children[i].children.push({value:t.key,label:t.title,children:[]}),t.children&&t.children.length&&t.children.forEach((function(r,n){a.options[e].children[i].children[s].children.push({value:r.key,label:r.title,children:[]}),r.children&&r.children.length&&r.children.forEach((function(r,o){a.options[e].children[i].children[s].children[n].children.push({value:r.key,label:r.title,children:[]}),r.children&&r.children.length&&t.children.forEach((function(t){a.options[e].children[i].children[s].children[n].children[o].children.push({value:t.key,label:t.title,children:[]})}))}))}))}))}))})))})).catch((function(){}))},onAreaChange:function(t){this.form.departmentId=t[t.length-1],console.log(t[0],this.form.departmentId)},rangePickerChange:function(t){var a=t[0]["_d"].getMonth()+1>=10?t[0]["_d"].getMonth()+1:"0"+(t[0]["_d"].getMonth()+1),e=t[1]["_d"].getMonth()+1>=10?t[1]["_d"].getMonth()+1:"0"+(t[1]["_d"].getMonth()+1),i=t[0]["_d"].getDate()>=10?t[0]["_d"].getDate():"0"+t[0]["_d"].getDate(),s=t[1]["_d"].getDate()>=10?t[1]["_d"].getDate():"0"+t[1]["_d"].getDate();this.form.startTime=t[0]["_d"].getFullYear()+"-"+a+"-"+i,this.form.endTime=t[1]["_d"].getFullYear()+"-"+e+"-"+s},getPersonNumber:function(t){var a=this,e=Object.assign({},t);o["a"].getPersonNumber(e).then((function(t){if(null!==t){var e=t.data;console.log("各种人数统计",e),e.forEach((function(t){switch(t.typeName){case"今日尿检人数":a.PersonNumber1=null!=t.data?t.data:"--";break;case"终止/中止人数":a.PersonNumber4=null!=t.data?t.data:"--";break;case"超/严人数":a.PersonNumber5=null!=t.data?t.data:"--";break}}))}})).catch((function(){}))},getInstitutionCount1:function(){var t=this;o["a"].getInstitutionCount().then((function(a){if(null!==a){var e=a.data;t.PersonNumber3=null!=e?e:"--"}})).catch((function(){}))},getMedicineNum1:function(){var t=this,a=new Date,e=a.getMonth()+1,i=a.getFullYear()+"-"+e+"-"+a.getDate();console.log("时间",i),o["a"].getMedicineNum(i).then((function(a){if(null!==a){var e=a.data[0];t.PersonNumber2=null!=e?e:"--"}})).catch((function(){}))},getUrinalysisStatistics:function(t){var a=this,e=Object.assign({},t);o["a"].getUrinalysisStatistics(e).then((function(t){var e=[],i=[],s=[],r=[];if(null!==t){var n=t.data;a.UrinalysisStatisticsData=t.data,0!==n.length&&(n.forEach((function(t){e.push(a.getRealLength(t.urinalysisLocation,5)),r.push(t.urinalysisLocation),i.push(t.actualUrinalysisNum),s.push(t.shouldUrinalysisNum)})),a.Charts1(e,i,s,r))}}))},getTreatmentStatistics:function(t){var a=this,e=Object.assign({},t),i=[],s=[];this.TreatmentStatisticsData=[],o["a"].getTreatmentStatistics(e).then((function(t){if(null!==t){var e=t.data;a.TreatmentStatisticsData=t.data,0!==e.length&&(e.forEach((function(t){i.push(t.areaName),s.push(t.ratio)})),a.Charts2(i,s))}}))},getpsychotherapyRate:function(t){var a=this,e=Object.assign({},t),i=[],s=[];this.TreatmentStatisticsData=[],o["a"].getTreatmentStatistics(e).then((function(t){if(null!==t){var e=t.data;a.TreatmentStatisticsData=t.data,0!==e.length&&(e.forEach((function(t){i.push(t.areaName),s.push(t.ratio)})),a.Charts2(i,s))}}))},onRadioChange:function(t){"1"===this.tabPosition?this.getTreatmentStatistics(this.form):this.getpsychotherapyRate(this.form)},getBreachAgreementCount:function(t){var a=this,e=Object.assign({},t),i=[],s=[],r=[],n=[],c=[],l=[],h=[],u=[],d=[];this.BreachAgreementCountData=[],o["a"].getBreachAgreementCount(e).then((function(t){if(null!==t){var e=t.data;a.BreachAgreementCountData=t.data,0!==a.BreachAgreementCountData.length&&(e.forEach((function(t){switch(s.push(t.date),i.push(t.typeName),t.type){case 1:r.push(t.count);break;case 2:n.push(t.count);break;case 3:c.push(t.count);break;case 4:l.push(t.count);break;case 5:h.push(t.count);break;case 6:u.push(t.count);break}})),i.forEach((function(t,e){a.data.push({name:t,type:"line",data:d+e})})),a.Charts3(i,s,d))}}))},getAbnormalNumberCount:function(t){var a=this,e=[],i=[],s=[];this.AbnormalNumberCountData=[];var r=Object.assign({},t);r.abnormalType=this.tabPosition1,o["a"].getAbnormalNumber(r).then((function(t){if(null!==t){var r=t.data;a.AbnormalNumberCountData=t.data,0!==a.AbnormalNumberCountData.length&&(r.forEach((function(t){e.push(a.getRealLength(t.areaName,5)),s.push(t.areaName),i.push(t.count)})),a.Charts4(e,i,s))}}))},onRadioChange1:function(t){this.getAbnormalNumberCount(this.form)},getDrugTreatmentRehabilitationSQ:function(t){var a=this,e=Object.assign({},t);this.DrugTreatmentRehabilitationSQData=[];var i=[],s=[];o["a"].getDrugTreatmentRehabilitationSQ(e).then((function(t){if(null!==t){var e=t.data;a.DrugTreatmentRehabilitationSQData=t.data,0!==a.DrugTreatmentRehabilitationSQData.length&&(e.forEach((function(t){i.push(t.date),s.push(t.count)})),a.Charts5(i,s))}}))},onQuery:function(){this.getPersonNumber(this.form),this.getUrinalysisStatistics(this.form),this.getTreatmentStatistics(this.form),this.getBreachAgreementCount(this.form),this.getAbnormalNumberCount(this.form),this.getDrugTreatmentRehabilitationSQ(this.form),this.getInstitutionCount1(),this.getMedicineNum1()},onResetForm:function(){this.initParam()},radioOnChange:function(t){console.log(t.target.value)},getRealLength:function(t,a){var e,i=t.length,s=0,r="";if(i<=a)return t;for(var n=0;n<i;n++)if(e=t.charCodeAt(n),s+=e>=0&&e<=128?.5:1,s>=a){r=t.substring(0,n-1)+"...";break}return s<a&&(r=t),r},Charts1:function(t,a,e,i){var s=this.$echarts.init(document.getElementById("echarts1")),r=["应尿检人数","实际尿检人数"],n=[{name:"应尿检人数",type:"bar",barWidth:25,barCategoryGap:0,data:e,label:{normal:{show:!0,position:"top",fontSize:10,color:"#000"}}},{name:"实际尿检人数",type:"bar",barWidth:25,barGap:"-3%",barCategoryGap:0,data:a,label:{normal:{show:!0,position:"top",fontSize:10,color:"#000"}}}];Object(h["drawBar2Echarts"])(s,r,t,n,i)},Charts2:function(t,a){var e=this.$echarts.init(document.getElementById("echarts2"));Object(h["drawBarEcharts"])(e,t,a)},Charts3:function(t,a,e){var i=this.$echarts.init(document.getElementById("echarts3"));Object(h["drawLineEcharts"])(i,t,a,e)},Charts4:function(t,a,e){var i=this.$echarts.init(document.getElementById("echarts4"));Object(h["drawBarEcharts_xdata_format"])(i,t,a,"",e)},Charts5:function(t,a){var e=this.$echarts.init(document.getElementById("echarts5")),i=[""];Object(h["drawLine2Echarts"])(e,i,t,a)}}};a["a"]=d},"144e":function(t,a,e){t.exports=e.p+"img/g3.fdb4467a.png"},3845:function(t,a,e){t.exports=e.p+"img/g2.dc98a523.png"},"5e18":function(t,a,e){},8300:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("PageView",[i("SplitLayout",{attrs:{contentBg:"#f0f2f5",contentPadding:"20PX 0"}},[i("div",{attrs:{slot:"top"},slot:"top"},[i("SearchForm",{on:{query:t.onQuery,reset:t.onResetForm}},[i("SearchFormItem",{staticStyle:{width:"40%"},attrs:{label:"选择地区:"}},[i("a-cascader",{attrs:{options:t.options,"change-on-select":"",placeholder:"请选择地区"},on:{change:t.onAreaChange},model:{value:t.areaModel,callback:function(a){t.areaModel=a},expression:"areaModel"}})],1),i("SearchFormItem",{staticStyle:{width:"41.5%"},attrs:{label:"选择人员类型:"}},[i("a-select",{staticStyle:{width:"100%"},attrs:{defaulValue:""},model:{value:t.form.sjskType,callback:function(a){t.$set(t.form,"sjskType",a)},expression:"form.sjskType"}},[i("a-select-option",{attrs:{value:""}},[t._v("全部")]),i("a-select-option",{attrs:{value:"1"}},[t._v("社戒人员")]),i("a-select-option",{attrs:{value:"2"}},[t._v("社康人员")])],1)],1),i("SearchFormItem",{staticStyle:{width:"100%"},attrs:{label:"选择统计时间:"}},[i("a-radio-group",{attrs:{name:"radioGroup","default-value":1},model:{value:t.form.timeType,callback:function(a){t.$set(t.form,"timeType",a)},expression:"form.timeType"}},[i("a-radio",{attrs:{value:1}},[t._v(" 年 ")]),i("a-radio",{attrs:{value:2}},[t._v(" 季度 ")]),i("a-radio",{attrs:{value:3}},[t._v(" 月 ")]),i("a-radio",{attrs:{value:4}},[t._v(" 自定义 ")])],1),i("a-range-picker",{attrs:{"default-value":[t.moment("2020/01/01",t.dateFormat),t.moment("2020/01/01",t.dateFormat)],format:t.dateFormat},on:{change:t.rangePickerChange},model:{value:t.rangePickerTime,callback:function(a){t.rangePickerTime=a},expression:"rangePickerTime"}})],1)],1)],1),i("div",[i("a-row",{attrs:{gutter:[16,16]}},[i("a-col",{staticClass:"gutter-row",attrs:{span:24}},[i("div",{staticClass:"gutter-box two-gutter-box"},[i("div",{staticClass:"data-wrap two-wrap"},[i("div",{staticClass:"item-wrap two-item-wrap"},[i("div",{staticClass:"one-item-left"},[i("p",{staticClass:"text"},[t._v("今日尿检人数")]),i("p",{staticClass:"num"},[t._v(t._s(t.PersonNumber1))])]),i("div",{staticClass:"one-item-right"},[i("img",{attrs:{src:e("b58a"),alt:""}})])]),i("div",{staticClass:"item-wrap two-item-wrap"},[i("div",{staticClass:"one-item-left"},[i("p",{staticClass:"text"},[t._v("今日服药人数")]),i("p",{staticClass:"num"},[t._v(t._s(t.PersonNumber2))])]),i("div",{staticClass:"one-item-right"},[i("img",{attrs:{src:e("3845"),alt:""}})])]),i("div",{staticClass:"item-wrap two-item-wrap"},[i("div",{staticClass:"one-item-left"},[i("p",{staticClass:"text"},[t._v("今日心理治疗人数")]),i("p",{staticClass:"num"},[t._v(t._s(t.PersonNumber3))])]),i("div",{staticClass:"one-item-right"},[i("img",{attrs:{src:e("144e"),alt:""}})])]),i("div",{staticClass:"item-wrap two-item-wrap"},[i("div",{staticClass:"one-item-left"},[i("p",{staticClass:"text"},[t._v("终止/中止人数")]),i("p",{staticClass:"num"},[t._v(t._s(t.PersonNumber4))])]),i("div",{staticClass:"one-item-right"},[i("img",{attrs:{src:e("bab9"),alt:""}})])]),i("div",{staticClass:"item-wrap two-item-wrap"},[i("div",{staticClass:"one-item-left"},[i("p",{staticClass:"text"},[t._v("超/严人数")]),i("p",{staticClass:"num"},[t._v(t._s(t.PersonNumber5))])]),i("div",{staticClass:"one-item-right"},[i("img",{attrs:{src:e("ebd4"),alt:""}})])])])])])],1),i("a-row",{attrs:{gutter:[16,16]}},[i("a-col",{staticClass:"gutter-row",attrs:{span:24}},[i("div",{staticClass:"gutter-box"},[i("AnalysisCard",{attrs:{label:"尿检情况统计"}},[i("div",{staticClass:"echarts",attrs:{id:"echarts1"}},[0===t.UrinalysisStatisticsData.length?i("div",{staticClass:"no-data"},[t._v("暂无数据")]):t._e()])])],1)])],1),i("a-row",{attrs:{gutter:[16,16]}},[i("a-col",{staticClass:"gutter-row",attrs:{span:24}},[i("div",{staticClass:"gutter-box gutter-box-wrap"},[i("div",{staticClass:"radio-wrap"},[i("a-radio-group",{staticStyle:{margin:"8px"},on:{change:t.onRadioChange},model:{value:t.tabPosition,callback:function(a){t.tabPosition=a},expression:"tabPosition"}},[i("a-radio-button",{attrs:{value:"1"}},[t._v(" 服药率 ")]),i("a-radio-button",{attrs:{value:"2"}},[t._v(" 心理治疗率 ")])],1)],1),i("AnalysisCard",{attrs:{label:"治疗状况统计"}},[i("div",{staticClass:"echarts",attrs:{id:"echarts2"}},[0===t.TreatmentStatisticsData.length?i("div",{staticClass:"no-data"},[t._v("暂无数据")]):t._e()])])],1)])],1),i("a-row",{attrs:{gutter:[16,16]}},[i("a-col",{staticClass:"gutter-row",attrs:{span:24}},[i("div",{staticClass:"gutter-box"},[i("AnalysisCard",{attrs:{label:"疑似违反协议统计"}},[i("div",{staticClass:"echarts",attrs:{id:"echarts3"}},[0===t.BreachAgreementCountData.length?i("div",{staticClass:"no-data"},[t._v("暂无数据")]):t._e()])])],1)])],1),i("a-row",{attrs:{gutter:[16,16]}},[i("a-col",{staticClass:"gutter-row",attrs:{span:24}},[i("div",{staticClass:"gutter-box gutter-box-wrap"},[i("div",{staticClass:"radio-wrap"},[i("a-radio-group",{staticStyle:{margin:"8px"},on:{change:t.onRadioChange1},model:{value:t.tabPosition1,callback:function(a){t.tabPosition1=a},expression:"tabPosition1"}},[i("a-radio-button",{attrs:{value:"1"}},[t._v(" 终止/中止人数 ")]),i("a-radio-button",{attrs:{value:"2"}},[t._v(" 超/严人数 ")])],1)],1),i("AnalysisCard",{attrs:{label:"异常人数分布"}},[i("div",{staticClass:"echarts",attrs:{id:"echarts4"}},[0===t.AbnormalNumberCountData.length?i("div",{staticClass:"no-data"},[t._v("暂无数据")]):t._e()])])],1)])],1),i("a-row",{attrs:{gutter:[16,16]}},[i("a-col",{staticClass:"gutter-row",attrs:{span:24}},[i("div",{staticClass:"gutter-box"},[i("AnalysisCard",{attrs:{label:"脱毒人数变化趋势"}},[i("div",{staticClass:"echarts",attrs:{id:"echarts5"}},[0===t.DrugTreatmentRehabilitationSQData.length?i("div",{staticClass:"no-data"},[t._v("暂无数据")]):t._e()])])],1)])],1)],1)])],1)},s=[],r=e("095b"),n=(e("8dac"),e("2877")),o=Object(n["a"])(r["a"],i,s,!1,null,"234357c7",null);a["default"]=o.exports},"8dac":function(t,a,e){"use strict";var i=e("5e18"),s=e.n(i);s.a},b58a:function(t,a,e){t.exports=e.p+"img/g1.d391e5da.png"},bab9:function(t,a,e){t.exports=e.p+"img/g4.a3fc8a1d.png"},ebd4:function(t,a,e){t.exports=e.p+"img/g5.6c22eeca.png"}}]);