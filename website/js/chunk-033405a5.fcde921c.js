(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-033405a5"],{"05de":function(t,e,a){},5613:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{ref:"modal",attrs:{title:t.title},on:{ok:t.submit}},[a("div",{staticClass:"add-user"},[a("a-row",{staticClass:"item-row"},["add"===t.type?a("a-col",{staticClass:"explain",attrs:{span:24}},[t._v("说明：新添加的角色会与用户的原有角色进行合并")]):t._e(),"copy"===t.type?a("a-col",{staticClass:"explain",attrs:{span:24}},[t._v("说明：复制的角色将覆盖员工原有角色，CRM管理员角色不复制")]):t._e()],1),a("a-row",{staticClass:"item-row"},[a("SelectUser",{attrs:{multiple:!0,placeholder:"请选择用户"}})],1),a("a-row",{staticClass:"item-row"},[a("a-col",{staticClass:"item-subhead",attrs:{span:24}},[t._v("用户角色配置：")])],1),a("a-checkbox-group",{on:{change:t.onUserRoles},model:{value:t.userForm.roleIds,callback:function(e){t.$set(t.userForm,"roleIds",e)},expression:"userForm.roleIds"}},t._l(t.roleGroupData,(function(e,s){return a("a-row",{key:s,staticClass:"item-row"},[a("a-col",{staticClass:"item-title",attrs:{span:5}},[t._v(t._s(e.groupName)+"：")]),a("a-col",{attrs:{span:18}},t._l(e.roleInfoVOList,(function(e,s){return a("a-checkbox",{key:s,attrs:{value:e.id}},[t._v(" "+t._s(e.roleName)+" ")])})),1)],1)})),1),a("a-row",{staticClass:"item-row"},[a("a-col",{staticClass:"item-subhead",attrs:{span:24}},[t._v("主角色：")])],1),a("a-row",{staticClass:"item-row"},[a("a-col",{staticClass:"item-title",attrs:{span:5}},[t._v("主角色：")]),a("a-col",{attrs:{span:18}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"+选择主角色"},model:{value:t.userForm.majorRoleId,callback:function(e){t.$set(t.userForm,"majorRoleId",e)},expression:"userForm.majorRoleId"}},t._l(t.protagonistColorData,(function(e,s){return a("a-select-option",{key:s,attrs:{value:e.id}},[t._v(" "+t._s(e.roleName)+" ")])})),1)],1)],1),"add"===t.type?a("a-row",{staticClass:"item-row"},[a("a-col",{staticClass:"item-title",attrs:{span:5}}),a("a-col",{staticClass:"item-col-100",attrs:{span:18}},[a("a-checkbox",{model:{value:t.userForm.updateFlag,callback:function(e){t.$set(t.userForm,"updateFlag",e)},expression:"userForm.updateFlag"}},[t._v("已有主角色的用户和部门，不更新主角色")])],1)],1):t._e()],1)])},r=[],o=(a("d81d"),a("b0c0"),a("96cf"),a("1da1")),l=a("5530"),i=a("2f62"),n=a("86da"),c=a("a669"),u={components:{Modal:n["a"],SelectUser:c["a"]},data:function(){return{title:"添加用户",treeData:[],userForm:{majorRoleId:"",roleIds:[],updateFlag:!1,userIds:[]},protagonistColorData:[]}},props:{type:String,visible:Boolean},watch:{visible:function(){this.$refs.modal.visible=this.visible}},created:function(){console.log(1),this.getTreeData()},computed:Object(l["a"])({},Object(i["d"])({pageData:function(t){return t.SysUser.pageData}})),methods:Object(l["a"])(Object(l["a"])({},Object(i["b"])({onPage:"SysUser/onPage"})),{},{getTreeData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.onPage(Object(l["a"])({},t.pageFilter));case 2:t.pageData.records.map((function(e){t.treeData.push({title:e.name,value:e.id,key:e.id})}));case 3:case"end":return e.stop()}}),e)})))()},modalShow:function(){this.userForm.majorRoleId="",this.userForm.roleIds=[],this.userForm.updateFlag=!1,this.userForm.userIds=[],this.type="add",this.onRoleGroupList()},submit:function(){}})},d=u,p=(a("bd16"),a("2877")),m=Object(p["a"])(d,s,r,!1,null,"4cd5e7e0",null);e["default"]=m.exports},bd16:function(t,e,a){"use strict";var s=a("05de"),r=a.n(s);r.a}}]);