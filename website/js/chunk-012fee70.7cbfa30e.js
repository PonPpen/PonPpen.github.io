(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-012fee70"],{"8cc5":function(e,t,r){"use strict";var a=r("d41e"),s=r.n(a);s.a},"8d43":function(e,t,r){"use strict";var a=r("cd65"),s=r.n(a);s.a},cd65:function(e,t,r){},d41e:function(e,t,r){},d99e:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"search-wrapper"},[r("div",[r("a-row",{attrs:{gutter:56}},[e._t("default"),r("buttonBox",{style:e.advanced?{float:"right"}:{},on:{toggleAdvanced:e.toggleAdvanced,query:e.query,reset:e.reset}})],2)],1)])},s=[],o=(r("a9e3"),r("5530")),n={name:"SearchListItem",props:{label:{type:String,default:"",required:!1}},inject:{col:{type:Number}},render:function(){var e=arguments[0];return e("a-col",{class:"item-box",props:Object(o["a"])({},i[this.col])},[e("div",{class:"y-search-item"},[e("div",{class:"y-search-label"},[this.$props.label]),e("div",{class:"y-search-content"},[this.$slots.default])])])}},c={name:"buttonBox",data:function(){return{advanced:!1}},inject:{col:{type:Number}},methods:{toggleAdvanced:function(){this.advanced=!this.advanced,this.$emit("toggleAdvanced")},query:function(){this.$emit("query")},reset:function(){this.$emit("reset")}},render:function(){var e=arguments[0];return e("a-col",{props:Object(o["a"])({},i[this.col])},[e("span",{class:"table-page-search-submitButtons",style:"float: 'left', overflow: 'hidden'"},[e("a-button",{attrs:{type:"primary"},on:{click:this.query}},["查询"]),e("a-button",{style:"margin-left: 8px",on:{click:this.reset}},["重置"]),e("a",{attrs:{id:"advance-btn"},style:"margin-left: 8px",on:{click:this.toggleAdvanced}},[this.advanced?"收起":"展开",e("a-icon",{props:Object(o["a"])({},{type:this.advanced?"up":"down"})})])])])}},i={1:{xs:24},2:{xs:24,sm:12},3:{xs:24,sm:12,md:8},4:{md:24,lg:12,xl:8,xxl:6}},l={name:"SearchForm",Item:n,components:{buttonBox:c},props:{col:{type:Number,required:!1,default:6}},provide:function(){return{col:this.col>4?4:this.col}},data:function(){return{advanced:!1,toplist:[],bottomList:[]}},methods:{toggleAdvanced:function(){this.advanced=!this.advanced,this.displayItem()},query:function(){this.$emit("query")},reset:function(){this.$emit("reset")},displayItem:function(){var e=this.$slots.default,t=this.col,r=e.length;if(r<t)document.getElementById("advance-btn").style.display="none";else for(var a=t-1;a<r;a++)e[a].elm.style.display=this.advanced?"":"none"}},mounted:function(){this.displayItem()}},u=l,d=(r("8cc5"),r("2877")),p=Object(d["a"])(u,a,s,!1,null,"359e9f37",null),m=p.exports;t["a"]=m},fb3c:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("PageView",[r("SplitLayout",[r("div",{staticClass:"header-top",attrs:{slot:"top"},slot:"top"},[r("SearchForm",{on:{query:e.onQuery,reset:e.onResetForm}},[r("SearchFormItem",{attrs:{label:"请选择"}},[r("a-select",{staticStyle:{width:"100%"},attrs:{defaultValue:""},on:{change:e.changeRange},model:{value:e.form.searchType,callback:function(t){e.$set(e.form,"searchType",t)},expression:"form.searchType"}},[r("a-select-option",{attrs:{value:0}},[e._v("组名")]),r("a-select-option",{attrs:{value:1}},[e._v("组成员")])],1)],1),r("SearchFormItem",{attrs:{label:"请输入"}},[r("a-input",{attrs:{placeholder:e.placeholder},model:{value:e.form.keyWord,callback:function(t){e.$set(e.form,"keyWord",t)},expression:"form.keyWord"}})],1),r("SearchFormItem",{attrs:{label:"用户组状态"}},[r("a-select",{staticStyle:{width:"100%"},attrs:{defaultValue:""},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[r("a-select-option",{attrs:{value:""}},[e._v("全部")]),r("a-select-option",{attrs:{value:0}},[e._v("使用中")]),r("a-select-option",{attrs:{value:1}},[e._v("停用")])],1)],1)],1)],1),r("div",{staticClass:"add-but"},[r("a-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("新建")])],1),r("CustomTable",{ref:"table",attrs:{showAlert:!1,showSelection:!1,loading:e.loading.page,columns:e.columns,dataSource:e.pageData},on:{change:e.onTableChange},scopedSlots:e._u([{key:"status",fn:function(t){return[r("a-badge",{attrs:{status:0===t?"success":"error"}}),0===t?r("a",[e._v("使用中")]):e._e(),1===t?r("a",[e._v("停用")]):e._e()]}},{key:"action",fn:function(t){return[r("a",{staticStyle:{"margin-right":"16px"},on:{click:function(r){return e.edit(t)}}},[e._v("编辑")]),r("a",{on:{click:function(r){return e.onOff(t)}}},[e._v(" "+e._s(0===t.status?"停用":"启用")+" ")])]}}])}),r("Modal",{ref:"modal",attrs:{title:"add"===e.type?"添加用户组":"编辑用户组"},on:{ok:e.submit}},[r("div",{staticClass:"edit-user-group"},[r("a-row",{staticClass:"item-row"},[r("a-col",{staticClass:"item-title",attrs:{span:6}},[r("em",{staticStyle:{color:"#f00"}},[e._v("*")]),e._v("组名称：")]),r("a-col",{attrs:{span:14}},[r("a-input",{attrs:{placeholder:"请输入组名称"},model:{value:e.userGroupForm.groupName,callback:function(t){e.$set(e.userGroupForm,"groupName",t)},expression:"userGroupForm.groupName"}})],1)],1),r("a-row",{staticClass:"item-row"},[r("a-col",{staticClass:"item-title",attrs:{span:6}},[e._v("组用户：")]),r("a-col",{attrs:{span:14}},[r("SelectUser",{attrs:{multiple:!0},on:{change:e.onSelectTree},model:{value:e.userGroupForm.userIds,callback:function(t){e.$set(e.userGroupForm,"userIds",t)},expression:"userGroupForm.userIds"}})],1)],1),r("a-row",{staticClass:"item-row"},[r("a-col",{staticClass:"item-title",attrs:{span:6}},[e._v("备注信息：")]),r("a-col",{attrs:{span:14}},[r("a-textarea",{attrs:{placeholder:"请输入备注信息"},model:{value:e.userGroupForm.description,callback:function(t){e.$set(e.userGroupForm,"description",t)},expression:"userGroupForm.description"}})],1)],1)],1)])],1)],1)},s=[],o=(r("a4d3"),r("e01a"),r("d3b7"),r("96cf"),r("1da1")),n=r("5530"),c=r("2f62"),i=r("d99e"),l=r("bf11"),u=r("86da"),d=r("a669"),p=i["a"].Item,m={name:"UserGroup",components:{SearchForm:i["a"],SearchFormItem:p,CustomTable:l["a"],Modal:u["a"],SelectUser:d["a"]},data:function(){return{form:{searchType:0,keyWord:"",status:""},userGroupForm:{description:"",groupName:"",userIds:[]},columns:[{title:"组名",dataIndex:"groupName"},{title:"组成员",dataIndex:"groupUsername"},{title:"账号状态",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"操作",width:"150px",align:"center",scopedSlots:{customRender:"action"}}],pageFilter:{},placeholder:"请输入组名搜索",type:""}},created:function(){this.refreshTable()},mounted:function(){},computed:Object(n["a"])({},Object(c["d"])({loading:function(e){return e.SysUserGroupController.loading},pageData:function(e){return e.SysUserGroupController.pageData},detailData:function(e){return e.SysUserGroupController.detailData}})),methods:Object(n["a"])(Object(n["a"])({},Object(c["b"])({getPage:"SysUserGroupController/getPage",onUpdateStatus:"SysUserGroupController/onUpdateStatus",onDetail:"SysUserGroupController/onDetail",onUpdate:"SysUserGroupController/onUpdate",onAdd:"SysUserGroupController/onAdd"})),{},{changeRange:function(e){this.placeholder=0===e?"请输入组名搜索":"请输入组成员搜索"},refreshTable:function(){this.getPage(Object(n["a"])(Object(n["a"])({},this.form),this.pageFilter))},onTableChange:function(e){this.pageFilter=e,this.refreshTable()},onQuery:function(){this.pageFilter.currentPage=1,this.refreshTable()},onResetForm:function(){this.form={},this.refreshTable()},add:function(){this.type="add",this.$refs.modal.visible=!0,this.userGroupForm.description="",this.userGroupForm.groupName="",this.userGroupForm.userIds=[]},edit:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.type="edit",t.$refs.modal.visible=!0,t.userGroupForm.description="",t.userGroupForm.groupName="",t.userGroupForm.userIds=[],r.next=7,t.onDetail(e.id);case 7:t.userGroupForm=Object.assign({},t.detailData);case 8:case"end":return r.stop()}}),r)})))()},onSelectTree:function(e){this.userGroupForm.userIds=e},onOff:function(e){this.$createElement;var t=0===e.status?"停用":"启用",r=this;this.$confirm({content:function(r){return r("div",["确认",t,r("span",{style:"color:#f00;"},[e.groupUsername]),"账号状态"])},onOk:function(){return new Promise((function(a,s){r.onUpdateStatus({id:e.id,status:0===e.status?1:0}).then((function(){var a=(e.status,"".concat(t,"成功"));r.$message.success(a)})),r.refreshTable(),self.destroyAll()})).catch((function(){return console.log("Oops errors!")}))},onCancel:function(){console.log("Cancel")}})},submit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("add"!==e.type){t.next=5;break}return t.next=3,e.onAdd(e.userGroupForm);case 3:t.next=7;break;case 5:return t.next=7,e.onUpdate(e.userGroupForm);case 7:e.$refs.modal.visible=!1,e.refreshTable();case 9:case"end":return t.stop()}}),t)})))()}})},f=m,h=(r("8d43"),r("2877")),v=Object(h["a"])(f,a,s,!1,null,"4d79e286",null);t["default"]=v.exports}}]);