(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60ded84e"],{"1c5e":function(e,t,a){"use strict";var r=a("6040"),s=a.n(r);s.a},"27ad":function(e,t,a){"use strict";var r=a("c187"),s=a.n(r);s.a},"3ba9":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form-model",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-row",[a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"是否参加过职业培训：",prop:"jobTrain"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择是否参加过职业培训"},model:{value:e.form.jobTrain,callback:function(t){e.$set(e.form,"jobTrain",t)},expression:"form.jobTrain"}},[a("a-select-option",{attrs:{value:1}},[e._v("是")]),a("a-select-option",{attrs:{value:2}},[e._v("否")])],1)],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"特长技能：",prop:"apecialSkills"}},[a("a-input",{attrs:{placeholder:"请输入特长技能"},model:{value:e.form.apecialSkills,callback:function(t){e.$set(e.form,"apecialSkills",t)},expression:"form.apecialSkills"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"近三年从事职业：",prop:"threeYearWork"}},[a("a-input",{attrs:{placeholder:"请输入从事职业"},model:{value:e.form.threeYearWork,callback:function(t){e.$set(e.form,"threeYearWork",t)},expression:"form.threeYearWork"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"工作单位：",prop:"workUnit"}},[a("a-input",{attrs:{placeholder:"请输入工作单位"},model:{value:e.form.workUnit,callback:function(t){e.$set(e.form,"workUnit",t)},expression:"form.workUnit"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"单位电话："}},[a("a-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入单位电话"},model:{value:e.form.workPhone,callback:function(t){e.$set(e.form,"workPhone",t)},expression:"form.workPhone"}})],1)],1)],1),a("a-row",[a("p",[e._v("获得证书情况：")]),a("div",{staticClass:"top-bnt"},[a("a-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary"},on:{click:e.onAdd}},[e._v("新建")])],1),a("CustomTable",{ref:"table",attrs:{showAlert:!1,showSelection:!1,columns:e.columns,dataSource:e.form.certificateList},scopedSlots:e._u([{key:"order",fn:function(t,a,r){return[e._v(" "+e._s(r+1)+" ")]}},{key:"obtainDate",fn:function(t){return[e._v(" "+e._s(e.moment(t).format("YYYY-MM-DD"))+" ")]}},{key:"relativesRelation",fn:function(t){return[1==t?a("span",[e._v("夫妻")]):e._e()]}},{key:"action",fn:function(t,r,s){return[a("a",{staticStyle:{"margin-right":"16px"},on:{click:function(t){return e.onEdit(r,s)}}},[e._v("编辑")]),a("a",{staticStyle:{"margin-right":"16px"},on:{click:function(t){return e.onDelete(s)}}},[e._v("删除")])]}}])})],1),a("a-row",{staticStyle:{"margin-top":"40px"}},[a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"个人简历",prop:"resume"}},[a("a-textarea",{attrs:{placeholder:"请输入个人简历",rows:4},model:{value:e.form.resume,callback:function(t){e.$set(e.form,"resume",t)},expression:"form.resume"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"备注",prop:"remark"}},[a("a-textarea",{attrs:{placeholder:"请输入备注",rows:4},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1)],1),a("Modal",{ref:"modal",attrs:{title:"新增获得证书",width:e.modalWidth},on:{ok:e.okHandler}},[a("a-form-model",{ref:"ruleForm1",attrs:{form:e.form1,model:e.form1,rules:e.rules1,labelCol:{span:8},wrapperCol:{span:15}}},[a("a-form-model-item",{attrs:{label:"获得证书名称",prop:"certificateName"}},[a("a-input",{attrs:{placeholder:"请输入获得证书名称"},model:{value:e.form1.certificateName,callback:function(t){e.$set(e.form1,"certificateName",t)},expression:"form1.certificateName"}})],1),a("a-form-model-item",{attrs:{label:"获得证书时间",prop:"obtainDate"}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD HH:mm:ss",placeholder:"请选择获得证书时间","show-time":"",type:"date"},model:{value:e.form1.obtainDate,callback:function(t){e.$set(e.form1,"obtainDate",t)},expression:"form1.obtainDate"}})],1)],1)],1)],1)},s=[],o=(a("a434"),a("b64b"),a("bf11")),i=a("86da"),n=a("0f18"),l=a("cc33"),c={components:{CustomTable:o["a"],Modal:i["a"]},data:function(){return{labelCol:{span:24},wrapperCol:{span:20},form:{jobTrain:"",apecialSkills:"",threeYearWork:"",certificateList:[],resume:"",remark:""},rules:n["default"].rules4,columns:[{title:"序号",dataIndex:"order",scopedSlots:{customRender:"order"}},{title:"获得证书名",dataIndex:"certificateName",align:"center"},{title:"获得证书日期",dataIndex:"obtainDate",scopedSlots:{customRender:"obtainDate"},align:"center"},{title:"操作",width:"200",align:"center",scopedSlots:{customRender:"action"}}],pageData:[],form1:{certificateName:"",obtainDate:""},rules1:{certificateName:[{required:!0,message:"请输入获得证书名称"}],obtainDate:[{required:!0,message:"请选择获得证书日期"}]},isAdd:!0,editIndex:0,modalWidth:500}},methods:{onAdd:function(){for(var e in this.$refs.modal.show(),this.isAdd=!0,this.form1)this.form1[e]=void 0},onEdit:function(e,t){this.editIndex=t,this.isAdd=!1,this.$refs.modal.show(),this.form1=e},onDelete:function(e){this.form.certificateList.splice(e,1),this.setLsPage()},setLsPage:function(){Object(l["h"])("personnelPage4",this.form)},getLsPage:function(){var e=Object(l["b"])("personnelPage4");return null!==e&&Object.keys(e).length>0&&(this.form=e),e},setPageLSNull:function(){Object(l["h"])("personnelPage4",{})},okHandler:function(){var e=this;this.$refs.ruleForm1.validate((function(t){if(!t)return!1;var a=Object.assign({},e.form1);e.isAdd?e.form.certificateList.push(a):e.form.certificateList[e.editIndex]=a,e.setLsPage(),e.$refs.modal.close()}))},onValidate:function(){var e=!1;return this.$refs.ruleForm.validate((function(t){e=!!t})),e}}},u=c,d=(a("89f9"),a("2877")),m=Object(d["a"])(u,r,s,!1,null,"fc805c00",null);t["default"]=m.exports},5748:function(e,t,a){},6040:function(e,t,a){},"67e7":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form-model",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-row",{staticStyle:{"max-width":"1200px"}},[a("a-col",{attrs:{span:10}},[a("a-form-model-item",{attrs:{label:"是否有疾病",prop:"disease"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择是否有疾病"},model:{value:e.form.disease,callback:function(t){e.$set(e.form,"disease",t)},expression:"form.disease"}},[a("a-select-option",{attrs:{value:1}},[e._v("是")]),a("a-select-option",{attrs:{value:2}},[e._v("否")])],1)],1)],1),e.isDisabled1?a("a-col",{attrs:{span:10}},[a("a-form-model-item",{attrs:{label:"疾病类型",prop:"diseaseType"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择疾病类型"},model:{value:e.form.diseaseType,callback:function(t){e.$set(e.form,"diseaseType",t)},expression:"form.diseaseType"}},[a("a-select-option",{attrs:{value:1}},[e._v("艾滋病")]),a("a-select-option",{attrs:{value:2}},[e._v("精神病")]),a("a-select-option",{attrs:{value:3}},[e._v("普通疾病")]),a("a-select-option",{attrs:{value:4}},[e._v("严重疾病")]),a("a-select-option",{attrs:{value:5}},[e._v("传染性疾病")]),a("a-select-option",{attrs:{value:6}},[e._v("残疾")])],1)],1)],1):e._e(),a("a-col",{attrs:{span:10}},[a("a-form-model-item",{attrs:{label:"是否特殊人群",prop:"specialCrowd"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择是否特殊人群"},model:{value:e.form.specialCrowd,callback:function(t){e.$set(e.form,"specialCrowd",t)},expression:"form.specialCrowd"}},[a("a-select-option",{attrs:{value:1}},[e._v("是")]),a("a-select-option",{attrs:{value:2}},[e._v("否")])],1)],1)],1),e.isDisabled2?a("a-col",{attrs:{span:10}},[a("a-form-model-item",{attrs:{label:"特殊人群种类",prop:"specialCrowdType"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择特殊人群种类"},model:{value:e.form.specialCrowdType,callback:function(t){e.$set(e.form,"specialCrowdType",t)},expression:"form.specialCrowdType"}},[a("a-select-option",{attrs:{value:1}},[e._v("弱势群体")]),a("a-select-option",{attrs:{value:2}},[e._v("优抚对象")]),a("a-select-option",{attrs:{value:3}},[e._v("边缘人群")])],1)],1)],1):e._e(),a("a-col",{attrs:{span:10}},[a("a-form-model-item",{attrs:{label:"HIV检测结果"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择HIV检测结果"},model:{value:e.form.hivDetectResult,callback:function(t){e.$set(e.form,"hivDetectResult",t)},expression:"form.hivDetectResult"}},[a("a-select-option",{attrs:{value:1}},[e._v("阴性")]),a("a-select-option",{attrs:{value:2}},[e._v("阳性")])],1)],1)],1),a("a-col",{attrs:{span:10}},[a("a-form-model-item",{attrs:{label:"HCV检测结果"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择HCV检测结果"},model:{value:e.form.hcvDetectResult,callback:function(t){e.$set(e.form,"hcvDetectResult",t)},expression:"form.hcvDetectResult"}},[a("a-select-option",{attrs:{value:1}},[e._v("阴性")]),a("a-select-option",{attrs:{value:2}},[e._v("阳性")])],1)],1)],1),a("a-col",{attrs:{span:10}},[a("a-form-model-item",{attrs:{label:"TB检测结果"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择TB检测结果"},model:{value:e.form.tbDetectResult,callback:function(t){e.$set(e.form,"tbDetectResult",t)},expression:"form.tbDetectResult"}},[a("a-select-option",{attrs:{value:1}},[e._v("阴性")]),a("a-select-option",{attrs:{value:2}},[e._v("阳性")])],1)],1)],1),a("a-col",{attrs:{span:10}},[a("a-form-model-item",{attrs:{label:"梅毒检测结果"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择梅毒检测结果"},model:{value:e.form.syphilisTestResult,callback:function(t){e.$set(e.form,"syphilisTestResult",t)},expression:"form.syphilisTestResult"}},[a("a-select-option",{attrs:{value:1}},[e._v("阴性")]),a("a-select-option",{attrs:{value:2}},[e._v("阳性")])],1)],1)],1),a("a-col",{attrs:{span:10}},[a("a-form-model-item",{attrs:{label:"是否死亡"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择是否死亡"},model:{value:e.form.die,callback:function(t){e.$set(e.form,"die",t)},expression:"form.die"}},[a("a-select-option",{attrs:{value:1}},[e._v("是")]),a("a-select-option",{attrs:{value:2}},[e._v("否")])],1)],1)],1),e.isDisabled3?a("a-col",{attrs:{span:10}},[a("a-form-model-item",{attrs:{label:"死亡时间"}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD HH:mm:ss",placeholder:"请选择死亡时间","show-time":"",type:"date"},model:{value:e.form.dieTime,callback:function(t){e.$set(e.form,"dieTime",t)},expression:"form.dieTime"}})],1)],1):e._e(),e.isDisabled3?a("a-col",{attrs:{span:10}},[a("a-form-model-item",{attrs:{label:"死亡信息来源"}},[a("a-input",{attrs:{placeholder:"请输入死亡信息来源"},model:{value:e.form.dieSourceInfo,callback:function(t){e.$set(e.form,"dieSourceInfo",t)},expression:"form.dieSourceInfo"}})],1)],1):e._e(),e.isDisabled3?a("a-col",{attrs:{span:10}},[a("a-form-model-item",{attrs:{label:"其它疾病死亡"}},[a("a-input",{attrs:{placeholder:"请输入其它疾病死亡"},model:{value:e.form.otherDiseaseDie,callback:function(t){e.$set(e.form,"otherDiseaseDie",t)},expression:"form.otherDiseaseDie"}})],1)],1):e._e(),e.isDisabled3?a("a-col",{attrs:{span:10}},[a("a-form-model-item",{attrs:{label:"其它疾病死亡信息来源"}},[a("a-input",{attrs:{placeholder:"请输入其它疾病死亡信息来源"},model:{value:e.form.otherDiseaseDieInfo,callback:function(t){e.$set(e.form,"otherDiseaseDieInfo",t)},expression:"form.otherDiseaseDieInfo"}})],1)],1):e._e(),a("a-col",{attrs:{span:10}},[a("a-form-model-item",{attrs:{label:"戒毒期间是否参加药物维持治疗",prop:"medicationMaintenanceTreatment"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.form.medicationMaintenanceTreatment,callback:function(t){e.$set(e.form,"medicationMaintenanceTreatment",t)},expression:"form.medicationMaintenanceTreatment"}},[a("a-select-option",{attrs:{value:1}},[e._v("是")]),a("a-select-option",{attrs:{value:2}},[e._v("否")])],1)],1)],1),a("a-col",{attrs:{span:10}},[a("a-form-model-item",{attrs:{label:"戒毒期间是否进入康复场所",prop:"rehabilitationPlace"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.form.rehabilitationPlace,callback:function(t){e.$set(e.form,"rehabilitationPlace",t)},expression:"form.rehabilitationPlace"}},[a("a-select-option",{attrs:{value:1}},[e._v("是")]),a("a-select-option",{attrs:{value:2}},[e._v("否")])],1)],1)],1)],1)],1)},s=[],o=(a("b64b"),a("0f18")),i=a("cc33"),n={data:function(){return{labelCol:{span:24},wrapperCol:{span:20},rules:o["default"].rules3,form:{disease:"",diseaseType:"",specialCrowd:"",specialCrowdType:"",hivDetectResult:"",hcvDetectResult:"",tbDetectResult:"",syphilisTestResult:"",die:"",dieTime:"",dieSourceInfo:"",otherDiseaseDie:"",otherDiseaseDieInfo:"",medicationMaintenanceTreatment:"",rehabilitationPlace:""}}},computed:{isDisabled1:function(){return 1===this.form.disease},isDisabled2:function(){return 1===this.form.specialCrowd},isDisabled3:function(){return 1===this.form.die}},watch:{isDisabled1:function(e){e||(this.form.diseaseType="")},isDisabled2:function(e){e||(this.form.specialCrowdType="")},isDisabled3:function(e){e||(this.form.dieTime="",this.form.dieSourceInfo="",this.form.otherDiseaseDie="",this.form.otherDiseaseDieInfo="")}},methods:{setLsPage:function(){Object(i["h"])("personnelPage3",this.form)},getLsPage:function(){var e=Object(i["b"])("personnelPage3");return null!==e&&Object.keys(e).length>0&&(this.form=e,""!==e.dieTime&&null!==e.dieTime&&(this.form.dieTime=this.moment(e.dieTime).format("YYYY-MM-DD HH:mm:ss")),0==e.diseaseType&&(this.form.diseaseType=""),0==e.specialCrowd&&(this.form.specialCrowd=""),0==e.specialCrowdType&&(this.form.specialCrowdType=""),0==e.hivDetectResult&&(this.form.hivDetectResult=""),0==e.hcvDetectResult&&(this.form.hcvDetectResult=""),0==e.tbDetectResult&&(this.form.tbDetectResult=""),0==e.syphilisTestResult&&(this.form.syphilisTestResult=""),0==e.die&&(this.form.die=""),0==e.medicationMaintenanceTreatment&&(this.form.medicationMaintenanceTreatment=""),0==e.rehabilitationPlace&&(this.form.rehabilitationPlace="")),e},setPageLSNull:function(){Object(i["h"])("personnelPage3",{})},onValidate:function(){var e=!1;return this.$refs.ruleForm.validate((function(t){e=!!t})),e}}},l=n,c=(a("27ad"),a("2877")),u=Object(c["a"])(l,r,s,!1,null,"40a461a8",null);t["default"]=u.exports},"7c15":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("PageView",[a("SplitLayout",[a("a-spin",{attrs:{spinning:e.loading}},[a("div",{staticClass:"con-content"},[a("div",{staticClass:"con-content-top"},[a("a-steps",{attrs:{current:e.current,size:"small"}},e._l(e.steps,(function(e){return a("a-step",{key:e.title,attrs:{title:e.title}})})),1)],1),a("div",{staticClass:"content-form"},[a("EssentialInformation",{directives:[{name:"show",rawName:"v-show",value:0===e.current,expression:"current === 0"}],ref:"essentialInformation",attrs:{isDisabled:e.isDisabled},on:{asyncBase64:e.getAsyncBase64}}),a("Family",{directives:[{name:"show",rawName:"v-show",value:1===e.current,expression:"current === 1"}],ref:"family",attrs:{isDisabled:e.isDisabled}}),a("Health",{directives:[{name:"show",rawName:"v-show",value:2===e.current,expression:"current === 2"}],ref:"health",attrs:{isDisabled:e.isDisabled}}),a("Employment",{directives:[{name:"show",rawName:"v-show",value:3===e.current,expression:"current === 3"}],ref:"employment",attrs:{isDisabled:e.isDisabled}}),a("DrugHistory",{directives:[{name:"show",rawName:"v-show",value:4===e.current,expression:"current === 4"}],ref:"drugHistory",attrs:{isDisabled:e.isDisabled}}),a("DrugHistory2",{directives:[{name:"show",rawName:"v-show",value:5===e.current,expression:"current === 5"}],ref:"drugHistory2",attrs:{isDisabled:e.isDisabled}}),a("DeviceStatus",{directives:[{name:"show",rawName:"v-show",value:6===e.current,expression:"current === 6"}],ref:"deviceStatus",attrs:{isDisabled:e.isDisabled}}),a("div",{staticClass:"steps-action"},[e.current<e.steps.length-1?a("a-button",{attrs:{type:"primary"},on:{click:e.next}},[e._v(" 下一步 ")]):e._e(),e.current>0?a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.prev}},[e._v(" 上一步 ")]):e._e(),"edit"===e.doStatue?a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.onEditSubmit}},[e._v(" 保存并退出 ")]):e._e(),"add"===e.doStatue&&6===e.current?a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v(" 保存并退出 ")]):e._e()],1)],1)])])],1)],1)},s=[],o=(a("99af"),a("4160"),a("c975"),a("b0c0"),a("d3b7"),a("25f0"),a("159b"),a("5530")),i=a("2909"),n=a("2f7c"),l=a("f336"),c=a("67e7"),u=a("3ba9"),d=a("7c63"),m=a("e244"),p=a("ea77"),f=a("385c"),h=a("cc33"),g={components:{EssentialInformation:n["default"],Family:l["default"],Health:c["default"],Employment:u["default"],DrugHistory:d["default"],DrugHistory2:m["default"],DeviceStatus:p["default"]},data:function(){return{current:0,steps:[{title:"填写基本信息"},{title:"家庭情况"},{title:"健康情况"},{title:"工作技能"},{title:"吸毒史(吸毒情况)"},{title:"吸毒史(复吸和自我评价)"},{title:"设备状况"}],params:{sjskPersonInfoVO:{},sjskFamilyVOList:[],healthConditionVO:{},workConditionVO:{},drugHistoryInfoVO:{},equipmentCondtionVO:{},drugHistoryVO:{}},loading:!1,departmentObj:{departmentId:JSON.parse(this.$route.query.params).departmentId,level:JSON.parse(this.$route.query.params).level},doStatue:JSON.parse(this.$route.query.params).doStatue,pid:JSON.parse(this.$route.query.params).id,pageId:JSON.parse(this.$route.query.params).pageId,inType:JSON.parse(this.$route.query.params).inType,isDisabled:!1,isEditSubmit:!1}},created:function(){"add"===this.doStatue?this.$route.meta.title="新增人员":this.$route.meta.title="编辑人员"},mounted:function(){"add"===this.doStatue&&(this.$refs.essentialInformation.getLsPage(),this.$refs.family.getLsPage(),this.$refs.health.getLsPage(),this.$refs.employment.getLsPage(),this.$refs.drugHistory.getLsPage(),this.$refs.drugHistory2.getLsPage(),this.$refs.deviceStatus.getLsPage()),"edit"===this.doStatue&&(this.current=this.pageId,this.getDetail(this.pid))},methods:{setPageLSNull:function(){Object(h["h"])("personnelPage1",{}),Object(h["h"])("personnelPage2",{}),Object(h["h"])("personnelPage3",{}),Object(h["h"])("personnelPage4",{}),Object(h["h"])("personnelPage5",{}),Object(h["h"])("personnelPage6",{}),Object(h["h"])("personnelPage7",{})},getDetail:function(e){var t=this;this.loading=!0,Object(f["f"])(e).then((function(e){t.loading=!1,Object(h["h"])("personnelPage1",e.sjskPerson),Object(h["h"])("personnelPage2",e.sjskFamilyList),Object(h["h"])("personnelPage3",e.healthCondition),Object(h["h"])("personnelPage4",e.workCondition);var a={type1:[],type2:[],type3:[],type4:[],type5:[],type6:[],type7:[],type8:[],type9:[]},r={keyData1:[],keyData2:[],keyData3:[],keyData4:[],keyData5:[],keyData6:[],keyData7:[],keyData8:[],keyData9:[]},s={type10:[],type11:[],type12:[],type13:[],type14:[],type15:[],type16:[]},n={keyData10:[],keyData11:[],keyData12:[],keyData13:[],keyData14:[],keyData15:[],keyData16:[]},l=e.drugHistory.drugHistoryKeywordList;l.length>0&&l.forEach((function(e){1===e.drugType&&(a.type1.push(e.value.toString()),r.keyData1.push(e)),2===e.drugType&&(a.type2.push(e.value.toString()),r.keyData2.push(e)),3===e.drugType&&(a.type3.push(e.value.toString()),r.keyData3.push(e)),4===e.drugType&&(a.type4.push(e.value.toString()),r.keyData4.push(e)),5===e.drugType&&(a.type5.push(e.value.toString()),r.keyData5.push(e)),6===e.drugType&&(a.type6.push(e.value.toString()),r.keyData6.push(e)),7===e.drugType&&(a.type7.push(e.value.toString()),r.keyData7.push(e)),8===e.drugType&&(a.type8.push(e.value.toString()),r.keyData8.push(e)),9===e.drugType&&(a.type9.push(e.value.toString()),r.keyData9.push(e)),10===e.drugType&&(s.type10.push(e.value.toString()),n.keyData10.push(e)),11===e.drugType&&(s.type11.push(e.value.toString()),n.keyData11.push(e)),12===e.drugType&&(s.type12.push(e.value.toString()),n.keyData12.push(e)),13===e.drugType&&(s.type13.push(e.value.toString()),n.keyData13.push(e)),14===e.drugType&&(s.type14.push(e.value.toString()),n.keyData14.push(e)),15===e.drugType&&(s.type15.push(e.value.toString()),n.keyData15.push(e)),16===e.drugType&&(s.type16.push(e.value.toString()),n.keyData16.push(e))}));var c=[].concat(Object(i["a"])(r.keyData1),Object(i["a"])(r.keyData2),Object(i["a"])(r.keyData3),Object(i["a"])(r.keyData4),Object(i["a"])(r.keyData5),Object(i["a"])(r.keyData6),Object(i["a"])(r.keyData7),Object(i["a"])(r.keyData8),Object(i["a"])(r.keyData9)),u=[].concat(Object(i["a"])(n.keyData10),Object(i["a"])(n.keyData11),Object(i["a"])(n.keyData12),Object(i["a"])(n.keyData13),Object(i["a"])(n.keyData14),Object(i["a"])(n.keyData15),Object(i["a"])(n.keyData16)),d={id:e.drugHistory.drugHistoryVO.id,firstDrugDate:e.drugHistory.drugHistoryVO.firstDrugDate,firstSeizedDate:e.drugHistory.drugHistoryVO.firstSeizedDate,firstDetentionDate:e.drugHistory.drugHistoryVO.firstDetentionDate,firstFreedDate:e.drugHistory.drugHistoryVO.firstFreedDate,crimeSituation:e.drugHistory.drugHistoryVO.crimeSituation,seizedNum:e.drugHistory.drugHistoryVO.seizedNum,detoxificationNum:e.drugHistory.drugHistoryVO.detoxificationNum,intervalDate:e.drugHistory.drugHistoryVO.intervalDate,dailyDrugNum:e.drugHistory.drugHistoryVO.dailyDrugNum,averageUnit:e.drugHistory.drugHistoryVO.averageUnit,averageNum:e.drugHistory.drugHistoryVO.averageNum},m={id:e.drugHistory.drugHistoryVO.id,currentSituation:e.drugHistory.drugHistoryVO.currentSituation,otherTogetherDrug:e.drugHistory.drugHistoryVO.otherTogetherDrug,regularContact:e.drugHistory.drugHistoryVO.regularContact,place:e.drugHistory.drugHistoryVO.place,drugContactPersonNum:e.drugHistory.drugHistoryVO.drugContactPersonNum,drugContactPersonList:e.drugHistory.drugHistoryVO.drugContactPersonList,notIllegal:e.drugHistory.drugHistoryVO.notIllegal,illegal:e.drugHistory.drugHistoryVO.illegal},p={addHistoryVO:Object(o["a"])(Object(o["a"])({},d),a),drugHistoryKeywordList:c,otherCriminalRecordList:e.drugHistory.otherCriminalRecordList,keyData:r},f={addHistoryVO:Object(o["a"])(Object(o["a"])({},m),s),drugHistoryKeywordList:u,keyData:n};Object(h["h"])("personnelPage5",p),Object(h["h"])("personnelPage6",f),Object(h["h"])("personnelPage7",e.equipmentCondtion),t.$refs.essentialInformation.getLsPage(),t.$refs.family.getLsPage(),t.$refs.health.getLsPage(),t.$refs.employment.getLsPage(),t.$refs.drugHistory.getLsPage(),t.$refs.drugHistory2.getLsPage(),t.$refs.deviceStatus.getLsPage()}))},setPage1Value:function(){var e=this.$refs.essentialInformation.onValidate();e&&(this.loading=!0,this.$refs.essentialInformation.getBase64())},setPage3Value:function(){var e=this.$refs.health.onValidate();return e&&this.$refs.health.setLsPage(),e},setPage4Value:function(){var e=this.$refs.employment.onValidate();return e&&this.$refs.employment.setLsPage(),e},setPage5Value:function(){var e=this.$refs.drugHistory.onValidate();return e&&this.$refs.drugHistory.setLsPage(),e},setPage6Value:function(){var e=this.$refs.drugHistory2.onValidate();return e&&this.$refs.drugHistory2.setLsPage(),e},setPage7Value:function(){var e=this.$refs.deviceStatus.onValidate();return e&&this.$refs.deviceStatus.setLsPage(),e},next:function(){if(0===this.current)return this.isEditSubmit=!1,void this.setPage1Value();if(1===this.current){var e=this.$refs.family.getLsPage();if(!(e.length>0))return void this.$message.warning("请新增家庭情况");this.$refs.health.getLsPage()}if(2===this.current){var t=this.setPage3Value();if(!t)return;this.$refs.employment.getLsPage()}if(3===this.current){var a=this.setPage4Value();if(!a)return;this.$refs.drugHistory.getLsPage()}if(4===this.current){var r=this.setPage5Value();if(!r)return;this.$refs.drugHistory2.getLsPage()}if(5===this.current){var s=this.setPage6Value();if(!s)return;this.$refs.deviceStatus.getLsPage()}this.current++},prev:function(){6===this.current&&this.setPage7Value(),this.current--},onEditSubmit:function(){if(0===this.current)return this.isEditSubmit=!0,void this.setPage1Value();if(2===this.current){var e=this.setPage3Value();if(!e)return}if(3===this.current){var t=this.setPage4Value();if(!t)return}if(4===this.current){var a=this.setPage5Value();if(!a)return}if(5===this.current){var r=this.setPage6Value();if(!r)return}if(6===this.current){var s=this.setPage7Value();if(!s)return}this.onSubmit()},onSubmit:function(){var e=this;"add"===this.doStatue&&this.setPage7Value();var t=this.$refs.drugHistory.getLsPage(),a=this.$refs.drugHistory2.getLsPage();if("add"===this.doStatue){var r={};"POSITION_009"===Object(h["f"])().jobName&&(r.belongManagerId=Object(h["f"])().userId,r.belongManagerName=Object(h["f"])().name,r.belongManagerPhone=Object(h["f"])().phone),this.params.sjskPersonInfoVO=Object(o["a"])(Object(o["a"])(Object(o["a"])({},this.$refs.essentialInformation.getLsPage()),this.departmentObj),r),this.params.drugHistoryInfoVO.addHistoryVO=Object(o["a"])(Object(o["a"])({},t.addHistoryVO),a.addHistoryVO),this.params.drugHistoryInfoVO.drugHistoryKeywordList=[].concat(Object(i["a"])(t.drugHistoryKeywordList),Object(i["a"])(a.drugHistoryKeywordList)),this.params.drugHistoryInfoVO.otherCriminalRecordList=t.otherCriminalRecordList}else this.params.sjskPersonInfoVO=Object(o["a"])(Object(o["a"])({},this.$refs.essentialInformation.getLsPage()),{id:this.pid}),this.params.drugHistoryVO.drugHistoryVO=Object(o["a"])(Object(o["a"])({},t.addHistoryVO),a.addHistoryVO),this.params.drugHistoryVO.drugHistoryKeywordList=[].concat(Object(i["a"])(t.drugHistoryKeywordList),Object(i["a"])(a.drugHistoryKeywordList)),this.params.drugHistoryVO.otherCriminalRecordList=t.otherCriminalRecordList;this.params.sjskFamilyVOList=this.$refs.family.getLsPage(),this.params.healthConditionVO=this.$refs.health.getLsPage(),this.params.workConditionVO=this.$refs.employment.getLsPage(),this.params.equipmentCondtionVO=this.$refs.deviceStatus.getLsPage(),this.loading=!0,"add"===this.doStatue?Object(f["a"])(this.params).then((function(t){e.loading=!1,e.setPageLSNull(),e.$message.success("新增成功"),e.onBack()})).catch((function(){e.loading=!1})):Object(f["g"])(this.params).then((function(t){e.loading=!1,e.setPageLSNull(),e.$message.success("修改成功"),e.onBack()})).catch((function(){e.loading=!1}))},getAsyncBase64:function(e){var t=this,a=e.substring(e.indexOf(",")+1),r={idCard:this.$refs.essentialInformation.form.identityCard,name:this.$refs.essentialInformation.form.realName,image:a};Object(f["h"])(r).then((function(e){console.log("faceAdd - success"),t.$refs.essentialInformation.setLsPage(),0===t.current&&(t.isEditSubmit?t.onSubmit():(t.loading=!1,t.$refs.family.getLsPage(),t.current++))})).catch((function(){t.loading=!1}))},onBack:function(){"qx"===this.inType?this.$router.push({path:"/personnelManagement/personnelFiles/personnelDetails",query:{params:JSON.stringify({id:this.pid})}}):this.$router.push({path:"/personnelManagement/personnelList/list"})}}},y=g,v=(a("d850"),a("2877")),b=Object(v["a"])(y,r,s,!1,null,"fc20c4ea",null);t["default"]=b.exports},"89f9":function(e,t,a){"use strict";var r=a("b958"),s=a.n(r);s.a},b958:function(e,t,a){},c187:function(e,t,a){},d850:function(e,t,a){"use strict";var r=a("5748"),s=a.n(r);s.a},dfc6:function(e,t,a){},e6f8:function(e,t,a){"use strict";var r=a("dfc6"),s=a.n(r);s.a},ea77:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form-model",{ref:"ruleForm",staticClass:"deviceStatus",attrs:{model:e.form,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-row",[a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"手机名称",prop:"phoneName"}},[a("a-input",{attrs:{placeholder:"请输入手机名称"},model:{value:e.form.phoneName,callback:function(t){e.$set(e.form,"phoneName",t)},expression:"form.phoneName"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:" Android版本",prop:"androidVersion"}},[a("a-input",{attrs:{placeholder:"请输入Android版本"},model:{value:e.form.androidVersion,callback:function(t){e.$set(e.form,"androidVersion",t)},expression:"form.androidVersion"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"运行内存",prop:"runRam"}},[a("a-input",{attrs:{placeholder:"请输入运行内存"},model:{value:e.form.runRam,callback:function(t){e.$set(e.form,"runRam",t)},expression:"form.runRam"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"机身存储",prop:"bodyStorage"}},[a("a-input",{attrs:{placeholder:"请输入机身存储"},model:{value:e.form.bodyStorage,callback:function(t){e.$set(e.form,"bodyStorage",t)},expression:"form.bodyStorage"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"版本号",prop:"version"}},[a("a-input",{attrs:{placeholder:"请输入版本号"},model:{value:e.form.version,callback:function(t){e.$set(e.form,"version",t)},expression:"form.version"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"基带版本",prop:"basebandVersion"}},[a("a-input",{attrs:{placeholder:"请输入基带版本"},model:{value:e.form.basebandVersion,callback:function(t){e.$set(e.form,"basebandVersion",t)},expression:"form.basebandVersion"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"内核版本",prop:"kernelVersion"}},[a("a-input",{attrs:{placeholder:"请输入内核版本"},model:{value:e.form.kernelVersion,callback:function(t){e.$set(e.form,"kernelVersion",t)},expression:"form.kernelVersion"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"SIM卡使用状态",prop:"simUseStatus"}},[a("a-input",{attrs:{placeholder:"请输入SIM卡使用状态"},model:{value:e.form.simUseStatus,callback:function(t){e.$set(e.form,"simUseStatus",t)},expression:"form.simUseStatus"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"IMEI 1",prop:"oneImei"}},[a("a-input",{attrs:{placeholder:"请输入IMEI 1"},model:{value:e.form.oneImei,callback:function(t){e.$set(e.form,"oneImei",t)},expression:"form.oneImei"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"IMSI 1",prop:"oneImsi"}},[a("a-input",{attrs:{placeholder:"请输入IMSI 1"},model:{value:e.form.oneImsi,callback:function(t){e.$set(e.form,"oneImsi",t)},expression:"form.oneImsi"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"手机号码 1",prop:"onePhone"}},[a("a-input",{attrs:{placeholder:"请输入手机号码 1"},model:{value:e.form.onePhone,callback:function(t){e.$set(e.form,"onePhone",t)},expression:"form.onePhone"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"IMEI 2",prop:"twoImei"}},[a("a-input",{attrs:{placeholder:"请输入IMEI 2"},model:{value:e.form.twoImei,callback:function(t){e.$set(e.form,"twoImei",t)},expression:"form.twoImei"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"IMSI 2",prop:"twoImsi"}},[a("a-input",{attrs:{placeholder:"请输入IMSI 2"},model:{value:e.form.twoImsi,callback:function(t){e.$set(e.form,"twoImsi",t)},expression:"form.twoImsi"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{label:"手机号码2",prop:"twoPhone"}},[a("a-input",{attrs:{placeholder:"请输入手机号码2"},model:{value:e.form.twoPhone,callback:function(t){e.$set(e.form,"twoPhone",t)},expression:"form.twoPhone"}})],1)],1)],1)],1)},s=[],o=(a("b64b"),a("0f18")),i=a("cc33"),n={data:function(){return{labelCol:{span:24},wrapperCol:{span:20},form:{phoneName:"",androidVersion:"",runRam:"",bodyStorage:"",version:"",basebandVersion:"",kernelVersion:"",simUseStatus:"",oneImei:"",oneImsi:"",onePhone:"",twoImei:"",twoImsi:"",twoPhone:""},rules:o["default"].rules7}},methods:{setLsPage:function(){Object(i["h"])("personnelPage7",this.form)},getLsPage:function(){var e=Object(i["b"])("personnelPage7");return null!==e&&Object.keys(e).length>0&&(this.form=e),e},setPageLSNull:function(){Object(i["h"])("personnelPage7",{})},onValidate:function(){var e=!1;return this.$refs.ruleForm.validate((function(t){e=!!t})),e}}},l=n,c=(a("1c5e"),a("2877")),u=Object(c["a"])(l,r,s,!1,null,"5d67288d",null);t["default"]=u.exports},f336:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"family"},[a("div",{staticClass:"top-bnt"},[a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.onAdd}},[e._v("新建")])],1),a("CustomTable",{ref:"table",attrs:{showAlert:!1,showSelection:!1,columns:e.columns,dataSource:e.pageData},scopedSlots:e._u([{key:"order",fn:function(t,a,r){return[e._v(" "+e._s(r+1)+" ")]}},{key:"relativesRelation",fn:function(t){return[1==t?a("span",[e._v("夫妻")]):e._e(),2==t?a("span",[e._v("父子")]):e._e(),3==t?a("span",[e._v("父女")]):e._e(),4==t?a("span",[e._v("母子")]):e._e(),5==t?a("span",[e._v("母女")]):e._e(),6==t?a("span",[e._v("儿子")]):e._e(),7==t?a("span",[e._v("女儿")]):e._e(),8==t?a("span",[e._v("兄弟")]):e._e(),9==t?a("span",[e._v("兄妹")]):e._e(),10==t?a("span",[e._v("姐弟")]):e._e(),11==t?a("span",[e._v("姐妹")]):e._e(),12==t?a("span",[e._v("其他")]):e._e()]}},{key:"action",fn:function(t,r,s){return[a("a",{staticStyle:{"margin-right":"16px"},on:{click:function(t){return e.onEdit(r,s)}}},[e._v("编辑")]),a("a",{staticStyle:{"margin-right":"16px"},on:{click:function(t){return e.onDelete(s)}}},[e._v("删除")])]}}])}),a("Modal",{ref:"modal",attrs:{title:"新增家庭情况",width:e.modalWidth},on:{ok:e.okHandler}},[a("a-form-model",{ref:"ruleForm",attrs:{form:e.form,model:e.form,rules:e.rules,labelCol:{span:5},wrapperCol:{span:17}}},[a("a-form-model-item",{attrs:{label:"亲属关系",prop:"relativesRelation"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择亲属关系"},model:{value:e.form.relativesRelation,callback:function(t){e.$set(e.form,"relativesRelation",t)},expression:"form.relativesRelation"}},[a("a-select-option",{attrs:{value:1}},[e._v("夫妻")]),a("a-select-option",{attrs:{value:2}},[e._v("父子")]),a("a-select-option",{attrs:{value:3}},[e._v("父女")]),a("a-select-option",{attrs:{value:4}},[e._v("母子")]),a("a-select-option",{attrs:{value:5}},[e._v("母女")]),a("a-select-option",{attrs:{value:6}},[e._v("儿子")]),a("a-select-option",{attrs:{value:7}},[e._v("女儿")]),a("a-select-option",{attrs:{value:8}},[e._v("兄弟")]),a("a-select-option",{attrs:{value:9}},[e._v("兄妹")]),a("a-select-option",{attrs:{value:10}},[e._v("姐弟")]),a("a-select-option",{attrs:{value:11}},[e._v("姐妹")]),a("a-select-option",{attrs:{value:12}},[e._v("其他")])],1)],1),a("a-form-model-item",{attrs:{label:"姓名",prop:"name"}},[a("a-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("a-form-model-item",{attrs:{label:"联系电话",prop:"phone"}},[a("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入联系电话"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),a("a-form-model-item",{attrs:{label:"工作单位",prop:"workUnit"}},[a("a-input",{attrs:{placeholder:"请输入工作单位"},model:{value:e.form.workUnit,callback:function(t){e.$set(e.form,"workUnit",t)},expression:"form.workUnit"}})],1),a("a-form-model-item",{attrs:{label:"居住地",prop:"address"}},[a("a-input",{attrs:{placeholder:"请输入居住地"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1)],1)],1)],1)},s=[],o=(a("a434"),a("bf11")),i=a("86da"),n=a("0f18"),l=a("cc33"),c={components:{CustomTable:o["a"],Modal:i["a"]},data:function(){return{form:{relativesRelation:"",name:"",phone:"",workUnit:"",address:""},rules:n["default"].rules2,columns:[{title:"序号",dataIndex:"order",scopedSlots:{customRender:"order"}},{title:"亲属关系",dataIndex:"relativesRelation",align:"center",scopedSlots:{customRender:"relativesRelation"}},{title:"姓名",dataIndex:"name",align:"center"},{title:"联系电话",dataIndex:"phone",align:"center"},{title:"工作单位",dataIndex:"workUnit",align:"center"},{title:"居住地",dataIndex:"address",align:"center"},{title:"操作",width:"200",align:"center",scopedSlots:{customRender:"action"}}],pageData:[],isAdd:!0,editIndex:0,modalWidth:500}},methods:{onAdd:function(){for(var e in this.$refs.modal.show(),this.isAdd=!0,this.form)this.form[e]=void 0},onEdit:function(e,t){this.editIndex=t,this.isAdd=!1,this.$refs.modal.show(),this.form=e},onDelete:function(e){this.pageData.splice(e,1),this.setLsPage()},okHandler:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(!t)return!1;var a=Object.assign({},e.form);e.isAdd?e.pageData.push(a):e.pageData[e.editIndex]=a,e.setLsPage(),e.$refs.modal.close()}))},setLsPage:function(){Object(l["h"])("personnelPage2",this.pageData)},getLsPage:function(){var e=Object(l["b"])("personnelPage2");return null!==e&&e.length>0?this.pageData=e:this.pageData=[],this.pageData},setPageLSNull:function(){Object(l["h"])("personnelPage2",{})}}},u=c,d=(a("e6f8"),a("2877")),m=Object(d["a"])(u,r,s,!1,null,"1ad855cc",null);t["default"]=m.exports}}]);