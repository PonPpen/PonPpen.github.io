(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a2984d8a","chunk-1ed78467","chunk-1ed78467"],{"007b":function(e,t,n){"use strict";var r=n("a27e"),a={currentDepartmentTreeUrl:"/base-service/dept/currentDepartmentTree",getTrackSjskPersonList:"/person-service/sjskPerson/getTrackSjskPersonList"};t["a"]={getDepartmentTree:function(e){return Object(r["a"])({url:a.currentDepartmentTreeUrl,method:"GET",params:e})},getTrackSjskPersonList:function(e){return Object(r["a"])({url:a.getTrackSjskPersonList,method:"GET",params:e})}}},"1da1":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("d3b7");function r(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var o=e.apply(t,n);function s(e){r(o,a,i,s,c,"next",e)}function c(e){r(o,a,i,s,c,"throw",e)}s(void 0)}))}}},3554:function(e,t,n){},"3a49":function(e,t,n){"use strict";var r=n("59e7");t["a"]=r["a"]},"529c":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("SplitLayout",{attrs:{leftWidth:"240px"}},[n("div",{staticClass:"left",attrs:{slot:"left"},slot:"left"},[n("SearchTree",{ref:"searchTree",staticStyle:{padding:"0 10px",overflow:"hidden"},attrs:{data:e.treeData,defaultdKeys:e.departmentId},on:{selected:e.onSelected}})],1),n("div",{staticClass:"top",attrs:{slot:"top"},slot:"top"},[n("SearchForm",{on:{query:e.onquery,reset:e.onreset}},[n("SearchFormItem",{attrs:{label:"姓名"}},[n("a-input",{model:{value:e.pageFilter.name,callback:function(t){e.$set(e.pageFilter,"name",t)},expression:"pageFilter.name"}})],1),n("SearchFormItem",{attrs:{label:"身份证号"}},[n("a-input",{model:{value:e.pageFilter.cer,callback:function(t){e.$set(e.pageFilter,"cer",t)},expression:"pageFilter.cer"}})],1),n("SearchFormItem",{attrs:{label:"查获办案单位"}},[n("a-select",{staticStyle:{width:"100%"},model:{value:e.pageFilter.handleStatus,callback:function(t){e.$set(e.pageFilter,"handleStatus",t)},expression:"pageFilter.handleStatus"}},[n("a-select-option",{attrs:{value:0}},[e._v("未处置")]),n("a-select-option",{attrs:{value:1}},[e._v("已处置")])],1)],1)],1)],1),n("OperationPermission",{attrs:{check:"privs.item1530000002"}},[n("div",{staticClass:"add-btn"},[n("a-button",{attrs:{type:"primary"},on:{click:e.new_arrested}},[e._v("新增查获人员")])],1)]),n("CustomTable",{attrs:{showAlert:!1,showSelection:!1,loading:e.loading,columns:e.columns,dataSource:e.pageData,scroll:{x:1600}},on:{change:e.onTableChange},scopedSlots:e._u([{key:"order",fn:function(t,n,r){return[e._v(" "+e._s(r+1)+" ")]}},{key:"handleStatus",fn:function(t){return["0"==t?n("span",[e._v("未处置")]):e._e(),"1"==t?n("span",[e._v("已处置")]):e._e()]}},{key:"gender",fn:function(t){return["1"==t?n("span",[e._v("男")]):e._e(),"2"==t?n("span",[e._v("女")]):e._e()]}},{key:"action",fn:function(t){return[1!==t.action?n("OperationPermission",{attrs:{check:"privs.item1530000003"}},[n("a",{staticStyle:{"margin-right":"16px"},on:{click:function(n){return e.edit(t)}}},[e._v("编辑")])]):e._e(),n("OperationPermission",{attrs:{check:"privs.item1530000004"}},[n("a-popconfirm",{attrs:{title:"确定要删除该信息吗？","ok-text":"是","cancel-text":"否"},on:{confirm:function(n){return e.del(t)}}},[n("a",{staticStyle:{"margin-right":"16px"}},[e._v("删除")])])],1),1!==t.action?n("a",{on:{click:function(n){return e.to_detail(t)}}},[e._v("详情")]):e._e()]}}])})],1)},a=[],i=(n("13d5"),n("5530")),o=(n("96cf"),n("1da1")),s=n("d99e"),c=n("3a49"),l=n("cc33"),u=n("007b"),d=n("7c553"),h=n("a026"),p=s["a"].Item;h["default"].use(s["a"]);var f={name:"manage",components:{SearchForm:s["a"],SearchFormItem:p,SearchTree:c["a"]},data:function(){var e=this;return{pageData:[],columns:[{title:"序号",width:80,align:"center",scopedSlots:{customRender:"order"},customRender:function(t,n,r){return"".concat((e.pageFilter.currentPage-1)*e.pageFilter.pageSize+(r+1))}},{title:"姓名",dataIndex:"name"},{title:"性别",dataIndex:"gender",width:80,align:"center",scopedSlots:{customRender:"gender"}},{title:"身份证号",dataIndex:"cer",width:200,align:"center"},{title:"查获办案单位",dataIndex:"findDepartment"},{title:"查获日期",dataIndex:"findTime"},{title:"查获区域",dataIndex:"findAddress"},{title:"处置状态",dataIndex:"handleStatus",scopedSlots:{customRender:"handleStatus"}},{title:"处置日期",dataIndex:"handleTime"},{title:"处置情况",dataIndex:"handleInfo",scopedSlots:{customRender:"handleInfo"}},{title:"数据来源",dataIndex:"drugSources"},{title:"操作",width:"220px",align:"center",scopedSlots:{customRender:"action"}}],loading:!1,pageFilter:{currentPage:1,pageSize:10},departmentId:"",level:"",selectedNode:{},treeData:[]}},created:function(){var e={};"POSITION_009"!==Object(l["f"])().jobName||(this.pageFilter.belongManagerId=Object(l["f"])().userId),e={deptKey:3},this.getArea(e)},methods:{getArea:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,u["a"].getDepartmentTree(e);case 2:r=n.sent,200==r.status&&(t.treeData=r.data,t.departmentId=r.data[0].key,t.pageFilter.depId=r.data[0].key,t.refreshTable());case 4:case"end":return n.stop()}}),n)})))()},onSelected:function(e,t,n){e.length>0&&(this.level=n.extendData,this.selectedNode=n,this.pageFilter.depId=e[0],this.departmentId=e[0],this.refreshTable())},refreshTable:function(){var e=this;this.loading=!0,d["a"].getList(this.pageFilter).then((function(t){e.loading=!1;var n=t.data.records.reduce((function(e,t){return e.push(Object(i["a"])(Object(i["a"])({},t.rePersonInfo),t.rePersonSeized)),e}),[]);t.data.records=n,e.pageData=t.data}))},onTableChange:function(e){this.pageFilter=Object(i["a"])(Object(i["a"])({},this.pageFilter),e),this.refreshTable()},onreset:function(){this.pageFilter={currentPage:1,pageSize:10,depId:this.departmentId},this.refreshTable()},onquery:function(){this.pageFilter.currentPage=1,console.log(this.pageFilter),this.refreshTable()},del:function(e){var t=this;d["a"].delList(e.id).then((function(e){e&&(t.$message.success("删除成功"),t.refreshTable())}))},new_arrested:function(){void 0===this.selectedNode.children||this.selectedNode.children.length>0?this.$message.warning("请选择左侧树状最底层区域"):this.$router.push({name:"create_arrested",query:{type:"add",departmentId:this.departmentId,level:this.level}})},to_detail:function(e){this.$router.push({name:"seized_detail",query:{type:"detail",id:e.id}})},edit:function(e){this.$router.push({name:"edit_arrested",query:{id:e.id,type:"edit"}})}}},g=f,m=(n("818a"),n("2877")),y=Object(m["a"])(g,r,a,!1,null,null,null);t["default"]=y.exports},"59e7":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-spin",{attrs:{spinning:!e.treeLoading}},[n("a-input-search",{staticStyle:{"margin-bottom":"8px"},attrs:{allowClear:"",placeholder:"请输入搜索内容"},on:{change:e.onChange},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}}),e.treeLoading?n("a-tree",{class:{activeEllipsis:e.isShowEllipsis},attrs:{loading:!0,selectedKeys:[e.defaultdKeys],expandedKeys:e.expandedKeys,defaultExpandAll:e.expandAllNode,autoExpandParent:e.autoExpandParent,treeData:e.treeData},on:{expand:e.onExpand,select:e.onSelect},scopedSlots:e._u([{key:"title",fn:function(t){var r=t.title;return[n("a-tooltip",{attrs:{placement:"topLeft",title:r}},[r.indexOf(e.searchValue)>-1?n("span",[e._v(" "+e._s(r.substr(0,r.indexOf(e.searchValue)))+" "),n("span",{staticStyle:{color:"#f50"}},[e._v(e._s(e.searchValue))]),e._v(" "+e._s(r.substr(r.indexOf(e.searchValue)+e.searchValue.length))+" ")]):n("span",[e._v(e._s(r))])])]}}],null,!1,3746631401)}):n("a-skeleton",{attrs:{active:"",paragraph:{rows:14}}})],1)},a=[],i=(n("c975"),n("d81d"),n("ac1f"),n("1276"),{name:"SearchTree",props:{data:{type:Array,require:!0},defaultdKeys:{type:String,require:!1},isShowEllipsis:{type:Boolean,default:!0},expandAllNode:{type:Boolean,default:!1},expandKeys:{type:String,require:!1}},data:function(){return{searchValue:"",expandedKeys:[],autoExpandParent:!0,dataList:[],treeData:[],selectedKeys:[],selectedTitles:[],loadingBool:!1}},computed:{treeLoading:function(){return null!==this.treeData&&this.treeData.length>0}},watch:{data:{handler:function(e,t){this.dataList=[],null!==e&&(this.generateList(e),this.treeData=e,this.treeData.length>0&&(void 0!=this.expandKeys&&this.expandKeys.length>0?this.expandedKeys=this.expandKeys.substring(0,this.expandKeys.length-1).split(","):this.expandedKeys=[this.treeData[0].key]))},immediate:!0}},methods:{getSelectedKey:function(){return this.selectedKeys[0]||""},getSelectedKeys:function(){return this.selectedKeys},getSelectedTitle:function(){return this.selectedTitles[0]||""},getSelectedTitles:function(){return this.selectedTitles},onSelect:function(e,t){this.selectedKeys=e,this.selectedKeys.length>0&&(this.selectedTitles=t.selectedNodes.map((function(e){return e.data.props.dataRef.title})),this.$emit("selected",this.selectedKeys,this.selectedTitles,t.selectedNodes[0].data.props.dataRef))},onExpand:function(e){this.expandedKeys=e,this.autoExpandParent=!1},generateList:function(e){for(var t=0;t<e.length;t++){var n=e[t];void 0===n.scopedSlots&&(n.scopedSlots={title:"title"}),this.dataList.push({key:n.key,parentId:n.parentId,extendData:n.extendData,title:n.title}),n.children&&this.generateList(n.children)}},onChange:function(e){var t=this,n=e.target.value;""!=n?n&&this.dataList.map((function(e){e.title.indexOf(n)>-1&&(t.expandedKeys=e.extendData.substring(0,e.extendData.length-1).split(","),console.log(t.expandedKeys))})):this.expandedKeys=[this.treeData[0].key]}}}),o=i,s=(n("70b7"),n("2877")),c=Object(s["a"])(o,r,a,!1,null,"52e9cd27",null);t["a"]=c.exports},"70b7":function(e,t,n){"use strict";var r=n("dfd7"),a=n.n(r);a.a},"7c553":function(e,t,n){"use strict";var r=n("a27e");t["a"]={newEntryRecord:function(e){return Object(r["a"])({method:"POST",data:e,url:"/manage/personSeized/add"})},getList:function(e){return Object(r["a"])({method:"POST",data:e,url:"/manage/personSeized/list"})},delList:function(e){return Object(r["a"])({method:"GET",url:"manage/personSeized/del/".concat(e)})},getDetail:function(e){return Object(r["a"])({url:"manage/personSeized/query/".concat(e)})},editEntryRecord:function(e){return Object(r["a"])({method:"POST",data:e,url:"/manage/personSeized/update"})}}},"818a":function(e,t,n){"use strict";var r=n("3554"),a=n.n(r);a.a},"8cc5":function(e,t,n){"use strict";var r=n("d41e"),a=n.n(r);a.a},"96cf":function(e,t){!function(t){"use strict";var n,r=Object.prototype,a=r.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag",l="object"===typeof e,u=t.regeneratorRuntime;if(u)l&&(e.exports=u);else{u=t.regeneratorRuntime=l?e.exports:{},u.wrap=b;var d="suspendedStart",h="suspendedYield",p="executing",f="completed",g={},m={};m[o]=function(){return this};var y=Object.getPrototypeOf,v=y&&y(y(P([])));v&&v!==r&&a.call(v,o)&&(m=v);var x=L.prototype=S.prototype=Object.create(m);_.prototype=x.constructor=L,L.constructor=_,L[c]=_.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,L):(e.__proto__=L,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(x),e},u.awrap=function(e){return{__await:e}},k(T.prototype),T.prototype[s]=function(){return this},u.AsyncIterator=T,u.async=function(e,t,n,r){var a=new T(b(e,t,n,r));return u.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(x),x[c]="Generator",x[o]=function(){return this},x.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},u.values=P,F.prototype={constructor:F,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,a){return s.type="throw",s.arg=e,t.next=r,a&&(t.method="next",t.arg=n),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),g}}}function b(e,t,n,r){var a=t&&t.prototype instanceof S?t:S,i=Object.create(a.prototype),o=new F(r||[]);return i._invoke=I(e,n,o),i}function w(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function S(){}function _(){}function L(){}function k(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function T(e){function t(n,r,i,o){var s=w(e[n],e,r);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"===typeof l&&a.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,i,o)}),(function(e){t("throw",e,i,o)})):Promise.resolve(l).then((function(e){c.value=e,i(c)}),o)}o(s.arg)}var n;function r(e,r){function a(){return new Promise((function(n,a){t(e,r,n,a)}))}return n=n?n.then(a,a):a()}this._invoke=r}function I(e,t,n){var r=d;return function(a,i){if(r===p)throw new Error("Generator is already running");if(r===f){if("throw"===a)throw i;return D()}n.method=a,n.arg=i;while(1){var o=n.delegate;if(o){var s=O(o,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=w(e,t,n);if("normal"===c.type){if(r=n.done?f:h,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=f,n.method="throw",n.arg=c.arg)}}}function O(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,O(e,t),"throw"===t.method))return g;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var a=w(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,g;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,g):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){while(++r<e.length)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:D}}function D(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},d41e:function(e,t,n){},d99e:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-wrapper"},[n("div",[n("a-row",{attrs:{gutter:56}},[e._t("default"),n("buttonBox",{style:e.advanced?{float:"right"}:{},on:{toggleAdvanced:e.toggleAdvanced,query:e.query,reset:e.reset}})],2)],1)])},a=[],i=(n("a9e3"),n("5530")),o={name:"SearchListItem",props:{label:{type:String,default:"",required:!1}},inject:{col:{type:Number}},render:function(){var e=arguments[0];return e("a-col",{class:"item-box",props:Object(i["a"])({},c[this.col])},[e("div",{class:"y-search-item"},[e("div",{class:"y-search-label"},[this.$props.label]),e("div",{class:"y-search-content"},[this.$slots.default])])])}},s={name:"buttonBox",data:function(){return{advanced:!1}},inject:{col:{type:Number}},methods:{toggleAdvanced:function(){this.advanced=!this.advanced,this.$emit("toggleAdvanced")},query:function(){this.$emit("query")},reset:function(){this.$emit("reset")}},render:function(){var e=arguments[0];return e("a-col",{props:Object(i["a"])({},c[this.col])},[e("span",{class:"table-page-search-submitButtons",style:"float: 'left', overflow: 'hidden'"},[e("a-button",{attrs:{type:"primary"},on:{click:this.query}},["查询"]),e("a-button",{style:"margin-left: 8px",on:{click:this.reset}},["重置"]),e("a",{attrs:{id:"advance-btn"},style:"margin-left: 8px",on:{click:this.toggleAdvanced}},[this.advanced?"收起":"展开",e("a-icon",{props:Object(i["a"])({},{type:this.advanced?"up":"down"})})])])])}},c={1:{xs:24},2:{xs:24,sm:12},3:{xs:24,sm:12,md:8},4:{md:24,lg:12,xl:8,xxl:6}},l={name:"SearchForm",Item:o,components:{buttonBox:s},props:{col:{type:Number,required:!1,default:6}},provide:function(){return{col:this.col>4?4:this.col}},data:function(){return{advanced:!1,toplist:[],bottomList:[]}},methods:{toggleAdvanced:function(){this.advanced=!this.advanced,this.displayItem()},query:function(){this.$emit("query")},reset:function(){this.$emit("reset")},displayItem:function(){var e=this.$slots.default,t=this.col,n=e.length;if(n<t)document.getElementById("advance-btn").style.display="none";else for(var r=t-1;r<n;r++)e[r].elm.style.display=this.advanced?"":"none"}},mounted:function(){this.displayItem()}},u=l,d=(n("8cc5"),n("2877")),h=Object(d["a"])(u,r,a,!1,null,"359e9f37",null),p=h.exports;t["a"]=p},dfd7:function(e,t,n){}}]);