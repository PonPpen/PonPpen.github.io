(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c18a5f0e","chunk-1ed78467","chunk-1ed78467","chunk-292c6eb3"],{"007b":function(t,e,n){"use strict";var a=n("a27e"),i={currentDepartmentTreeUrl:"/base-service/dept/currentDepartmentTree",getTrackSjskPersonList:"/person-service/sjskPerson/getTrackSjskPersonList"};e["a"]={getDepartmentTree:function(t){return Object(a["a"])({url:i.currentDepartmentTreeUrl,method:"GET",params:t})},getTrackSjskPersonList:function(t){return Object(a["a"])({url:i.getTrackSjskPersonList,method:"GET",params:t})}}},"07cc":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-wrap"},[n("div",{staticClass:"card-title"},[n("div",{staticClass:"title"},[t._v(t._s(t.title)+" "),t._t("subTitle")],2),t._t("right")],2),n("div",{staticClass:"card-content"},[t._t("default")],2)])},i=[],r={name:"AnalysisCard",data:function(){return{title:this.label}},props:{label:{type:String,default:""}}},o=r,s=(n("c0c7"),n("2877")),c=Object(s["a"])(o,a,i,!1,null,"7d7b4c56",null);e["default"]=c.exports},"8cc5":function(t,e,n){"use strict";var a=n("d41e"),i=n.n(a);i.a},a12a:function(t,e,n){"use strict";n.r(e);n("99af"),n("4160"),n("13d5"),n("b0c0"),n("a9e3"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("159b");var a=n("cc33"),i=n("07cc"),r=n("a5cf"),o=n("f579"),s=n("16fe");e["default"]={components:{AnalysisCard:i["default"],search:o["default"]},data:function(){return{form:{departmentId:null,deptId:null,endTime:"",startTime:"",timeType:""},number:1,numberSignIn:Number,getSignInSituationData:[],getAppSituationData:[],todayCount:"0",yesterdayCount:"0",signInCount:"0",signInRatio:"0%",onlineCount:"0",onlineTotalCount:"0",outCompletionRateZgData:"0%",BigScreenSignInRatioData:[],InterviewSituationTrendData:[],RecoveryRatioData:"0%",HelpTeachingPlanRatioData:"0%",dailyRatioData:"0"}},created:function(){},mounted:function(){},methods:{onQuery:function(t){this.form=Object.assign(this.form,t),this.getSignInSituation(this.form),this.getAppSituation(this.form),this.getSignInToAnalyze(this.form),this.getUserStatisticsAll(this.form),"create"==t.status?(this.numberSignIn=5,this.toggleSignInGutter(this.numberSignIn)):(this.numberSignIn="",this.getSignInRatio(this.form)),this.getInterviewSituationTrend(this.form),this.getInterviewPersonNumber(this.form),this.getRecoveryRatio(this.form),this.getHelpTeachingPlanRatio(this.form),this.getLogFinishNumber(this.form),this.outCompletionRateZg(this.form)},onResetForm:function(t){var e={status:"create"};this.onQuery(Object.assign({},e,t))},onAuto:function(t){this.onQuery(t)},getAppSituation:function(t){var e=this,n=Object.assign({},t);n.type=this.number.toString(),r["a"].getUserStatisticsPart(n).then((function(t){if(null!==t){e.getAppSituationData=t.data;var n=[],a=[],i=[],r=[];0!==e.getAppSituationData.length&&(e.getAppSituationData.forEach((function(t){n.push(e.getRealLength(t.deptName,5)),r.push(t.deptName),a.push(t.totalCount),i.push(t.count)})),e.Charts0(n,a,i,r));var o=function(){var t;return(t=[]).concat.apply(t,arguments).reduce((function(t,e){return Number(t)+Number(e)}),0)};console.log("实际登录人数",o(i)),console.log("应登录人数",o(a))}})).catch((function(){}))},getSignInSituation:function(t){var e=this,n=Object.assign({},t);r["a"].getSignInSituation(n).then((function(t){if(null!==t){e.getSignInSituationData=t.data;var n=[],a=[],i=[],r=[];0!==e.getSignInSituationData.length&&(e.getSignInSituationData.forEach((function(t){n.push(e.getRealLength(t.name,5)),r.push(t.name),a.push(t.shouldSignIn),i.push(t.signIn)})),e.Charts1(n,a,i,r))}})).catch((function(){}))},getUserStatisticsAll:function(t){var e=this,n=Object.assign({},t);r["a"].getUserStatisticsAll(n).then((function(t){null!==t&&t.data&&(e.onlineCount=t.data.count?t.data.count:"0",e.onlineTotalCount=t.data.totalCount?t.data.totalCount:"0")})).catch((function(){}))},getSignInToAnalyze:function(t){var e=this,n=t.departmentId;r["a"].getSignInToAnalyze(n).then((function(t){null!==t&&t.data&&(e.signInCount=t.data.count?t.data.count:"0",e.signInRatio=t.data.ratio?t.data.ratio:"0%")})).catch((function(){}))},outCompletionRateZg:function(t){var e=this,n=Object.assign({},t);r["a"].outCompletionRateZg(n).then((function(t){null!==t&&(e.outCompletionRateZgData=t.data?t.data:"0%")})).catch((function(){}))},getSignInRatio:function(t){var e=this,n=Object.assign(t);r["a"].getSignInRatio(n).then((function(t){if(null!==t){e.BigScreenSignInRatioData=t.data;var n=[],a=[];0!==e.BigScreenSignInRatioData.length&&(e.BigScreenSignInRatioData.forEach((function(t){n.push(t.name.substring(5,10)),a.push({name:t.name,value:t.ratio.replace("%",""),total:t.total,count:t.count})})),e.Charts2(n,a))}})).catch((function(){}))},getInterviewSituationTrend:function(t){var e=this,n=Object.assign({},t);r["a"].getInterviewSituationTrend(n).then((function(t){if(null!==t&&t.data){e.InterviewSituationTrendData=t.data;var n=[],a=[],i=[];0!==e.InterviewSituationTrendData.length&&(e.InterviewSituationTrendData.forEach((function(t){n.push(e.getRealLength(t.areaName,5)),i.push(t.areaName),a.push(t.count)})),e.Charts4(n,a,i))}})).catch((function(){console.log("访谈情况统计变化趋势失败")}))},getInterviewPersonNumber:function(t){var e=this,n=Object.assign({},t);r["a"].getInterviewPersonNumber(n).then((function(t){null!==t&&t.data&&(e.todayCount=t.data.todayCount?t.data.todayCount:"0",e.yesterdayCount=t.data.yesterdayCount?t.data.yesterdayCount:"0")})).catch((function(){console.log("今日访谈人数和昨日访谈人数失败")}))},getRecoveryRatio:function(t){var e=this,n=Object.assign({},t);r["a"].getRecoveryRatio(n).then((function(t){null!==t&&(e.RecoveryRatioData=t.data.ratio?t.data.ratio+"%":"0%")})).catch((function(){}))},getHelpTeachingPlanRatio:function(t){var e=this,n=Object.assign({},t);r["a"].getHelpTeachingPlanRatio(n).then((function(t){null!==t&&(e.HelpTeachingPlanRatioData=t.data.ratio?t.data.ratio+"%":"0%")})).catch((function(){}))},getLogFinishNumber:function(t){var e=this;t.departmentId=Object(a["f"])().mainDeptId,r["a"].getLogFinishNumber(t).then((function(t){null!==t&&(e.dailyRatioData=t.data?t.data:"0")})).catch((function(){}))},getRealLength:function(t,e){var n,a=t.length,i=0,r="";if(a<=e)return t;for(var o=0;o<a;o++)if(n=t.charCodeAt(o),i+=n>=0&&n<=128?.5:1,i>=e){r=t.substring(0,o-1)+"...";break}return i<e&&(r=t),r},Charts0:function(t,e,n,a){var i=this.$echarts.init(document.getElementById("echarts0")),r=["应登录人数","实际登录人数"],o=[{name:"应登录人数",type:"bar",barWidth:25,barCategoryGap:0,label:{normal:{show:!0,position:"top",fontSize:10,color:"#000"}},data:e},{name:"实际登录人数",type:"bar",barWidth:25,barGap:"-3%",barCategoryGap:0,label:{normal:{show:!0,position:"top",fontSize:10,color:"#000"}},data:n}];i.clear(),Object(s["drawBar2Echarts"])(i,r,t,o,a)},Charts1:function(t,e,n,a){var i=this.$echarts.init(document.getElementById("echarts1")),r=["应签到人数","实际签到人数"],o=[{name:"应签到人数",type:"bar",barWidth:25,barCategoryGap:0,label:{normal:{show:!0,position:"top",fontSize:10,color:"#000"}},data:e},{name:"实际签到人数",type:"bar",barWidth:25,barGap:"-3%",barCategoryGap:0,label:{normal:{show:!0,position:"top",fontSize:10,color:"#000"}},data:n}];Object(s["drawBar2Echarts"])(i,r,t,o,a)},Charts2:function(t,e){var n=this.$echarts.init(document.getElementById("echarts2")),a=[""],i={formatter:function(t){var e=t.data.name+'<div style="padding-left: 20px;">签到人数：'+t.data.count+'</div><div style="padding-left: 20px;">专职人员人数：'+t.data.total+"</div>";return e}};Object(s["drawLine3Echarts"])(n,a,t,e,"",i)},Charts4:function(t,e,n){var a=this.$echarts.init(document.getElementById("echarts4"));Object(s["drawBarEcharts_xdata_format"])(a,t,e,"",n)},toggleGutter:function(t){this.number=t,this.getAppSituation(this.form)},toggleSignInGutter:function(t){this.numberSignIn=t;var e=Object.assign(this.form);e.timeType=t,this.getSignInRatio(e)},toPoint:function(t){var e=t.replace("%","");return e/=100,e}}}},a5cf:function(t,e,n){"use strict";var a=n("a27e"),i={getSignInSituationUrl:"/workbench-service/sjsk/signIn/getSignInSituation",getSignInToAnalyzeUrl:"/workbench-service/sjsk/signIn/getSignInToAnalyze",getSignInRatio:"/workbench-service/sjsk/signIn/getSignInRatio",getInterviewSituationTrendUrl:"/person-service/specialistSituationAnalysis/getInterviewSituationByArea",getRecoveryRatio:"/person-service/specialistSituationAnalysis/getRecoveryRatio",getHelpTeachingPlanRatio:"/person-service/specialistSituationAnalysis/getHelpTeachingPlanRatio",getLogFinishNumber:"/workbench-service/sjsk/jobLog/getLogFinishNumber",getUserStatisticsAll:"/base-service/statistics/getUserStatisticsAll",getUserStatisticsPart:"/base-service/statistics/getUserStatisticsPart",getList:"/person-service/belongManagerStatistics/getList",getExportExcel:"/person-service/belongManagerStatistics/getExportExcel"};e["a"]={getSignInSituation:function(t){return Object(a["a"])({url:i.getSignInSituationUrl,method:"POST",data:t})},getSignInToAnalyze:function(t){return Object(a["a"])({url:i.getSignInToAnalyzeUrl+"/".concat(t),method:"GET"})},getSignInRatio:function(t){return Object(a["a"])({url:i.getSignInRatio,method:"POST",data:t})},getInterviewSituationTrend:function(t){return Object(a["a"])({url:i.getInterviewSituationTrendUrl,method:"GET",params:t})},getRecoveryRatio:function(t){return Object(a["a"])({url:i.getRecoveryRatio,method:"GET",params:t})},getHelpTeachingPlanRatio:function(t){return Object(a["a"])({url:i.getHelpTeachingPlanRatio,method:"GET",params:t})},outCompletionRateZg:function(t){return Object(a["a"])({url:"/medcare-service/drugRehabilitationManage/outCompletionRateZg",method:"PUT",data:t})},getInterviewPersonNumber:function(t){return Object(a["a"])({url:"/person-service/specialistSituationAnalysis/getInterviewPersonNumber",method:"GET",params:t})},getLogFinishNumber:function(t){return Object(a["a"])({url:i.getLogFinishNumber,method:"GET",params:t})},getUserStatisticsAll:function(t){return Object(a["a"])({url:i.getUserStatisticsAll,method:"GET",params:t})},getUserStatisticsPart:function(t){return Object(a["a"])({url:i.getUserStatisticsPart,method:"GET",params:t})},getList:function(t){return Object(a["a"])({url:i.getList,method:"GET",params:t})},getExportExcel:function(t){return Object(a["a"])({url:i.getExportExcel,method:"GET",params:t,responseType:"blob"})}}},bf4b:function(t,e,n){},c0c7:function(t,e,n){"use strict";var a=n("bf4b"),i=n.n(a);i.a},d41e:function(t,e,n){},d99e:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-wrapper"},[n("div",[n("a-row",{attrs:{gutter:56}},[t._t("default"),n("buttonBox",{style:t.advanced?{float:"right"}:{},on:{toggleAdvanced:t.toggleAdvanced,query:t.query,reset:t.reset}})],2)],1)])},i=[],r=(n("a9e3"),n("5530")),o={name:"SearchListItem",props:{label:{type:String,default:"",required:!1}},inject:{col:{type:Number}},render:function(){var t=arguments[0];return t("a-col",{class:"item-box",props:Object(r["a"])({},c[this.col])},[t("div",{class:"y-search-item"},[t("div",{class:"y-search-label"},[this.$props.label]),t("div",{class:"y-search-content"},[this.$slots.default])])])}},s={name:"buttonBox",data:function(){return{advanced:!1}},inject:{col:{type:Number}},methods:{toggleAdvanced:function(){this.advanced=!this.advanced,this.$emit("toggleAdvanced")},query:function(){this.$emit("query")},reset:function(){this.$emit("reset")}},render:function(){var t=arguments[0];return t("a-col",{props:Object(r["a"])({},c[this.col])},[t("span",{class:"table-page-search-submitButtons",style:"float: 'left', overflow: 'hidden'"},[t("a-button",{attrs:{type:"primary"},on:{click:this.query}},["查询"]),t("a-button",{style:"margin-left: 8px",on:{click:this.reset}},["重置"]),t("a",{attrs:{id:"advance-btn"},style:"margin-left: 8px",on:{click:this.toggleAdvanced}},[this.advanced?"收起":"展开",t("a-icon",{props:Object(r["a"])({},{type:this.advanced?"up":"down"})})])])])}},c={1:{xs:24},2:{xs:24,sm:12},3:{xs:24,sm:12,md:8},4:{md:24,lg:12,xl:8,xxl:6}},u={name:"SearchForm",Item:o,components:{buttonBox:s},props:{col:{type:Number,required:!1,default:6}},provide:function(){return{col:this.col>4?4:this.col}},data:function(){return{advanced:!1,toplist:[],bottomList:[]}},methods:{toggleAdvanced:function(){this.advanced=!this.advanced,this.displayItem()},query:function(){this.$emit("query")},reset:function(){this.$emit("reset")},displayItem:function(){var t=this.$slots.default,e=this.col,n=t.length;if(n<e)document.getElementById("advance-btn").style.display="none";else for(var a=e-1;a<n;a++)t[a].elm.style.display=this.advanced?"":"none"}},mounted:function(){this.displayItem()}},l=u,g=(n("8cc5"),n("2877")),h=Object(g["a"])(l,a,i,!1,null,"359e9f37",null),d=h.exports;e["a"]=d}}]);