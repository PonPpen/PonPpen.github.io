(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19f9f952"],{"11c5":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("PageView",[a("SplitLayout",[a("a-form-model",{ref:"ruleForm",attrs:{form:e.form,model:e.form,rules:e.rules,labelCol:{span:6},wrapperCol:{span:12}}},[a("a-form-model-item",{attrs:{label:"请输入标题",prop:"title"}},[a("a-input",{attrs:{placeholder:"请输入标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("a-form-model-item",{attrs:{label:"级别",prop:"level"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择级别"},model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",t)},expression:"form.level"}},[a("a-select-option",{attrs:{value:0}},[e._v("普通")]),a("a-select-option",{attrs:{value:1}},[e._v("紧急")])],1)],1),a("a-form-model-item",{attrs:{label:"平台",prop:"platform"}},[a("a-input",{attrs:{disabled:!0},model:{value:e.form.platform,callback:function(t){e.$set(e.form,"platform",t)},expression:"form.platform"}})],1),a("a-form-model-item",{attrs:{label:"功能",prop:"function"}},[a("a-tree-select",{staticStyle:{width:"100%"},attrs:{"tree-data":e.treeData,treeCheckable:!1,"tree-checkable":"",placeholder:"请选择功能"},on:{change:e.change},model:{value:e.form.function,callback:function(t){e.$set(e.form,"function",t)},expression:"form.function"}})],1),a("a-form-model-item",{attrs:{label:"创建人",prop:"cueateUserName"}},[a("a-input",{attrs:{placeholder:"请输入创建人",disabled:!0},model:{value:e.form.cueateUserName,callback:function(t){e.$set(e.form,"cueateUserName",t)},expression:"form.cueateUserName"}})],1),a("a-form-model-item",{attrs:{label:"描述：",required:"",prop:"description"}},[a("a-textarea",{attrs:{placeholder:"请输入描述",rows:4},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),a("a-form-model-item",{attrs:{label:"附件"}},[a("div",{staticStyle:{display:"flex"}},[a("UploadFiles",{ref:"UploadFiles"}),a("span",[e._v("（不超过50M）")])],1)]),a("a-form-model-item",{attrs:{"wrapper-col":{span:12,offset:5}}},[a("a-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.okSubmit}},[e._v(" 提交 ")])],1)],1)],1)],1)},r=[],o=(a("4160"),a("d81d"),a("b0c0"),a("d3b7"),a("159b"),a("c443")),i=a("cc33"),l=a("6939"),s=a("cf45"),u={components:{UploadFiles:l["a"]},data:function(){return{labelCol:{span:10},wrapperCol:{span:14},form:{title:"",level:"",platform:"PC管理端",platformId:"0",function:"",description:"",cueateUserName:"",fileCode:"",personType:0},rules:{title:[{required:!0,message:"请输入标题"},{validator:s["n"]}],level:[{required:!0,message:"请选择级别"}],platform:[{required:!0,message:"请选择平台"}],function:[{required:!0,message:"请选择功能"}],description:[{required:!0,message:"请输入描述"},{validator:s["q"]}]},loading:!1,functionData:[],treeData:[]}},created:function(){var e=this,t=Object(i["c"])();this.treeData=t.map((function(t){return e.mapTree(t)})),this.form.cueateUserName=Object(i["f"])().name},methods:{change:function(e){},mapTree:function(e){var t=this,a=Array.isArray(e.childMenu)&&e.childMenu.length>0;return{title:e.menuName,label:e.menuName,value:e.menuName,children:a?e.childMenu.map((function(e){return t.mapTree(e)})):[]}},okSubmit:function(){var e=this,t=this;this.$refs.ruleForm.validate((function(a){if(!a)return!1;var n=t.$refs.UploadFiles.fileList,r=[];n.length>0&&n.forEach((function(e){r.push(e.data)})),t.form.fileCode=r.toString(),e.loading=!0,o["a"].feedbackAdd(e.form).then((function(t){e.loading=!1,e.$message.success("添加成功"),e.$router.push({path:"/callCenter/customerServiceList"})})).catch((function(t){e.loading=!1}))}))}}},c=u,f=a("2877"),p=Object(f["a"])(c,n,r,!1,null,"59aed70a",null);t["default"]=p.exports},6939:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-upload",{attrs:{name:"files",multiple:!0,headers:this.token,fileList:e.fileListData,beforeUpload:e.beforeUpload,action:e.uploadService},on:{change:e.handleChange}},[e.fileListData.length<e.length?a("div",[a("a-button",[a("a-icon",{attrs:{type:"upload"}}),e._v(" 上传 ")],1)],1):e._e()])},r=[],o=(a("b0c0"),a("a9e3"),a("d3b7"),a("b85c")),i=a("cc33");var l={props:{imgURL:{type:String,default:""},length:{type:Number,default:5}},data:function(){return{token:{token:Object(i["e"])(),loginFlag:0},uploadService:this.$globalConfig.uploadService+"/base/upload",uploadPath:this.$globalConfig.uploadPath+"/file/",previewVisible:!1,fileList:[],fileListData:[]}},methods:{beforeUpload:function(e){var t=e.size/1024/1024<50;return t||this.$message.error("文件超过50M了"),t},handleChange:function(e){var t=e.file,a=e.fileList;console.log(t.status),"removed"!==t.status&&t.response&&200!==t.response.status?this.$message.error("上传失败，检查服务是否正常或者重新上传"):("removed"===t.status&&(this.fileListData=a,this.fileList=this.fileListMap(this.fileListData)),"uploading"===t.status&&(this.fileListData=a),"done"===t.status&&200===t.response.status&&(this.fileList=this.fileListMap(this.fileListData)))},fileListMap:function(e){var t,a=[],n=Object(o["a"])(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i={};r.response&&200===r.response.status&&(i.name=r.name,i.data=r.response.data[0],a.push(i))}}catch(l){n.e(l)}finally{n.f()}return a},handleCancel:function(){this.previewVisible=!1}},created:function(){}},s=l,u=a("2877"),c=Object(u["a"])(s,n,r,!1,null,"38dac04e",null);t["a"]=c.exports},b85c:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("a4d3"),a("e01a"),a("d28b"),a("d3b7"),a("3ca3"),a("ddb0");var n=a("06c5");function r(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=Object(n["a"])(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return l=e.done,e},e:function(e){s=!0,i=e},f:function(){try{l||null==a["return"]||a["return"]()}finally{if(s)throw i}}}}},cf45:function(e,t,a){"use strict";a.d(t,"h",(function(){return n})),a.d(t,"l",(function(){return r})),a.d(t,"f",(function(){return o})),a.d(t,"g",(function(){return i})),a.d(t,"a",(function(){return l})),a.d(t,"j",(function(){return s})),a.d(t,"i",(function(){return u})),a.d(t,"k",(function(){return c})),a.d(t,"m",(function(){return f})),a.d(t,"o",(function(){return p})),a.d(t,"p",(function(){return d})),a.d(t,"n",(function(){return m})),a.d(t,"q",(function(){return h})),a.d(t,"c",(function(){return v})),a.d(t,"b",(function(){return g})),a.d(t,"d",(function(){return b})),a.d(t,"e",(function(){return E}));a("4d63"),a("ac1f"),a("25f0"),a("5319"),a("1276");function n(e,t,a){var n=new RegExp(/^((\+?86)|(\(\+86\)))?1[3456789]\d{9}$/);t&&!n.test(t)?a("当前联系方式不符合规范!"):a()}function r(e,t,a){var n=new RegExp(/^([0-9]{3,4}-)?[0-9]{7,8}$/);t&&!n.test(t)?a("当前联系方式不符合规范!"):a()}function o(e,t,a){var n=new RegExp(/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/);t&&!n.test(t)?a("当前身份证不符合规范!"):a()}function i(e,t,a){var n=new RegExp(/^[\u0391-\uFFE5A-Za-z]+$/);t&&!n.test(t)?a("姓名不符合规范，只允许输入汉字和英文!"):t&&t.length<2?a("姓名长度不能小于1个字符"):t&&t.length>20?a("输入长度不能大于20个字符"):a()}function l(e,t,a){var n=new RegExp(/^([\u4E00-\uFA29]|[\uE7C7-\uE7F3]|[a-zA-Z0-9_-]|[()（）{}]){1,20}$/);t&&!n.test(t)?a("现在居住地不符合规范，包含中英文字母数字或下划线!"):t&&t.length<2?a("现在居住地长度不能小于1个字符"):a()}function s(e,t,a){var n=new RegExp(/^[\u0391-\uFFE5A-Za-z]+$/);t&&!n.test(t)?a("毕业院校不符合规范，只允许输入汉字和英文!"):t&&t.length<2?a("毕业院校长度不能小于1个字符"):a()}function u(e,t,a){var n=new RegExp(/^[\u0391-\uFFE5A-Za-z]+$/);t&&!n.test(t)?a("专业不符合规范，只允许输入汉字和英文!"):t&&t.length<2?a("专业长度不能小于1个字符"):a()}function c(e,t,a){var n=new RegExp(/^([a-zA-Z0-9_-]){1,999}$/);t&&!n.test(t)?a("输入不规范，只允许输入字母、数字以及符号_-"):t&&t.length<2?a("输入长度不能小于1个字符"):a()}function f(e,t,a){var n=new RegExp(/^([\u4E00-\uFA29]|[\uE7C7-\uE7F3]|[a-zA-Z0-9_-]|[()（）{}]){1,999}$/);t&&!n.test(t)?a("输入不规范，不允许输入特殊字符！"):t&&t.length<2?a("输入长度不能小于1个字符"):a()}function p(e,t,a){var n=new RegExp(/^([\u4E00-\uFA29]|[\uE7C7-\uE7F3]|[a-zA-Z0-9_-]|[()（）{},.，。/+]){1,999}$/);t&&!n.test(t)?a("输入不规范，不允许输入特殊字符！"):t&&t.length<2?a("输入长度不能小于1个字符"):t&&t.length>20?a("输入长度不能大于20个字符"):a()}function d(e,t,a){var n=new RegExp(/^([\u4E00-\uFA29]|[\uE7C7-\uE7F3]|[a-zA-Z0-9_-]|[()（）{},.，。/+]){1,999}$/);t&&!n.test(t)?a("输入不规范，不允许输入特殊字符！"):t&&t.length<2?a("输入长度不能小于1个字符"):t&&t.length>50?a("输入长度不能大于50个字符"):a()}function m(e,t,a){var n=new RegExp(/^([\u4E00-\uFA29]|[\uE7C7-\uE7F3]|[a-zA-Z0-9_-]|[()（）{},.，。/+]){1,999}$/);t&&!n.test(t)?a("输入不规范，不允许输入特殊字符！"):t&&t.length<2?a("输入长度不能小于1个字符"):t&&t.length>100?a("输入长度不能大于100个字符"):a()}function h(e,t,a){var n=new RegExp(/^([\u4E00-\uFA29]|[\uE7C7-\uE7F3]|[a-zA-Z0-9_-]|[()（）{},.，。/+]){1,999}$/);t&&!n.test(t)?a("输入不规范，不允许输入特殊字符！"):t&&t.length<2?a("输入长度不能小于1个字符"):t&&t.length>500?a("输入长度不能大于500个字符"):a()}function v(e,t){if(""!=e&&""!=t&&void 0!=e&&void 0!=t&&null!=e&&null!=t){var a=e.split("-"),n=t.split("-"),r=a[0]+"/"+a[1]+"/"+a[2],o=n[0]+"/"+n[1]+"/"+n[2];return r>=o}}function g(e,t){var a=new Date,n="";return n=e.replace(/-/g,"/"),n=new Date(n),n.valueOf()>a.valueOf()}function b(e,t,a){return Date.parse(e)>=Date.parse(t)||Date.parse(e)>=Date.parse(a)||Date.parse(t)>Date.parse(a)||Date.parse(a)==Date.parse(t)&&Date.parse(a)<Date.parse(e)||Date.parse(a)==Date.parse(t)&&Date.parse(t)<Date.parse(e)||Date.parse(a)>Date.parse(e)&&Date.parse(a)<Date.parse(t)}function E(e,t){var a=Date.parse(e),n=Date.parse(t);if(a>n)return 0;if(a==n)return 1;var r=(n-a)/864e5;return r}}}]);