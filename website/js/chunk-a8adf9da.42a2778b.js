(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a8adf9da","chunk-292c6eb3"],{"07cc":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card-wrap"},[e("div",{staticClass:"card-title"},[e("div",{staticClass:"title"},[t._v(t._s(t.title)+" "),t._t("subTitle")],2),t._t("right")],2),e("div",{staticClass:"card-content"},[t._t("default")],2)])},i=[],r={name:"AnalysisCard",data:function(){return{title:this.label}},props:{label:{type:String,default:""}}},s=r,o=(e("c0c7"),e("2877")),l=Object(o["a"])(s,n,i,!1,null,"7d7b4c56",null);a["default"]=l.exports},3418:function(t,a,e){},8130:function(t,a,e){"use strict";var n=e("3418"),i=e.n(n);i.a},bf4b:function(t,a,e){},c0c7:function(t,a,e){"use strict";var n=e("bf4b"),i=e.n(n);i.a},fe18:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("SplitLayout",{attrs:{contentBg:"#f0f2f5",contentPadding:"20PX 0"}},[e("div",{attrs:{slot:"top"},slot:"top"},[e("SearchForm",{on:{query:t.onQuery,reset:t.onResetForm}},[e("SearchFormItem",{staticStyle:{width:"40%"},attrs:{label:"选择地区:"}},[e("a-cascader",{staticStyle:{width:"100%"},attrs:{options:t.options,"change-on-select":"",placeholder:"请选择地区"},on:{change:t.onAreaChange},model:{value:t.areaModel,callback:function(a){t.areaModel=a},expression:"areaModel"}})],1),e("SearchFormItem",{staticStyle:{width:"41.5%"},attrs:{label:"选择人员类型:"}},[e("a-select",{staticStyle:{width:"100%"},attrs:{defaulValue:""},model:{value:t.form.sjskType,callback:function(a){t.$set(t.form,"sjskType",a)},expression:"form.sjskType"}},[e("a-select-option",{attrs:{value:""}},[t._v("全部")]),e("a-select-option",{attrs:{value:"1"}},[t._v("社戒人员")]),e("a-select-option",{attrs:{value:"2"}},[t._v("社康人员")])],1)],1),e("SearchFormItem",{staticStyle:{width:"100%"},attrs:{label:"选择统计时间:"}},[e("a-radio-group",{attrs:{name:"radioGroup","default-value":1},model:{value:t.form.timeType,callback:function(a){t.$set(t.form,"timeType",a)},expression:"form.timeType"}},[e("a-radio",{attrs:{value:1}},[t._v(" 年 ")]),e("a-radio",{attrs:{value:2}},[t._v(" 季度 ")]),e("a-radio",{attrs:{value:3}},[t._v(" 月 ")]),e("a-radio",{attrs:{value:4}},[t._v(" 自定义 ")])],1),e("a-range-picker",{attrs:{"default-value":[t.moment("2020/01/01",t.dateFormat),t.moment("2020/01/01",t.dateFormat)],format:t.dateFormat},on:{change:t.rangePickerChange},model:{value:t.rangePickerTime,callback:function(a){t.rangePickerTime=a},expression:"rangePickerTime"}})],1)],1)],1),e("div",[e("a-row",{attrs:{gutter:[16,16]}},[e("a-col",{staticClass:"gutter-row",attrs:{span:12}},[e("div",{staticClass:"gutter-box"},[e("AnalysisCard",{attrs:{label:"年龄情况分析"}},[e("div",{staticClass:"echarts",attrs:{id:"age-echarts"}},[0===t.AgeAnalysisData.length?e("div",{staticClass:"no-data"},[t._v("暂无数据")]):t._e()])])],1)]),e("a-col",{staticClass:"gutter-row",attrs:{span:12}},[e("div",{staticClass:"gutter-box"},[e("AnalysisCard",{attrs:{label:"性别分布情况"}},[e("a-radio-group",{staticStyle:{margin:"8px"},on:{change:t.onRadioChange},model:{value:t.ageType,callback:function(a){t.ageType=a},expression:"ageType"}},[e("a-radio-button",{attrs:{value:"1"}},[t._v(" 18岁以下 ")]),e("a-radio-button",{attrs:{value:"2"}},[t._v(" 18-25 ")]),e("a-radio-button",{attrs:{value:"3"}},[t._v(" 26-35 ")]),e("a-radio-button",{attrs:{value:"4"}},[t._v(" 36-50 ")]),e("a-radio-button",{attrs:{value:"5"}},[t._v(" 51-70 ")]),e("a-radio-button",{attrs:{value:"6"}},[t._v(" 70以上 ")])],1),e("div",{staticClass:"echarts",attrs:{id:"sex-echarts"}},[0===t.SexDistributionData.length?e("div",{staticClass:"no-data"},[t._v("暂无数据")]):t._e()])],1)],1)])],1),e("a-row",{attrs:{gutter:[16,16]}},[e("a-col",{staticClass:"gutter-row",attrs:{span:12}},[e("div",{staticClass:"gutter-box"},[e("AnalysisCard",{attrs:{label:"文化程度分析"}},[e("div",{staticClass:"echarts",attrs:{id:"culture-echarts"}},[0===t.EducationAnalysisData.length?e("div",{staticClass:"no-data"},[t._v("暂无数据")]):t._e()])])],1)]),e("a-col",{staticClass:"gutter-row",attrs:{span:12}},[e("div",{staticClass:"gutter-box"},[e("AnalysisCard",{attrs:{label:"危险情况分析"}},[e("div",{staticClass:"echarts",attrs:{id:"dangerous-echarts"}},[0===t.DangerSituationAnalysisData.length?e("div",{staticClass:"no-data"},[t._v("暂无数据")]):t._e()])])],1)])],1)],1)])},i=[],r=(e("4160"),e("159b"),e("5530")),s=e("cc33"),o=e("2f62"),l=e("d99e"),c=e("07cc"),u=e("16fe"),d=e("752d"),h=e("007b"),g=e("c1df"),f=e.n(g),m=l["a"].Item,v={name:"Index",components:{SearchForm:l["a"],SearchFormItem:m,AnalysisCard:c["default"]},data:function(){return{rangePickerTime:[],areaModel:[],areaArray:[],options:[],form:{departmentId:null,endTime:"",startTime:"",sjskType:"",timeType:""},ageType:"1",dateFormat:"YYYY/MM/DD",AgeAnalysisData:[],SexDistributionData:[],EducationAnalysisData:[],DangerSituationAnalysisData:[]}},created:function(){var t={deptKey:1};this.getArea(t),this.initParam(),this.getAgeAnalysis(this.form),this.getSexDistribution(),this.getEducationAnalysis(this.form),this.getDangerSituationAnalysis(this.form),console.log("所在区域@@@",Object(s["f"])())},mounted:function(){},computed:Object(r["a"])({},Object(o["d"])({loading:function(t){return t.SysExamination.loading},listData:function(t){return t.SysExamination.applyIngData}})),methods:{moment:f.a,initParam:function(){this.form.departmentId=Object(s["f"])().mainDeptId,this.areaModel=[this.form.departmentId],this.form.sjskType="",this.form.timeType=4;var t=Object(u["getTime"])();this.form.startTime=t,this.form.endTime=t,this.rangePickerTime=[f()(t,this.dateFormat),f()(t,this.dateFormat)],console.log("默认参数",this.form)},getArea:function(t){var a=this;h["a"].getDepartmentTree(t).then((function(t){null!==t&&(a.areaArray=t.data,a.areaArray.forEach((function(t,e){a.options.push({value:t.key,label:t.title,children:[]}),console.log("地址",a.areaArray,a.options),t.children&&0!==t.children.length&&t.children.forEach((function(t,n){a.options[e].children.push({value:t.key,label:t.title,children:[]}),t.children&&0!==t.children.length&&t.children.forEach((function(t,i){a.options[e].children[n].children.push({value:t.key,label:t.title,children:[]}),t.children&&t.children.length&&t.children.forEach((function(r,s){a.options[e].children[n].children[i].children.push({value:r.key,label:r.title,children:[]}),r.children&&r.children.length&&r.children.forEach((function(r,o){a.options[e].children[n].children[i].children[s].children.push({value:r.key,label:r.title,children:[]}),r.children&&r.children.length&&t.children.forEach((function(t){a.options[e].children[n].children[i].children[s].children[o].children.push({value:t.key,label:t.title,children:[]})}))}))}))}))}))})))})).catch((function(){}))},onAreaChange:function(t){this.form.departmentId=t[t.length-1],console.log(t[0],this.form.departmentId)},rangePickerChange:function(t){var a=t[0]["_d"].getMonth()+1>=10?t[0]["_d"].getMonth()+1:"0"+(t[0]["_d"].getMonth()+1),e=t[1]["_d"].getMonth()+1>=10?t[1]["_d"].getMonth()+1:"0"+(t[1]["_d"].getMonth()+1),n=t[0]["_d"].getDate()>=10?t[0]["_d"].getDate():"0"+t[0]["_d"].getDate(),i=t[1]["_d"].getDate()>=10?t[1]["_d"].getDate():"0"+t[1]["_d"].getDate();this.form.startTime=t[0]["_d"].getFullYear()+"-"+a+"-"+n,this.form.endTime=t[1]["_d"].getFullYear()+"-"+e+"-"+i},getParam:function(){},getAgeAnalysis:function(t){var a=this,e=[],n=[];d["a"].getAgeAnalysis(t).then((function(t){if(null!==t){var i=t.data;a.AgeAnalysisData=t.data,i&&i.forEach((function(t){e.push({value:t.count,name:t.typeName}),n.push({ratio:t.ratio})})),a.Charts1(e,n),console.log("年龄情况数据",e,n)}})).catch((function(){}))},getSexDistribution:function(){var t=this,a=this.form;a["ageType"]=this.ageType,console.log("性别分布情况",a);var e=[],n=[];d["a"].getSexDistribution(a).then((function(a){if(null!==a){var i=a.data;t.SexDistributionData=[],i&&i.forEach((function(t){e.push({value:t.count,name:t.typeName}),n.push({ratio:t.ratio})})),t.Charts2(e,n)}})).catch((function(){}))},getEducationAnalysis:function(t){var a=this,e=[],n=[];d["a"].getEducationAnalysis(t).then((function(t){if(null!==t){var i=t.data;a.EducationAnalysisData=t.data,i&&i.forEach((function(t){e.push({value:t.count,name:t.typeName}),n.push({ratio:t.ratio})})),a.Charts3(e,n,180)}})).catch((function(){}))},getDangerSituationAnalysis:function(t){var a=this,e=[];d["a"].getDangerSituationAnalysis(t).then((function(t){if(null!==t){var n=t.data;a.DangerSituationAnalysisData=t.data,n&&n.forEach((function(t){e.push({value:t.count,name:t.typeName})})),a.Charts4(e)}})).catch((function(){}))},getExportExcel:function(t){d["a"].getExportExcel(t).then((function(t){null!==t&&console.log("导出表格",t)})).catch((function(){}))},onRadioChange:function(t){console.log("年龄切换",t.target.value,this.ageType),this.getSexDistribution()},onQuery:function(){var t=this.form;console.log("参数",this.form),this.getAgeAnalysis(t),this.getSexDistribution(),this.getEducationAnalysis(t),this.getDangerSituationAnalysis(t)},onResetForm:function(){this.initParam()},radioOnChange:function(t){console.log(t.target.value)},getAgeAnalysisData:function(t){d["a"].getAgeAnalysis(t).then((function(t){null!==t&&console.log("年龄情况分析",t)})).catch((function(){}))},Charts1:function(t,a){var e=this.$echarts.init(document.getElementById("age-echarts")),n=["25%","53%"],i=[0,100],r="middle";Object(u["drawPieEcharts"])(e,n,i,r,t,a,140,"人")},Charts2:function(t,a){var e=this.$echarts.init(document.getElementById("sex-echarts")),n=["25%","40%"],i=[70,90],r="30%";Object(u["drawPieEcharts"])(e,n,i,r,t,a,80,"人")},Charts3:function(t,a,e){var n=this.$echarts.init(document.getElementById("culture-echarts")),i=["25%","53%"],r=[0,100],s="middle";Object(u["drawPieEcharts"])(n,i,r,s,t,a,e,"人")},Charts4:function(t){var a=this.$echarts.init(document.getElementById("dangerous-echarts")),e=["50%","50%"],n=[0,100],i="middle";Object(u["drawPie1Echarts"])(a,e,n,i,t)}}},p=v,y=(e("8130"),e("2877")),b=Object(y["a"])(p,n,i,!1,null,"2ca5235a",null);a["default"]=b.exports}}]);