(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b526d76"],{"17b5":function(e,t,n){"use strict";var s=n("b775"),a="/manage-service";t["a"]={sjskResult:function(){return Object(s["a"])({url:a+"/SjskRelapseDanger/getResult",method:"GET"})},sjskRelapseDanger:function(e){return Object(s["a"])({url:a+"/SjskRelapseDanger/addOrUpdate",method:"POST",data:e})},gatherWarnRule:function(){return Object(s["a"])({url:a+"/gatherWarnRule/getResult",method:"GET"})},gatherWarnRuleUpdate:function(e){return Object(s["a"])({url:a+"/gatherWarnRule/addOrUpdate",method:"POST",data:e})},leaveWarnRule:function(){return Object(s["a"])({url:a+"/leaveWarnRule/getResult",method:"GET"})},leaveWarnRuleaddOrUpdate:function(e){return Object(s["a"])({url:a+"/leaveWarnRule/addOrUpdate",method:"POST",data:e})},dangerRegionRule:function(){return Object(s["a"])({url:a+"/dangerRegionRule/getResult",method:"GET"})},dangerRegionRuleUpdate:function(e){return Object(s["a"])({url:a+"/dangerRegionRule/addOrUpdate",method:"POST",data:e})},exceptionalWarnRule:function(){return Object(s["a"])({url:a+"/exceptionalWarnRule/getResult",method:"GET"})},exceptionalWarnRuleUpdate:function(e){return Object(s["a"])({url:a+"/exceptionalWarnRule/addOrUpdate",method:"POST",data:e})},sjskRegionList:function(){return Object(s["a"])({url:a+"/sjskRegion/getList",method:"GET"})},sjskKeywords:function(e){return Object(s["a"])({url:a+"/sjskKeywords/getResult?keyName="+e,method:"POST"})},sjskKeywordsadd:function(e){return Object(s["a"])({url:a+"/sjskKeywords/add",method:"POST",data:e})},sjskKeywordsdelete:function(e){return Object(s["a"])({url:a+"/sjskKeywords/delete",method:"POST",data:e})},sjskRegionResult:function(e){return Object(s["a"])({url:a+"/sjskRegion/getResult",method:"POST",data:e})},sjskRegiondelete:function(e){return Object(s["a"])({url:a+"/sjskRegion/delete?id="+e,method:"GET"})},sjskRegionadd:function(e){return Object(s["a"])({url:a+"/sjskRegion/add",method:"POST",data:e})},sjskRegionexcelToSave:function(e){return Object(s["a"])({url:a+"/sjskRegion/excelToSave",method:"POST",data:e})},sjskRegionchoose:function(e){return Object(s["a"])({url:a+"/sjskRegion/choose",method:"POST",data:e})},sjskRegionqueryById:function(e){return Object(s["a"])({url:a+"/sjskRegion/queryById?id="+e,method:"GET"})},sjskRegionedit:function(e){return Object(s["a"])({url:a+"/sjskRegion/edit",method:"POST",data:e})},commonRecord:function(e){return Object(s["a"])({url:a+"/commonRuleInfo/getRecord",method:"GET",params:e})},commonRuleInfo:function(e){return Object(s["a"])({url:a+"/commonRuleInfo/getRuleInfo",method:"GET",params:e})}}},2772:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PageView",[n("SplitLayout",{attrs:{leftWidth:"240px"}},[n("div",{staticClass:"header-top",attrs:{slot:"top"},slot:"top"},[n("SearchForm",{on:{query:e.onQuery,reset:e.onResetForm}},[n("SearchFormItem",{attrs:{label:"关键词："}},[n("a-input",{attrs:{placeholder:"请输入"},model:{value:e.keyName,callback:function(t){e.keyName=t},expression:"keyName"}})],1)],1)],1),n("div",{staticClass:"con-content"},[n("div",{staticStyle:{"text-align":"left","margin-bottom":"15px"}},[n("OperationPermission",{attrs:{check:"privs.item1580060002"}},[n("a-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary"},on:{click:e.newWord}},[e._v("新建")])],1),n("OperationPermission",{attrs:{check:"privs.item1580060003"}},[n("a-button",{on:{click:e.del}},[e._v("批量删除")])],1)],1),n("a-collapse",{attrs:{accordion:""}},e._l(e.sjskKeywordsData,(function(t,s){return n("a-collapse-panel",{key:s,attrs:{header:t.keyType}},e._l(t.sjskKeywordsList,(function(t,s){return n("a-button",{key:s,staticStyle:{margin:"5px"},attrs:{type:"primary"}},[e._v(e._s(t.keywords))])})),1)})),1)],1),n("a-modal",{attrs:{title:"新建关键词",centered:""},on:{ok:e.saveNew,cancel:function(){return e.modal2Visible=!1}},model:{value:e.modal2Visible,callback:function(t){e.modal2Visible=t},expression:"modal2Visible"}},e._l(e.sjskKeywordsData,(function(t,s){return n("a-row",{key:s,staticStyle:{"margin-bottom":"10px"}},[n("a-col",{attrs:{span:3}},[e._v(e._s(t.keyType))]),n("a-col",{staticStyle:{border:"1px solid #ddd",padding:"5px"},attrs:{span:18}},[e._l(t.sjskKeywordsListNew,(function(t,s){return[t.keywords.length>20?n("a-tooltip",{key:t.keywords,attrs:{title:t.keywords}},[n("a-tag",{key:t.keywords,attrs:{closable:-1!==s},on:{close:function(){return e.handleClose(t.keywords)}}},[e._v(e._s(t.keywords.slice(0,20)+"..."))])],1):n("a-tag",{key:t.keywords,attrs:{closable:-1!==s},on:{close:function(){return e.handleClose(t.keywords)}}},[e._v(e._s(t.keywords))])]})),e.tagIns===s?n("a-input",{ref:"input",refInFor:!0,style:{width:"78px"},attrs:{type:"text",size:"small",value:e.inputValue},on:{change:e.handleInputChange,blur:function(t){return e.handleInputConfirm(s,e.ins)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm(s,e.ins)}}}):n("a-tag",{staticStyle:{background:"#fff",borderStyle:"dashed"},on:{click:function(t){return e.showInput(s)}}},[n("a-icon",{attrs:{type:"plus"}}),e._v("New Tag ")],1)],2)],1)})),1),n("a-modal",{attrs:{title:"删除关键词",centered:""},on:{ok:e.sjskKeywordsdelete,cancel:function(){return e.modal1Visible=!1}},model:{value:e.modal1Visible,callback:function(t){e.modal1Visible=t},expression:"modal1Visible"}},[e._l(e.sjskKeywordsData,(function(t,s){return n("a-row",{key:s,staticStyle:{"margin-bottom":"10px"}},[n("a-col",{attrs:{span:3}},[e._v(e._s(t.keyType))]),n("a-col",{staticStyle:{border:"1px solid #ddd",padding:"5px"},attrs:{span:18}},[e._l(t.sjskKeywordsList,(function(t,a){return[t.keywords.length>20?n("a-tooltip",{key:t.keywords,attrs:{title:t.keywords}},[n("a-tag",{key:t.keywords,attrs:{closable:-1!==a},on:{close:function(n){return e.delTag(t,s)}}},[e._v(e._s(t.keywords.slice(0,20)+"..."))])],1):n("a-tag",{key:t.keywords,attrs:{closable:-1!==a},on:{close:function(n){return e.delTag(t,s)}}},[e._v(e._s(t.keywords))])]}))],2)],1)})),n("a-row",{staticStyle:{"margin-bottom":"10px"}},[n("a-col",{attrs:{span:3}},[e._v("选中删除")]),n("a-col",{staticStyle:{border:"1px solid #ddd",padding:"5px","min-height":"30px"},attrs:{span:18}},[e._l(e.delKeyword,(function(t,s){return[t.keywords.length>20?n("a-tooltip",{key:t.keywords,attrs:{title:t.keywords}},[n("a-tag",{key:t.keywords,attrs:{closable:-1!==s},on:{change:function(n){return e.removeTag(t)},close:function(n){return e.removeTag(t)}}},[e._v(e._s(t.keywords.slice(0,20)+"..."))])],1):n("a-tag",{key:t.keywords,attrs:{closable:-1!==s},on:{change:function(n){return e.removeTag(t)},close:function(n){return e.removeTag(t)}}},[e._v(e._s(t.keywords))])]}))],2)],1)],2)],1)],1)},a=[],o=(n("4de4"),n("4160"),n("159b"),n("5530")),r=n("2f62"),i=n("17b5"),l=n("d99e"),d=l["a"].Item,c={name:"keyword",components:{SearchForm:l["a"],SearchFormItem:d},data:function(){return{delKeyword:[],tags:["Unremovable","Tag 2","Tag 3Tag 3Tag 3Tag 3Tag 3Tag 3Tag 3"],inputVisible:!1,inputValue:"",modal2Visible:!1,modal1Visible:!1,yearInputVal:"",monthInputVal:"",autoExpandParent:!0,searchVal:"",showLine:!0,showIcon:!1,pageFilter:{currentPage:1,pageSize:10},keyName:"",sjskKeywordsData:"",tagIns:""}},created:function(){this.refreshTable()},computed:Object(o["a"])({},Object(r["d"])({loading:function(e){return e.SysPersonnel.loading},pageData:function(e){return e.SysPersonnel.pageData}})),methods:Object(o["a"])(Object(o["a"])({},Object(r["b"])({onPage:"SysPersonnel/onPage",del:"SysPersonnel/del"})),{},{refreshTable:function(){this.onPage(Object(o["a"])(Object(o["a"])({},this.queryForm),this.pageFilter))},view:function(e){this.$refs.Detail.$refs.drawer.show()},onSelect:function(e){console.log(e)},onQuery:function(){this.sjskKeywords()},onResetForm:function(){this.keyName="",this.sjskKeywords()},sjskKeywords:function(){var e=this;i["a"].sjskKeywords(this.keyName).then((function(t){e.sjskKeywordsData=t,e.sjskKeywordsData.forEach((function(e){e.sjskKeywordsListNew=[]}))}))},newWord:function(){this.modal2Visible=!0},handleClose:function(e){var t=this.tags.filter((function(t){return t!==e}));console.log(t),this.tags=t},showInput:function(e){this.tagIns=e},handleInputChange:function(e){this.inputValue=e.target.value},handleInputConfirm:function(e,t){var n;this.inputValue;n=this.sjskKeywordsData[e].sjskKeywordsListNew.push({keywords:this.inputValue}),Object.assign(this,{tags:n,tagIns:"",inputValue:""})},saveNew:function(){var e=this,t=[];this.sjskKeywordsData.forEach((function(e){e.sjskKeywordsListNew.forEach((function(n){var s=e.keyType.substring(0,1);console.log(s);var a=n.keywords;t.push({keyType:s,keywords:a})}))}));var n=t;i["a"].sjskKeywordsadd(n).then((function(t){console.log(t),e.modal2Visible=!1,e.sjskKeywords()}))},del:function(){this.modal1Visible=!0,this.delKeyword=[],this.sjskKeywordsData=[],this.sjskKeywords()},removeTag:function(e){var t=e.index;console.log(e),console.log(this.sjskKeywordsData[t]),this.sjskKeywordsData[t].sjskKeywordsList.push(e)},delTag:function(e,t){e.index=t,this.delKeyword.push(e)},sjskKeywordsdelete:function(){var e=this,t=[];this.delKeyword.forEach((function(e){t.push(e.id)})),i["a"].sjskKeywordsdelete(t).then((function(t){e.modal1Visible=!1,e.sjskKeywords()}))}}),mounted:function(){this.sjskKeywords()}},u=c,y=(n("722b"),n("2877")),h=Object(y["a"])(u,s,a,!1,null,"c0bed85e",null);t["default"]=h.exports},"722b":function(e,t,n){"use strict";var s=n("f12d"),a=n.n(s);a.a},"8cc5":function(e,t,n){"use strict";var s=n("d41e"),a=n.n(s);a.a},d41e:function(e,t,n){},d99e:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-wrapper"},[n("div",[n("a-row",{attrs:{gutter:56}},[e._t("default"),n("buttonBox",{style:e.advanced?{float:"right"}:{},on:{toggleAdvanced:e.toggleAdvanced,query:e.query,reset:e.reset}})],2)],1)])},a=[],o=(n("a9e3"),n("5530")),r={name:"SearchListItem",props:{label:{type:String,default:"",required:!1}},inject:{col:{type:Number}},render:function(){var e=arguments[0];return e("a-col",{class:"item-box",props:Object(o["a"])({},l[this.col])},[e("div",{class:"y-search-item"},[e("div",{class:"y-search-label"},[this.$props.label]),e("div",{class:"y-search-content"},[this.$slots.default])])])}},i={name:"buttonBox",data:function(){return{advanced:!1}},inject:{col:{type:Number}},methods:{toggleAdvanced:function(){this.advanced=!this.advanced,this.$emit("toggleAdvanced")},query:function(){this.$emit("query")},reset:function(){this.$emit("reset")}},render:function(){var e=arguments[0];return e("a-col",{props:Object(o["a"])({},l[this.col])},[e("span",{class:"table-page-search-submitButtons",style:"float: 'left', overflow: 'hidden'"},[e("a-button",{attrs:{type:"primary"},on:{click:this.query}},["查询"]),e("a-button",{style:"margin-left: 8px",on:{click:this.reset}},["重置"]),e("a",{attrs:{id:"advance-btn"},style:"margin-left: 8px",on:{click:this.toggleAdvanced}},[this.advanced?"收起":"展开",e("a-icon",{props:Object(o["a"])({},{type:this.advanced?"up":"down"})})])])])}},l={1:{xs:24},2:{xs:24,sm:12},3:{xs:24,sm:12,md:8},4:{md:24,lg:12,xl:8,xxl:6}},d={name:"SearchForm",Item:r,components:{buttonBox:i},props:{col:{type:Number,required:!1,default:6}},provide:function(){return{col:this.col>4?4:this.col}},data:function(){return{advanced:!1,toplist:[],bottomList:[]}},methods:{toggleAdvanced:function(){this.advanced=!this.advanced,this.displayItem()},query:function(){this.$emit("query")},reset:function(){this.$emit("reset")},displayItem:function(){var e=this.$slots.default,t=this.col,n=e.length;if(n<t)document.getElementById("advance-btn").style.display="none";else for(var s=t-1;s<n;s++)e[s].elm.style.display=this.advanced?"":"none"}},mounted:function(){this.displayItem()}},c=d,u=(n("8cc5"),n("2877")),y=Object(u["a"])(c,s,a,!1,null,"359e9f37",null),h=y.exports;t["a"]=h},f12d:function(e,t,n){}}]);