(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-041ca022"],{"1a13":function(e,t,r){},"1da1":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("d3b7");function o(e,t,r,o,n,a,i){try{var s=e[a](i),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(o,n)}function n(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function s(e){o(i,n,a,s,c,"next",e)}function c(e){o(i,n,a,s,c,"throw",e)}s(void 0)}))}}},"7f24":function(e,t,r){"use strict";var o=r("b775");t["a"]={personHolographicRecordPage:function(e){return Object(o["a"])({url:"/person-service/personHolographicRecord/getList",method:"GET",params:e})},personHolographicRecordDelete:function(e){return Object(o["a"])({url:"/person-service/personHolographicRecord/delete",method:"POST",data:e})},getPersonRecord:function(e){return Object(o["a"])({url:"/person-service/personHolographicRecord/getPersonRecord/"+"".concat(e),method:"get"})},getWarnInfo:function(e){return Object(o["a"])({url:"/person-service/warnInfo/getWarnInfo/"+"".concat(e),method:"get"})},personHolographicRecord:function(e){return Object(o["a"])({url:"/person-service/personHolographicRecord/getPerson/"+"".concat(e),method:"get"})},personHolographicRecordArchive:function(e){return Object(o["a"])({url:"/person-service/personHolographicRecord/archive",method:"post",data:e})},sjskPersonDetail:function(e){return Object(o["a"])({url:"/person-service/sjskPerson/getBaseInfo/"+"".concat(e),method:"get"})},getFamilyAtlas:function(e){return Object(o["a"])({url:"/person-service/personHolographicRecord/getFamilyAtlas",method:"get",params:e})},socialSecurityList:function(e){return Object(o["a"])({url:"/data-docking-service/sjsk/socialSecurity/pageSocialSecurityList",method:"post",data:e})},guaranteeList:function(e){return Object(o["a"])({url:"/data-docking-service/sjsk/guarantee/pageGuaranteeList",method:"post",data:e})},placementJobSettledHistory:function(e){return Object(o["a"])({url:"/medcare-service/placementJobSettledHistory/get/"+"".concat(e),method:"get"})},appChatRecordList:function(e){return Object(o["a"])({url:"/person-service/appChatRecord/getList",method:"get",params:e})},appChatRecordDelete:function(e){return Object(o["a"])({url:"/person-service/appChatRecord/delete",method:"post",data:e})},getSjskPersonInfo:function(e){return Object(o["a"])({url:"/person-service/sjskPerson/getSjskPersonInfo/"+"".concat(e),method:"get"})},getSjskBatchUnarchive:function(e){return Object(o["a"])({url:"/person-service/personHolographicRecord/batchUnarchive",method:"post",data:e})}}},"96cf":function(e,t){!function(t){"use strict";var r,o=Object.prototype,n=o.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag",u="object"===typeof e,l=t.regeneratorRuntime;if(l)u&&(e.exports=l);else{l=t.regeneratorRuntime=u?e.exports:{},l.wrap=j;var p="suspendedStart",f="suspendedYield",h="executing",d="completed",m={},v={};v[i]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(I([])));y&&y!==o&&n.call(y,i)&&(v=y);var b=S.prototype=w.prototype=Object.create(v);O.prototype=b.constructor=S,S.constructor=O,S[c]=O.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===O||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(b),e},l.awrap=function(e){return{__await:e}},x(k.prototype),k.prototype[s]=function(){return this},l.AsyncIterator=k,l.async=function(e,t,r,o){var n=new k(j(e,t,r,o));return l.isGeneratorFunction(t)?n:n.next().then((function(e){return e.done?e.value:n.next()}))},x(b),b[c]="Generator",b[i]=function(){return this},b.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){while(t.length){var o=t.pop();if(o in e)return r.value=o,r.done=!1,r}return r.done=!0,r}},l.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(o,n){return s.type="throw",s.arg=e,t.next=o,n&&(t.method="next",t.arg=r),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;T(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:I(e),resultName:t,nextLoc:o},"next"===this.method&&(this.arg=r),m}}}function j(e,t,r,o){var n=t&&t.prototype instanceof w?t:w,a=Object.create(n.prototype),i=new E(o||[]);return a._invoke=R(e,r,i),a}function _(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(o){return{type:"throw",arg:o}}}function w(){}function O(){}function S(){}function x(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function k(e){function t(r,o,a,i){var s=_(e[r],e,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"===typeof u&&n.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,a,i)}),(function(e){t("throw",e,a,i)})):Promise.resolve(u).then((function(e){c.value=e,a(c)}),i)}i(s.arg)}var r;function o(e,o){function n(){return new Promise((function(r,n){t(e,o,r,n)}))}return r=r?r.then(n,n):n()}this._invoke=o}function R(e,t,r){var o=p;return function(n,a){if(o===h)throw new Error("Generator is already running");if(o===d){if("throw"===n)throw a;return D()}r.method=n,r.arg=a;while(1){var i=r.delegate;if(i){var s=L(i,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=_(e,t,r);if("normal"===c.type){if(o=r.done?d:f,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=d,r.method="throw",r.arg=c.arg)}}}function L(e,t){var o=e.iterator[t.method];if(o===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,L(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=_(o,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,m):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function t(){while(++o<e.length)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=r,t.done=!0,t};return a.next=a}}return{next:D}}function D(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},f09e:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("PageView",[r("div",{staticClass:"layout_contain"},[r("div",{staticClass:"layout_left"},[r("div",{staticClass:"avatar"},[r("a-avatar",{staticStyle:{width:"80px",height:"80px","border-radius":"0","margin-right":"20px"},attrs:{src:e.imgUrl}}),r("div",[e.infoObj&&e.infoObj.realName?r("h2",[e._v(e._s(e.infoObj.realName))]):e._e(),r("p",[e._v(e._s(e.infoObj.phone))])])],1),r("div",{staticClass:"profiles"},[r("p",[r("span",[e._v("档案编号：")]),e._v(e._s(e.infoObj.number))]),r("p",[r("span",[e._v("档案状态：")]),e._v(e._s(e.infoObj.recordStatus))]),r("p",[r("span",[e._v("当前状态：")]),e._v(e._s(e.archiveType))]),e.infoObj&&e.infoObj.sjskType?r("p",[r("span",[e._v("执行类型：")]),e._v(e._s(1===e.infoObj.sjskType?"社戒":2===e.infoObj.sjskType?"社康":"")+" ")]):e._e(),r("p",[r("span",[e._v("人员性别：")]),e._v(e._s(1===e.infoObj.sex?"男":"女"))]),r("p",[r("span",[e._v("身份证号：")]),e._v(e._s(e.infoObj.identityCard))]),r("p",[r("span",[e._v("现居住地址：")]),e._v(e._s(e.infoObj.currentAddress))]),r("p",[r("span",[e._v("户籍地址：")]),e._v(e._s(e.infoObj.householdAddress))]),r("p",[r("span",[e._v("专职人员姓名：")]),e._v(e._s(e.infoObj.belongManagerName))]),r("p",[r("span",[e._v("专职人员手机号：")]),e._v(e._s(e.infoObj.belongManagerPhone))])])]),r("div",{staticClass:"layout_right"},[r("a-form-model",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[r("a-form-model-item",{attrs:{label:"归档类型",prop:"personStatus"}},[r("a-select",{attrs:{placeholder:"请选择"},model:{value:e.form.personStatus,callback:function(t){e.$set(e.form,"personStatus",t)},expression:"form.personStatus"}},[r("a-select-option",{attrs:{value:4}},[e._v("死亡")]),r("a-select-option",{attrs:{value:5}},[e._v("终止")]),r("a-select-option",{attrs:{value:6}},[e._v("解除")]),r("a-select-option",{attrs:{value:7}},[e._v("执行地变更省外")]),r("a-select-option",{attrs:{value:8}},[e._v("社会面归档")])],1)],1),4===e.form.personStatus?r("div",[r("a-form-model-item",{attrs:{label:"死亡时间",required:"",prop:"dieTime"}},[r("a-date-picker",{staticStyle:{width:"100%"},attrs:{"show-time":"",format:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD",type:"date",placeholder:"请选择"},model:{value:e.form.dieTime,callback:function(t){e.$set(e.form,"dieTime",t)},expression:"form.dieTime"}})],1),r("a-form-model-item",{attrs:{label:"死亡信息来源"}},[r("a-input",{attrs:{placeholder:"请选择"},model:{value:e.form.dieInfoSource,callback:function(t){e.$set(e.form,"dieInfoSource",t)},expression:"form.dieInfoSource"}})],1),r("a-form-model-item",{attrs:{label:"其它疾病死亡"}},[r("a-input",{attrs:{placeholder:"请选择"},model:{value:e.form.otherDiseaseDie,callback:function(t){e.$set(e.form,"otherDiseaseDie",t)},expression:"form.otherDiseaseDie"}})],1),r("a-form-model-item",{attrs:{label:"其它疾病死亡信息来源"}},[r("a-input",{attrs:{placeholder:"请选择"},model:{value:e.form.otherDiseaseDieSource,callback:function(t){e.$set(e.form,"otherDiseaseDieSource",t)},expression:"form.otherDiseaseDieSource"}})],1)],1):e._e(),5===e.form.personStatus?r("a-form-model-item",{attrs:{label:"终止原因",prop:"terminationReason"}},[r("a-select",{attrs:{placeholder:"请选择"},model:{value:e.form.terminationReason,callback:function(t){e.$set(e.form,"terminationReason",t)},expression:"form.terminationReason"}},[r("a-select-option",{attrs:{value:1}},[e._v("因罪名被人民法院作出判决")]),r("a-select-option",{attrs:{value:2}},[e._v("被采取强制性教育措施及期限")]),r("a-select-option",{attrs:{value:3}},[e._v("严重违反社戒社康协议被送强制戒毒")]),r("a-select-option",{attrs:{value:4}},[e._v("其他原因")])],1)],1):e._e(),7===e.form.personStatus?r("a-form-model-item",{attrs:{label:"变更原因",prop:"changeReason"}},[r("a-input",{attrs:{placeholder:"请输入"},model:{value:e.form.changeReason,callback:function(t){e.$set(e.form,"changeReason",t)},expression:"form.changeReason"}})],1):e._e(),8===e.form.personStatus?r("a-form-model-item",{attrs:{label:"归档原因",prop:"changeReason"}},[r("a-input",{attrs:{placeholder:"请输入"},model:{value:e.form.changeReason,callback:function(t){e.$set(e.form,"changeReason",t)},expression:"form.changeReason"}})],1):e._e(),r("a-form-model-item",{attrs:{"wrapper-col":{span:14,offset:4}}},[r("a-button",{on:{click:e.resetForm}},[e._v("重置")]),r("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确定")])],1)],1)],1)])])},n=[],a=(r("96cf"),r("1da1")),i=r("7f24"),s={data:function(){return{labelCol:{span:5},wrapperCol:{span:14},other:"",form:{personStatus:void 0,terminationReason:void 0,typdieTimee:void 0,changeReason:void 0},rules:{personStatus:[{required:!0,message:"请选择归档类型"}],terminationReason:[{required:!0,message:"请输入终止原因"}],dieTime:[{required:!0,message:"请选择死亡时间"}],changeReason:[{required:!0,message:"请输入变更原因"}]},infoObj:{},imgUrl:"",archivesId:"",sjskPersonId:"",archiveType:""}},created:function(){this.sjskPersonId=this.$route.query.sjskPersonId,this.archivesId=this.$route.query.archivesId,this.personHolographicRecord(this.sjskPersonId)},methods:{personHolographicRecord:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,i["a"].personHolographicRecord(e);case 2:t.infoObj=r.sent,t.infoObj.recordStatus=1==t.infoObj.recordStatus?"未归档":"已归档",t.imgUrl=t.$globalConfig.uploadPath+"/file/"+t.infoObj.avatar,1===t.infoObj.personStatus?t.archiveType="正在执行":2===t.infoObj.personStatus?t.archiveType="请假中":3===t.infoObj.personStatus?t.archiveType="终止":4===t.infoObj.personStatus?t.archiveType="死亡":5===t.infoObj.personStatus?t.archiveType="终止":6===t.infoObj.personStatus?t.archiveType="解除":7===t.infoObj.personStatus?t.archiveType="执行地变更省外":8===t.infoObj.personStatus&&(t.archiveType="社会面归档");case 6:case"end":return r.stop()}}),r)})))()},onSubmit:function(){var e=this;this.$createElement;this.$refs.ruleForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;var r=e;r.$confirm({title:"该人员归档后将注销注册信息",content:function(e){return e("div",{style:"color:red;"},["注销后，不可再使用注册手机号进行椰风送暖APP登录"])},okText:"是",okType:"danger",cancelButtonProps:{props:{disabled:!1}},cancelText:"否",onOk:function(){r.form.id=r.archivesId,i["a"].personHolographicRecordArchive(r.form).then((function(e){r.$message.success("归档成功"),r.$router.push({path:"/personnelManagement/personnelFiles/personnelDetails",query:{params:JSON.stringify({id:r.sjskPersonId})}})})).catch((function(){}))},onCancel:function(){console.log("Cancel")}})}))},resetForm:function(){this.form={}}}},c=s,u=(r("f8e9"),r("2877")),l=Object(u["a"])(c,o,n,!1,null,"0f1b2ca7",null);t["default"]=l.exports},f8e9:function(e,t,r){"use strict";var o=r("1a13"),n=r.n(o);n.a}}]);