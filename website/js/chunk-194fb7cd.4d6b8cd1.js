(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-194fb7cd"],{"0d21":function(t,e,i){"use strict";function n(t){if(Array.isArray(t))return t}i.d(e,"a",(function(){return n}))},3835:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("0d21");i("a4d3"),i("e01a"),i("d28b"),i("d3b7"),i("3ca3"),i("ddb0");function a(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,a=!1,r=void 0;try{for(var s,o=t[Symbol.iterator]();!(n=(s=o.next()).done);n=!0)if(i.push(s.value),e&&i.length===e)break}catch(m){a=!0,r=m}finally{try{n||null==o["return"]||o["return"]()}finally{if(a)throw r}}return i}}var r=i("06c5"),s=i("3d8c");function o(t,e){return Object(n["a"])(t)||a(t,e)||Object(r["a"])(t,e)||Object(s["a"])()}},"3d8c":function(t,e,i){"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i.d(e,"a",(function(){return n}))},b46b:function(t,e,i){"use strict";var n=i("f6b5"),a=i.n(n);a.a},e753:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("SplitLayout",[i("a-spin",{attrs:{spinning:t.loading}},[i("a-form-model",{attrs:{model:t.form}},[i("a-form-model-item",{attrs:{label:"签到人员"}},[i("a-input",{staticStyle:{width:"200px"},attrs:{disabled:!0},model:{value:t.form.person,callback:function(e){t.$set(t.form,"person",e)},expression:"form.person"}},[t._v("全部")])],1),i("a-form-model-item",{attrs:{label:"签到时间"}},[i("a-time-picker",{attrs:{format:"HH:mm",disabled:!0,valueFormat:"HH:mm",defaultValue:t.moment("00:00","HH:mm"),suffixIcon:""},model:{value:t.form.startTime,callback:function(e){t.$set(t.form,"startTime",e)},expression:"form.startTime"}}),t._v(" ~ "),i("a-time-picker",{ref:"endTime",attrs:{disabledHours:t.getDisabledHours,disabledMinutes:t.getDisabledMinutes,format:"HH:mm",valueFormat:"HH:mm",defaultValue:t.moment("23:59","HH:mm"),disabled:!0},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}})],1),i("a-form-model-item",{attrs:{label:"签到规则"}},[i("a-textarea",{staticStyle:{width:"350px"},attrs:{autosize:{minRows:3,maxRows:5},maxLength:300,disabled:t.isDisabled},model:{value:t.form.rules,callback:function(e){t.$set(t.form,"rules",e)},expression:"form.rules"}})],1),i("a-form-model-item",[i("OperationPermission",{attrs:{check:"privs.item1600000000"}},[t.isDisabled?i("a-button",{attrs:{type:"primary"},on:{click:t.onChange}},[t._v("修改")]):t._e(),t.isDisabled?t._e():i("a-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")])],1)],1)],1)],1)],1)},a=[],r=(i("b0c0"),i("ac1f"),i("1276"),i("3835")),s=i("b775"),o={getSign:function(t){return Object(s["a"])({method:"GET",url:"/manage/sjskSignIn/get",params:t})},upDataSign:function(t){return Object(s["a"])({url:"manage/sjskSignIn/addAndEdit",method:"POST",data:t})}},m={name:"staff_sign",data:function(){return{form:{person:"全部",startTime:"00:00",endTime:"23:59",rules:"每天从零点开始到二十四点为签到时间，在这个时间内签到视为当天正常签到，未签到视为漏签。"},startTime:"",loading:!1,isDisabled:!0}},created:function(){this.init(this.$route)},watch:{startTime:function(t){var e=this.moment(t).format("HH:mm").split(":"),i=Object(r["a"])(e,2);i[0],i[1];return this},$route:function(t){this.init(t)}},methods:{init:function(t){"staff_sign"===t.name?this.form.type="1":this.form.type="2",this.isDisabled=!0,this.refresh()},refresh:function(){var t=this;this.loading=!0,o.getSign({type:this.form.type}).then((function(e){null!==e&&(t.form=e),t.loading=!1}))},onChange:function(){this.isDisabled=!1},onSubmit:function(){var t=this;this.loading=!0,o.upDataSign(this.form).then((function(e){e&&(t.loading=!1,t.isDisabled=!0,t.$message.success("提交成功"))}))},getDisabledHours:function(){for(var t=[],e=this.moment(this.startTime).format("HH:mm").split(":"),i=Object(r["a"])(e,2),n=i[0],a=(i[1],0);a<parseInt(n);a++)t.push(a);return t},getDisabledMinutes:function(t){var e=this.moment(this.startTime).format("HH:mm").split(":"),i=Object(r["a"])(e,2),n=i[0],a=i[1],s=[];if(t==n){for(var o=0;o<parseInt(a);o++)s.push(o);return s}}}},u=m,l=(i("b46b"),i("2877")),f=Object(l["a"])(u,n,a,!1,null,"05afe34d",null);e["default"]=f.exports},f6b5:function(t,e,i){}}]);