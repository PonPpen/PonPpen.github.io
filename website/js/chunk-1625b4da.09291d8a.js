(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1625b4da","chunk-1ed78467","chunk-1ed78467","chunk-292c6eb3"],{"007b":function(t,e,a){"use strict";var n=a("a27e"),i={currentDepartmentTreeUrl:"/base-service/dept/currentDepartmentTree",getTrackSjskPersonList:"/person-service/sjskPerson/getTrackSjskPersonList"};e["a"]={getDepartmentTree:function(t){return Object(n["a"])({url:i.currentDepartmentTreeUrl,method:"GET",params:t})},getTrackSjskPersonList:function(t){return Object(n["a"])({url:i.getTrackSjskPersonList,method:"GET",params:t})}}},"07cc":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-wrap"},[a("div",{staticClass:"card-title"},[a("div",{staticClass:"title"},[t._v(t._s(t.title)+" "),t._t("subTitle")],2),t._t("right")],2),a("div",{staticClass:"card-content"},[t._t("default")],2)])},i=[],r={name:"AnalysisCard",data:function(){return{title:this.label}},props:{label:{type:String,default:""}}},s=r,o=(a("c0c7"),a("2877")),c=Object(o["a"])(s,n,i,!1,null,"7d7b4c56",null);e["default"]=c.exports},"849a":function(t,e,a){"use strict";a.r(e);a("4160"),a("a9e3"),a("159b");var n=a("07cc"),i=a("3abb"),r=a("e7f7"),s=a("16fe");e["default"]={components:{search:i["default"],AnalysisCard:n["default"]},data:function(){return{form:{deptId:null,departmentId:null,endTime:"",startTime:"",personType:"",queryDateType:Number,timeType:Number},tabPosition1:"1",tabPosition:"1",departmentId:1,timeType:1,ageType:"1",PersonRatio1:"--",PersonRatio2:"--",PersonRatio3:"--",PersonNumber1:"--",PersonNumber2:"--",PersonNumber3:"--"}},computed:{},methods:{onQuery:function(t){this.form=Object.assign(this.form,t),this.getAppUseRatioAndNumber(this.form),this.getLiveRatio(this.form),this.getSignInSituationCount(this.form),this.getAppUseNumSituation(this.form),this.getAppOnlineRatio(this.form),this.getAppUseActiveTimeDistribution(this.form)},onResetForm:function(t){this.onQuery(t)},getAppUseRatioAndNumber:function(t){var e=this;r["a"].getAppUseRatioAndNumber(t).then((function(t){if(null!==t){var a=t.data;console.log("各种人数统计",a),a.forEach((function(t){switch(t.type){case 1:e.PersonRatio1=null!=t.data?t.data:"--";break;case 2:e.PersonNumber1=null!=t.data?t.data:"--";break;case 3:e.PersonRatio2=null!=t.data?t.data:"--";break;case 4:e.PersonNumber2=null!=t.data?t.data:"--";break;case 5:e.PersonRatio3=null!=t.data?t.data:"--";break;case 6:e.PersonNumber3=null!=t.data?t.data:"--";break}}))}})).catch((function(){}))},getRealLength:function(t,e){var a,n=t.length,i=0,r="";if(n<=e)return t;for(var s=0;s<n;s++)if(a=t.charCodeAt(s),i+=a>=0&&a<=128?.5:1,i>=e){r=t.substring(0,s-1)+"...";break}return i<e&&(r=t),r},getLiveRatio:function(t){var e=this,a=[],n=[],i=[];r["a"].getLiveRatio(t).then((function(t){if(null!==t){var r=t.data;console.log(r),r.forEach((function(t){a.push(e.getRealLength(t.areaName,5)),i.push(t.areaName),n.push(t.ratio)})),e.Charts1(a,n,i)}})).catch((function(){}))},getAppUseNumSituation:function(t){var e=this,a=[],n=[],i=[],s=[];r["a"].getAppUseNumSituation(t).then((function(t){if(null!==t){var r=t.data;r.forEach((function(t){a.push(e.getRealLength(t.areaName,5)),s.push(t.areaName),n.push(t.actualLoginNumber),i.push(t.shouldLoginNumber)})),e.Charts5(a,n,i,s)}})).catch((function(){}))},getSignInSituationCount:function(t){var e=this,a=[],n=[],i=[],s=[];r["a"].getSignInSituationCount(t).then((function(t){if(null!==t){var r=t.data;r.forEach((function(t){a.push(e.getRealLength(t.areaName,5)),s.push(t.areaName),n.push(t.actualNumber),i.push(t.shouldNumber)})),e.Charts2(a,n,i,s)}})).catch((function(){}))},onRadioChange:function(t){this.timeType=Number(t.target.value),this.getAppOnlineRatio(this.form)},getAppOnlineRatio:function(t){var e=this,a=[],n=[];r["a"].getAppOnlineRatioAnalysis(t).then((function(t){if(null!==t){var i=t.data;i.forEach((function(t){a.push(t.date),n.push(t.count)})),e.Charts3(a,n)}})).catch((function(){}))},getAppUseActiveTimeDistribution:function(t){var e=this,a=[],n=[];r["a"].getAppUseActiveTimeDistribution(t).then((function(t){if(null!==t){var i=t.data;i.forEach((function(t){a.push(t.time),n.push(t.count)})),e.Charts4(a,n)}})).catch((function(){}))},Charts1:function(t,e,a){var n=this.$echarts.init(document.getElementById("echarts1"));Object(s["drawBarEchartsRatio"])(n,t,e,a)},Charts2:function(t,e,a,n){var i=this.$echarts.init(document.getElementById("echarts2")),r=["应签到人数","实际签到人数"],o=[{name:"应签到人数",type:"bar",barWidth:25,barCategoryGap:0,data:a,label:{normal:{show:!0,position:"top",fontSize:10,color:"#000"}}},{name:"实际签到人数",type:"bar",barWidth:25,barGap:"-3%",barCategoryGap:0,data:e,label:{normal:{show:!0,position:"top",fontSize:10,color:"#000"}}}];Object(s["drawBar2Echarts"])(i,r,t,o,n)},Charts3:function(t,e){var a=this.$echarts.init(document.getElementById("echarts3")),n=[""];Object(s["drawLine2Echarts"])(a,n,t,e)},Charts4:function(t,e){var a=this.$echarts.init(document.getElementById("echarts4")),n=[""];Object(s["drawLine2Echarts"])(a,n,t,e)},Charts5:function(t,e,a,n){var i=this.$echarts.init(document.getElementById("echarts5")),r=["应登录人数","实际登录人数"],o=[{name:"应登录人数",type:"bar",barWidth:25,barCategoryGap:0,data:a,label:{normal:{show:!0,position:"top",fontSize:10,color:"#000"}}},{name:"实际登录人数",type:"bar",barWidth:25,barGap:"-3%",barCategoryGap:0,data:e,label:{normal:{show:!0,position:"top",fontSize:10,color:"#000"}}}];Object(s["drawBar2Echarts"])(i,r,t,o,n)}}}},"8cc5":function(t,e,a){"use strict";var n=a("d41e"),i=a.n(n);i.a},bf4b:function(t,e,a){},c0c7:function(t,e,a){"use strict";var n=a("bf4b"),i=a.n(n);i.a},d41e:function(t,e,a){},d99e:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-wrapper"},[a("div",[a("a-row",{attrs:{gutter:56}},[t._t("default"),a("buttonBox",{style:t.advanced?{float:"right"}:{},on:{toggleAdvanced:t.toggleAdvanced,query:t.query,reset:t.reset}})],2)],1)])},i=[],r=(a("a9e3"),a("5530")),s={name:"SearchListItem",props:{label:{type:String,default:"",required:!1}},inject:{col:{type:Number}},render:function(){var t=arguments[0];return t("a-col",{class:"item-box",props:Object(r["a"])({},c[this.col])},[t("div",{class:"y-search-item"},[t("div",{class:"y-search-label"},[this.$props.label]),t("div",{class:"y-search-content"},[this.$slots.default])])])}},o={name:"buttonBox",data:function(){return{advanced:!1}},inject:{col:{type:Number}},methods:{toggleAdvanced:function(){this.advanced=!this.advanced,this.$emit("toggleAdvanced")},query:function(){this.$emit("query")},reset:function(){this.$emit("reset")}},render:function(){var t=arguments[0];return t("a-col",{props:Object(r["a"])({},c[this.col])},[t("span",{class:"table-page-search-submitButtons",style:"float: 'left', overflow: 'hidden'"},[t("a-button",{attrs:{type:"primary"},on:{click:this.query}},["查询"]),t("a-button",{style:"margin-left: 8px",on:{click:this.reset}},["重置"]),t("a",{attrs:{id:"advance-btn"},style:"margin-left: 8px",on:{click:this.toggleAdvanced}},[this.advanced?"收起":"展开",t("a-icon",{props:Object(r["a"])({},{type:this.advanced?"up":"down"})})])])])}},c={1:{xs:24},2:{xs:24,sm:12},3:{xs:24,sm:12,md:8},4:{md:24,lg:12,xl:8,xxl:6}},u={name:"SearchForm",Item:s,components:{buttonBox:o},props:{col:{type:Number,required:!1,default:6}},provide:function(){return{col:this.col>4?4:this.col}},data:function(){return{advanced:!1,toplist:[],bottomList:[]}},methods:{toggleAdvanced:function(){this.advanced=!this.advanced,this.displayItem()},query:function(){this.$emit("query")},reset:function(){this.$emit("reset")},displayItem:function(){var t=this.$slots.default,e=this.col,a=t.length;if(a<e)document.getElementById("advance-btn").style.display="none";else for(var n=e-1;n<a;n++)t[n].elm.style.display=this.advanced?"":"none"}},mounted:function(){this.displayItem()}},l=u,p=(a("8cc5"),a("2877")),d=Object(p["a"])(l,n,i,!1,null,"359e9f37",null),h=d.exports;e["a"]=h},e7f7:function(t,e,a){"use strict";var n=a("a27e");e["a"]={getAppUseRatioAndNumber:function(t){return Object(n["a"])({url:"/person-service/appUseSituation/getAppUseRatioAndNumber",method:"GET",params:t})},getLiveRatio:function(t){return Object(n["a"])({url:"/person-service/appUseSituation/getLiveRatio",method:"GET",params:t})},getSignInSituationCount:function(t){return Object(n["a"])({url:"/person-service/appUseSituation/getSignInSituationCount",method:"GET",params:t})},getAppOnlineRatio:function(t){return Object(n["a"])({url:"/person-service/appUseSituation/getAppOnlineRatio",method:"GET",params:t})},getAppUseActiveTimeDistribution:function(t){return Object(n["a"])({url:"/person-service/appUseSituation/getAppUseActiveTimeDistribution",method:"GET",params:t})},getAppOnlineRatioAnalysis:function(t){return Object(n["a"])({url:"/person-service/appUseSituation/getAppOnlineRatioAnalysis",method:"GET",params:t})},getAppUseNumSituation:function(t){return Object(n["a"])({url:"/person-service/appUseSituation/getAppUseNumSituation",method:"GET",params:t})},getSjskAppUseList:function(t){return Object(n["a"])({url:"/person-service/appUseSituation/getSjskAppUseList",method:"GET",params:t})}}}}]);