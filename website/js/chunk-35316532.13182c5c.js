(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35316532","chunk-efb04836","chunk-3075788c"],{3352:function(e,t,s){"use strict";var o=s("ba85"),a=s.n(o);a.a},"4edf":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition-group",{attrs:{tag:"ul"}},e._l(e.taskNodeInfos,(function(t,o){return s("div",{key:o,staticClass:"boxLists"},[null==t.childNode||t.childNode.length<2?s("div",{staticClass:"ordinary"},[s("div",{staticClass:"list"},[s("div",{staticClass:"left"},[s("div",{staticClass:"number"},[e._v(e._s(o+1))])]),s("div",{staticClass:"right"},[s("div",{staticClass:"text"},[e._v("第"+e._s(o+1)+"级审批")]),e._t("rigth_content",null,{scoped:t,index:o})],2),o!=e.taskNodeInfos.length-1?s("div",{staticClass:"buttom_line"}):e._e(),e.showIcon?s("div",{staticClass:"showIcons"},[0!=o?s("div",{staticClass:"icon top",class:o==e.taskNodeInfos.length-1?"offset_up_icon":"",on:{click:function(t){return e.up(e.taskNodeInfos,o)}}},[s("a-icon",{attrs:{type:"up"}})],1):e._e(),o!=e.taskNodeInfos.length-1?s("div",{staticClass:"icon down",on:{click:function(t){return e.down(e.taskNodeInfos,o)}}},[s("a-icon",{attrs:{type:"down"}})],1):e._e(),s("div",{staticClass:"icon del",on:{click:function(t){return e.delNode(e.taskNodeInfos,o)}}},[s("a-icon",{attrs:{type:"delete"}})],1)]):e._e(),e.showYey?s("div",{staticClass:"showIcons"},["0"==t.executeStatus?s("div",{staticClass:"icon"},[s("a-icon",{attrs:{type:"check-circle",theme:"twoTone",twoToneColor:"#52c41a"}})],1):e._e(),"1"==t.executeStatus?s("div",{staticClass:"icon"},[s("a-icon",{attrs:{type:"stop",theme:"twoTone",twoToneColor:"red"}})],1):e._e(),"2"==t.executeStatus?s("div",{staticClass:"icon"},[s("a-icon",{attrs:{type:"eye",theme:"twoTone",twoToneColor:"#515151"}})],1):e._e(),"3"==t.executeStatus?s("div",{staticClass:"icon"},[s("a-icon",{attrs:{type:"eye",theme:"twoTone",twoToneColor:"#d81e06"}})],1):e._e(),"4"==t.executeStatus?s("div",{staticClass:"icon"},[s("a-icon",{attrs:{type:"eye",theme:"twoTone",twoToneColor:"#d81e06"}})],1):e._e(),"5"==t.executeStatus?s("div",{staticClass:"icon"},[e._v('="eye" theme="twoTone" twoToneColor="#d81e06" /> ')]):e._e(),"6"==t.executeStatus?s("div",{staticClass:"icon"},[s("a-icon",{attrs:{type:"eye",theme:"twoTone",twoToneColor:"#d81e06"}})],1):e._e()]):e._e()])]):e._l(t.childNode,(function(a,n){return s("div",{key:n,staticClass:"willAndOr"},[s("div",{staticClass:"list"},[s("div",{staticClass:"left"},[s("div",{staticClass:"number"},[e._v(e._s(o+1))])]),s("div",{staticClass:"right"},[s("div",{staticClass:"text"},[e._v("第"+e._s(o+1)+"级审批")]),e._t("rigth_content",null,{scoped:a,index:o})],2),n!=t.childNode.length-1?s("div",{staticClass:"buttom_line"},[s("span",{staticClass:"or"},[e._v(e._s("02"==t.approveType?"会":"03"==t.approveType?"或":""))])]):e._e(),s("div",{staticClass:"left_line"}),s("div",{staticClass:"chang_line",class:0==o&&0==n?"frist_del_25":""},[s("div",{staticClass:"del_50"})]),e.showIcon?s("div",{staticClass:"showIcons"},[s("div",{staticClass:"icon",on:{click:function(t){return e.see(a)}}},[s("a-icon",{attrs:{type:"mobile"}})],1),s("div",{staticClass:"icon del",on:{click:function(s){return e.delNode(t.childNode,n,o,t,a)}}},[s("a-icon",{attrs:{type:"delete"}})],1)]):e._e(),e.showYey?s("div",{staticClass:"showIcons"},["0"==a.executeStatus?s("div",{staticClass:"icon"},[s("a-icon",{attrs:{type:"check-circle",theme:"twoTone",twoToneColor:"#52c41a"}})],1):e._e(),"1"==a.executeStatus?s("div",{staticClass:"icon"},[s("a-icon",{attrs:{type:"stop",theme:"twoTone",twoToneColor:"red"}})],1):e._e(),"2"==a.executeStatus?s("div",{staticClass:"icon"},[s("a-icon",{attrs:{type:"eye",theme:"twoTone",twoToneColor:"#515151"}})],1):e._e(),"3"==a.executeStatus?s("div",{staticClass:"icon"},[s("a-icon",{attrs:{type:"eye",theme:"twoTone",twoToneColor:"#d81e06"}})],1):e._e(),"4"==a.executeStatus?s("div",{staticClass:"icon"},[s("a-icon",{attrs:{type:"eye",theme:"twoTone",twoToneColor:"#d81e06"}})],1):e._e(),"5"==a.executeStatus?s("div",{staticClass:"iscon"},[s("a-icon",{attrs:{type:"eye",theme:"twoTone",twoToneColor:"#d81e06"}})],1):e._e(),"6"==a.executeStatus?s("div",{staticClass:"icon"},[s("a-icon",{attrs:{type:"eye",theme:"twoTone",twoToneColor:"#d81e06"}})],1):e._e()]):e._e()])])}))],2)})),0)},a=[],n=(s("a434"),s("5530")),i={name:"ProcessFigure",model:{prop:"taskNodeInfos",event:"change"},props:{id:String,taskNodeInfos:{type:Array,required:!1},showIcon:{type:Boolean,required:!1},showYey:{type:Boolean,required:!1}},data:function(){return{formItemLayout:{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:13}}}}},created:function(){},computed:{},methods:{change:function(e){console.log(e),this.$emit("change",e)},addNode:function(e){console.log(this),this.$refs.addNode.$refs.modal.show()},delNode:function(e,t,s,o,a){o&&e.length<=2?(o.childNode=[],o=Object(n["a"])(Object(n["a"])({},o),a),o.approveType="01"):e.splice&&e.splice(t,1)},down:function(e,t){e[t]=e.splice(t+1,1,e[t])[0]},up:function(e,t){e[t]=e.splice(t-1,1,e[t])[0]}},watch:{taskNodeInfos:function(e){}}},c=i,r=(s("e173"),s("2877")),l=Object(r["a"])(c,o,a,!1,null,null,null);t["default"]=l.exports},"8cc5":function(e,t,s){"use strict";var o=s("d41e"),a=s.n(o);a.a},"97c0":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("SplitLayout",[s("div",{attrs:{slot:"top"},slot:"top"},[s("SearchForm",{on:{query:e.onQuery,reset:e.onResetForm}},[s("SearchFormItem",{attrs:{label:"发起人:"}},[s("SelectUser",{attrs:{multiple:!1},model:{value:e.form.applyUser,callback:function(t){e.$set(e.form,"applyUser",t)},expression:"form.applyUser"}})],1),s("SearchFormItem",{attrs:{label:"流程状态:"}},[s("a-select",{staticStyle:{width:"100%"},model:{value:e.form.flowStatus,callback:function(t){e.$set(e.form,"flowStatus",t)},expression:"form.flowStatus"}},[s("a-select-option",{attrs:{value:""}},[e._v("全部")]),s("a-select-option",{attrs:{value:"01"}},[e._v("进行中")]),s("a-select-option",{attrs:{value:"02"}},[e._v("已完成")])],1)],1),s("SearchFormItem",{attrs:{label:"审批人:"}},[s("SelectUser",{attrs:{multiple:!1},model:{value:e.form.approveUser,callback:function(t){e.$set(e.form,"approveUser",t)},expression:"form.approveUser"}})],1)],1)],1),s("div",[s("CustomTable",{ref:"table",attrs:{rowKey:"userId",showAlert:!1,showSelection:!1,loading:e.loading.usageLists,columns:e.columns,dataSource:e.listData,onChange:e.onTableChange},scopedSlots:e._u([{key:"order",fn:function(t,s,o){return[e._v(" "+e._s(o+1)+" ")]}},{key:"flowStatus",fn:function(t){return[e._v(" "+e._s("APPROVING"==t?"进行中":"PASS"==t?"通过":"NO_PASS"==t?"不通过":"WITHDRAW"==t?"撤回":"")+" ")]}},{key:"action",fn:function(t){return[s("a",{on:{click:function(s){return e.seeNoodeInfo(t.id)}}},[e._v("查看节点信息")]),s("a-divider",{attrs:{type:"vertical"}})]}}])})],1),s("NodeInfo",{ref:"nodeInfo",on:{onChildValue:e.onChildValue}})],1)},a=[],n=s("5530"),i=s("2f62"),c=s("bf11"),r=(s("b1fe"),s("d99e")),l=s("ad6e"),d=s("a669"),u=r["a"].Item,f={components:{SearchForm:r["a"],SearchFormItem:u,CustomTable:c["a"],NodeInfo:l["default"],SelectUser:d["a"]},props:["id"],data:function(){return{columns:[{title:"序号",dataIndex:"order",scopedSlots:{customRender:"order"}},{title:"流程发起人",dataIndex:"applyUserName"},{title:"发起时间",dataIndex:"createTime"},{title:"结束时间",dataIndex:"finishTime"},{title:"当前状态",dataIndex:"flowStatus",scopedSlots:{customRender:"flowStatus"}},{title:"当前处理人",dataIndex:"currentApproveUserName"},{title:"是否超期",dataIndex:"timeOut"},{title:"操作",width:"150px",align:"center",scopedSlots:{customRender:"action"}}],form:{approveUser:[],catalogId:"",currentPage:1,flowStatus:"",pageSize:10,sortField:"",sortOrder:"",applyUser:[]},selectedData:{}}},created:function(){this.form.catalogId=this.id,this.onPage()},mounted:function(){this.refreshTable()},computed:Object(n["a"])({},Object(i["d"])({loading:function(e){return e.SysProcess.loading},listData:function(e){return e.SysProcess.usageData}})),methods:Object(n["a"])(Object(n["a"])({},Object(i["b"])({listQuery:"SysProcess/getUsageData",onPage:"SysUser/onPage"})),{},{seeNoodeInfo:function(e){this.$refs.nodeInfo.$refs.modal.visible=!0,this.$refs.nodeInfo.initFrom(e)},onChildValue:function(){},onResetPassword:function(e){e.stopPropagation(),this.$message.info("重置密码")},refreshTable:function(){var e=JSON.parse(JSON.stringify(this.form));e.applyUser&&(e.applyUser=0==e.applyUser.length?"":e.applyUser,e.approveUser=0==e.approveUser.length?"":e.approveUser),this.listQuery(e)},onTableChange:function(e){this.form=Object(n["a"])(Object(n["a"])({},this.form),e),this.refreshTable()},onQuery:function(){this.form.currentPage=1,this.refreshTable()},onResetForm:function(){this.form={catalogId:this.id},this.refreshTable()},onRowClick:function(e){this.selectedData=e,this.$refs.drawer.show()},addProcess:function(){this.$router.push({name:"addProcess"})}})},p=f,h=s("2877"),m=Object(h["a"])(p,o,a,!1,null,null,null);t["default"]=m.exports},ad6e:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{ref:"modal",attrs:{title:"审批节点信息"},on:{ok:e.submit}},[s("ProcessFigure",{ref:"ProcessFigure",staticClass:"ProcessFigure",attrs:{show_icon:e.showFigure,showYey:!0},model:{value:e.from,callback:function(t){e.from=t},expression:"from"}})],1)},a=[],n=s("5530"),i=s("2f62"),c=s("86da"),r=s("4edf"),l={components:{Modal:c["a"],ProcessFigure:r["default"]},data:function(){return{showFigure:!0,showDetails:0,from:[]}},props:{title:{type:String,default:"",required:!1}},beforeCreate:function(){},created:function(){},mounted:function(){},computed:Object(n["a"])({},Object(i["d"])({loading:function(e){return e.SysUser.loading}})),methods:Object(n["a"])(Object(n["a"])({},Object(i["b"])({getTaskInfo:"SysProcess/getTaskInfo"})),{},{initFrom:function(e){var t=this;this.id=e,this.getTaskInfo({id:this.id}).then((function(e){t.from=e}))},submit:function(e){this.$refs.modal.visible=!1},handleChangePeople:function(e){console.log(this.selectedPeople)},handleChange:function(e){console.log(e),console.log("Selected: ".concat(e))},popupScroll:function(){console.log("popupScroll")},close:function(){this.mainDep="",this.dep="",this.visible=!1,this.$refs.mainDep.clear(),this.$refs.subDep.clear()}}),watch:{visible:function(e){this.$refs.modal.visible=e},currentDep:function(e){this.$refs.mainDep.selectDep=e}}},d=l,u=(s("3352"),s("2877")),f=Object(u["a"])(d,o,a,!1,null,"2f260aa4",null);t["default"]=f.exports},b1fe:function(e,t,s){"use strict";var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("a-drawer",{attrs:{title:e.title,width:e.width,maskClosable:!0,placement:"right",closable:!0,wrapClassName:"dwBox",visible:e.visible},on:{close:e.onClose}},[e._t("default")],2)],1)},a=[],n=(s("a9e3"),{name:"Drawer",props:{title:{type:String,default:"标题"},width:{type:Number,default:640}},data:function(){return{visible:!1}},created:function(){},mounted:function(){},methods:{show:function(){this.visible=!0},onClose:function(){this.visible=!1}}}),i=n,c=s("2877"),r=Object(c["a"])(i,o,a,!1,null,null,null);t["a"]=r.exports},b8a7:function(e,t,s){},ba85:function(e,t,s){},d41e:function(e,t,s){},d99e:function(e,t,s){"use strict";var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"search-wrapper"},[s("div",[s("a-row",{attrs:{gutter:56}},[e._t("default"),s("buttonBox",{style:e.advanced?{float:"right"}:{},on:{toggleAdvanced:e.toggleAdvanced,query:e.query,reset:e.reset}})],2)],1)])},a=[],n=(s("a9e3"),s("5530")),i={name:"SearchListItem",props:{label:{type:String,default:"",required:!1}},inject:{col:{type:Number}},render:function(){var e=arguments[0];return e("a-col",{class:"item-box",props:Object(n["a"])({},r[this.col])},[e("div",{class:"y-search-item"},[e("div",{class:"y-search-label"},[this.$props.label]),e("div",{class:"y-search-content"},[this.$slots.default])])])}},c={name:"buttonBox",data:function(){return{advanced:!1}},inject:{col:{type:Number}},methods:{toggleAdvanced:function(){this.advanced=!this.advanced,this.$emit("toggleAdvanced")},query:function(){this.$emit("query")},reset:function(){this.$emit("reset")}},render:function(){var e=arguments[0];return e("a-col",{props:Object(n["a"])({},r[this.col])},[e("span",{class:"table-page-search-submitButtons",style:"float: 'left', overflow: 'hidden'"},[e("a-button",{attrs:{type:"primary"},on:{click:this.query}},["查询"]),e("a-button",{style:"margin-left: 8px",on:{click:this.reset}},["重置"]),e("a",{attrs:{id:"advance-btn"},style:"margin-left: 8px",on:{click:this.toggleAdvanced}},[this.advanced?"收起":"展开",e("a-icon",{props:Object(n["a"])({},{type:this.advanced?"up":"down"})})])])])}},r={1:{xs:24},2:{xs:24,sm:12},3:{xs:24,sm:12,md:8},4:{md:24,lg:12,xl:8,xxl:6}},l={name:"SearchForm",Item:i,components:{buttonBox:c},props:{col:{type:Number,required:!1,default:6}},provide:function(){return{col:this.col>4?4:this.col}},data:function(){return{advanced:!1,toplist:[],bottomList:[]}},methods:{toggleAdvanced:function(){this.advanced=!this.advanced,this.displayItem()},query:function(){this.$emit("query")},reset:function(){this.$emit("reset")},displayItem:function(){var e=this.$slots.default,t=this.col,s=e.length;if(s<t)document.getElementById("advance-btn").style.display="none";else for(var o=t-1;o<s;o++)e[o].elm.style.display=this.advanced?"":"none"}},mounted:function(){this.displayItem()}},d=l,u=(s("8cc5"),s("2877")),f=Object(u["a"])(d,o,a,!1,null,"359e9f37",null),p=f.exports;t["a"]=p},e173:function(e,t,s){"use strict";var o=s("b8a7"),a=s.n(o);a.a}}]);