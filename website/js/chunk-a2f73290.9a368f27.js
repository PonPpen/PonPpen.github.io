(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a2f73290","chunk-1ed78467","chunk-1ed78467"],{"007b":function(e,t,a){"use strict";var n=a("a27e"),s={currentDepartmentTreeUrl:"/base-service/dept/currentDepartmentTree",getTrackSjskPersonList:"/person-service/sjskPerson/getTrackSjskPersonList"};t["a"]={getDepartmentTree:function(e){return Object(n["a"])({url:s.currentDepartmentTreeUrl,method:"GET",params:e})},getTrackSjskPersonList:function(e){return Object(n["a"])({url:s.getTrackSjskPersonList,method:"GET",params:e})}}},"25cf":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("PageView",[a("SplitLayout",{attrs:{leftWidth:"240px"}},[e.isTreeShow?a("div",{staticClass:"left",attrs:{slot:"left"},slot:"left"},[a("SearchTree",{ref:"searchTree",staticStyle:{padding:"0 10px",overflow:"hidden"},attrs:{data:e.treeData,defaultdKeys:e.deptId},on:{selected:e.onSelected}})],1):e._e(),a("div",{staticClass:"header-top",attrs:{slot:"top"},slot:"top"},[a("SearchForm",{on:{query:e.onQuery,reset:e.onReset}},[a("SearchFormItem",{attrs:{label:"身份证号："}},[a("a-input",{attrs:{placeholder:"请输入身份证号"},model:{value:e.pageFilter.idCardNo,callback:function(t){e.$set(e.pageFilter,"idCardNo",t)},expression:"pageFilter.idCardNo"}})],1),a("SearchFormItem",{attrs:{label:"考核等级："}},[a("a-select",{staticStyle:{width:"100%"},model:{value:e.pageFilter.rank,callback:function(t){e.$set(e.pageFilter,"rank",t)},expression:"pageFilter.rank"}},[a("a-select-option",{attrs:{value:"A"}},[e._v("优秀")]),a("a-select-option",{attrs:{value:"B"}},[e._v("称职")]),a("a-select-option",{attrs:{value:"C"}},[e._v("基本称职")]),a("a-select-option",{attrs:{value:"D"}},[e._v("不称职")])],1)],1)],1)],1),a("div",{staticClass:"con-content"},[a("div",{staticClass:"con-content-list"},[a("a-select",{staticStyle:{width:"200px"},attrs:{options:e.years},on:{change:e.onQuery},model:{value:e.pageFilter.year,callback:function(t){e.$set(e.pageFilter,"year",t)},expression:"pageFilter.year"}}),a("a-select",{staticStyle:{width:"200px","margin-left":"20px"},on:{change:e.onQuery},model:{value:e.pageFilter.quarter,callback:function(t){e.$set(e.pageFilter,"quarter",t)},expression:"pageFilter.quarter"}},[a("a-select-option",{attrs:{value:1}},[e._v("第一季度")]),a("a-select-option",{attrs:{value:2}},[e._v("第二季度")]),a("a-select-option",{attrs:{value:3}},[e._v("第三季度")]),a("a-select-option",{attrs:{value:4}},[e._v("第四季度")])],1),a("CustomTable",{staticStyle:{"margin-top":"20px"},attrs:{showAlert:!1,showSelection:!1,loading:e.loading,columns:e.columns,dataSource:e.pageData,onChange:e.onTableChange},scopedSlots:e._u([{key:"order",fn:function(t,a,n){return[e._v(" "+e._s(n+1)+" ")]}},{key:"action",fn:function(t){return[a("OperationPermission",{attrs:{check:"privs.item1550000001"}},[a("a",{staticStyle:{"margin-right":"16px"},on:{click:function(a){return e.view(t)}}},[e._v("查看考核积分信息")])])]}}])})],1)])])],1)},s=[],r=a("d99e"),i=a("3a49"),l=a("bf11"),o=a("007b"),c=a("b00a"),d=a("cc33"),u=r["a"].Item,p={name:"specialistManageIndex",components:{SearchForm:r["a"],SearchFormItem:u,CustomTable:l["a"],SearchTree:i["a"]},data:function(){return{autoExpandParent:!0,loading:!1,aTreeData:[{name:"海南省",id:1,cdata:[{name:"海口市",id:11,cdata:[{name:"海口市美兰区",id:111,cdata:[{name:"灵山镇",id:1111,cdata:[{name:"晋美社区",id:11111}]}]}]},{name:"琼海市",id:2,cdata:[{name:"中原镇",id:22,cdata:[{name:"南沟村",id:222}]}]}]}],searchVal:"",years:[],columns:[{title:"序号",dataIndex:"order",scopedSlots:{customRender:"order"}},{title:"姓名",dataIndex:"name"},{title:"性别",dataIndex:"sex"},{title:"身份证号",dataIndex:"idCardNo"},{title:"考核成绩",dataIndex:"score"},{title:"考评等级",dataIndex:"rank"},{title:"累计不称职次数",dataIndex:"failTimes"},{title:"连续不称职次数",dataIndex:"continuousFailTimes"},{title:"所属区域",dataIndex:"level"},{title:"操作",key:"action",scopedSlots:{customRender:"action"}}],pageData:{},pageFilter:{currentPage:1,pageSize:10,deptId:"7",year:(new Date).getFullYear(),quarter:1},deptId:"7",treeData:[],isTreeInit:!1,isTreeShow:!1}},created:function(){if("POSITION_009"!==Object(d["f"])().jobName){this.isTreeShow=!0;var e={deptKey:1};this.getArea(e)}else this.refreshTable()},mounted:function(){this.yearChange()},methods:{getArea:function(e){var t=this;o["a"].getDepartmentTree(e).then((function(e){t.isTreeInit=!0,t.treeData=e.data;var a=t.$store.state.SysPersonnel.deptId;void 0!==a&&""!==a?(t.deptId=a,t.pageFilter.deptId=a):(t.deptId=e.data[0].key,t.pageFilter.deptId=e.data[0].key,t.$store.commit("SysPersonnel/setDepartmentId",t.deptId)),t.refreshTable()})).catch((function(){}))},onTableChange:function(e){this.pageFilter=e,this.refreshTable()},yearChange:function(){var e=new Date,t=e.getFullYear()-20,a=e.getFullYear();this.years=[];for(var n=a;n>=t;n--)this.years.push({value:n,label:n+"年"})},view:function(e){this.$router.push({path:"/personPointsAssessment/person",query:{id:e.userId}})},refreshTable:function(){var e=this;this.loading=!0,c["a"].get_integral_info_list(this.pageFilter).then((function(t){e.loading=!1,t.pageSize=t.size,t.currentPage=t.current;var a=t.records,n=t.pageSize,s=t.currentPage,r=t.total;e.pageData={records:a,pageSize:n,currentPage:s,total:r}})).catch((function(e){console.log(e)}))},onQuery:function(){this.pageFilter.currentPage=1,this.refreshTable()},onReset:function(){this.pageFilter={currentPage:1,pageSize:10,deptId:this.deptId},this.refreshTable()},onSelected:function(e,t,a){e.length>0&&(this.pageFilter.deptId=e[0],this.deptId=e[0],this.refreshTable())}}},h=p,f=(a("b986"),a("2877")),g=Object(f["a"])(h,n,s,!1,null,"95257420",null);t["default"]=g.exports},"3a49":function(e,t,a){"use strict";var n=a("59e7");t["a"]=n["a"]},"59e7":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-spin",{attrs:{spinning:!e.treeLoading}},[a("a-input-search",{staticStyle:{"margin-bottom":"8px"},attrs:{allowClear:"",placeholder:"请输入搜索内容"},on:{change:e.onChange},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}}),e.treeLoading?a("a-tree",{class:{activeEllipsis:e.isShowEllipsis},attrs:{loading:!0,selectedKeys:[e.defaultdKeys],expandedKeys:e.expandedKeys,defaultExpandAll:e.expandAllNode,autoExpandParent:e.autoExpandParent,treeData:e.treeData},on:{expand:e.onExpand,select:e.onSelect},scopedSlots:e._u([{key:"title",fn:function(t){var n=t.title;return[a("a-tooltip",{attrs:{placement:"topLeft",title:n}},[n.indexOf(e.searchValue)>-1?a("span",[e._v(" "+e._s(n.substr(0,n.indexOf(e.searchValue)))+" "),a("span",{staticStyle:{color:"#f50"}},[e._v(e._s(e.searchValue))]),e._v(" "+e._s(n.substr(n.indexOf(e.searchValue)+e.searchValue.length))+" ")]):a("span",[e._v(e._s(n))])])]}}],null,!1,3746631401)}):a("a-skeleton",{attrs:{active:"",paragraph:{rows:14}}})],1)},s=[],r=(a("c975"),a("d81d"),a("ac1f"),a("1276"),{name:"SearchTree",props:{data:{type:Array,require:!0},defaultdKeys:{type:String,require:!1},isShowEllipsis:{type:Boolean,default:!0},expandAllNode:{type:Boolean,default:!1},expandKeys:{type:String,require:!1}},data:function(){return{searchValue:"",expandedKeys:[],autoExpandParent:!0,dataList:[],treeData:[],selectedKeys:[],selectedTitles:[],loadingBool:!1}},computed:{treeLoading:function(){return null!==this.treeData&&this.treeData.length>0}},watch:{data:{handler:function(e,t){this.dataList=[],null!==e&&(this.generateList(e),this.treeData=e,this.treeData.length>0&&(void 0!=this.expandKeys&&this.expandKeys.length>0?this.expandedKeys=this.expandKeys.substring(0,this.expandKeys.length-1).split(","):this.expandedKeys=[this.treeData[0].key]))},immediate:!0}},methods:{getSelectedKey:function(){return this.selectedKeys[0]||""},getSelectedKeys:function(){return this.selectedKeys},getSelectedTitle:function(){return this.selectedTitles[0]||""},getSelectedTitles:function(){return this.selectedTitles},onSelect:function(e,t){this.selectedKeys=e,this.selectedKeys.length>0&&(this.selectedTitles=t.selectedNodes.map((function(e){return e.data.props.dataRef.title})),this.$emit("selected",this.selectedKeys,this.selectedTitles,t.selectedNodes[0].data.props.dataRef))},onExpand:function(e){this.expandedKeys=e,this.autoExpandParent=!1},generateList:function(e){for(var t=0;t<e.length;t++){var a=e[t];void 0===a.scopedSlots&&(a.scopedSlots={title:"title"}),this.dataList.push({key:a.key,parentId:a.parentId,extendData:a.extendData,title:a.title}),a.children&&this.generateList(a.children)}},onChange:function(e){var t=this,a=e.target.value;""!=a?a&&this.dataList.map((function(e){e.title.indexOf(a)>-1&&(t.expandedKeys=e.extendData.substring(0,e.extendData.length-1).split(","),console.log(t.expandedKeys))})):this.expandedKeys=[this.treeData[0].key]}}}),i=r,l=(a("70b7"),a("2877")),o=Object(l["a"])(i,n,s,!1,null,"52e9cd27",null);t["a"]=o.exports},"70b7":function(e,t,a){"use strict";var n=a("dfd7"),s=a.n(n);s.a},"8cc5":function(e,t,a){"use strict";var n=a("d41e"),s=a.n(n);s.a},"9faa":function(e,t,a){},b00a:function(e,t,a){"use strict";var n=a("b775");t["a"]={get_integral_info_list:function(e){return Object(n["a"])({url:"integral/check/integral/info",method:"GET",params:e})},query_integral_user_detail:function(e,t){return Object(n["a"])({url:"integral/check/integral/detail/"+"".concat(e),method:"GET",params:t})},query_integral_info_detail:function(e,t){return Object(n["a"])({url:"integral/check/integral/info/"+"".concat(e),method:"GET",params:t})}}},b986:function(e,t,a){"use strict";var n=a("9faa"),s=a.n(n);s.a},d41e:function(e,t,a){},d99e:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-wrapper"},[a("div",[a("a-row",{attrs:{gutter:56}},[e._t("default"),a("buttonBox",{style:e.advanced?{float:"right"}:{},on:{toggleAdvanced:e.toggleAdvanced,query:e.query,reset:e.reset}})],2)],1)])},s=[],r=(a("a9e3"),a("5530")),i={name:"SearchListItem",props:{label:{type:String,default:"",required:!1}},inject:{col:{type:Number}},render:function(){var e=arguments[0];return e("a-col",{class:"item-box",props:Object(r["a"])({},o[this.col])},[e("div",{class:"y-search-item"},[e("div",{class:"y-search-label"},[this.$props.label]),e("div",{class:"y-search-content"},[this.$slots.default])])])}},l={name:"buttonBox",data:function(){return{advanced:!1}},inject:{col:{type:Number}},methods:{toggleAdvanced:function(){this.advanced=!this.advanced,this.$emit("toggleAdvanced")},query:function(){this.$emit("query")},reset:function(){this.$emit("reset")}},render:function(){var e=arguments[0];return e("a-col",{props:Object(r["a"])({},o[this.col])},[e("span",{class:"table-page-search-submitButtons",style:"float: 'left', overflow: 'hidden'"},[e("a-button",{attrs:{type:"primary"},on:{click:this.query}},["查询"]),e("a-button",{style:"margin-left: 8px",on:{click:this.reset}},["重置"]),e("a",{attrs:{id:"advance-btn"},style:"margin-left: 8px",on:{click:this.toggleAdvanced}},[this.advanced?"收起":"展开",e("a-icon",{props:Object(r["a"])({},{type:this.advanced?"up":"down"})})])])])}},o={1:{xs:24},2:{xs:24,sm:12},3:{xs:24,sm:12,md:8},4:{md:24,lg:12,xl:8,xxl:6}},c={name:"SearchForm",Item:i,components:{buttonBox:l},props:{col:{type:Number,required:!1,default:6}},provide:function(){return{col:this.col>4?4:this.col}},data:function(){return{advanced:!1,toplist:[],bottomList:[]}},methods:{toggleAdvanced:function(){this.advanced=!this.advanced,this.displayItem()},query:function(){this.$emit("query")},reset:function(){this.$emit("reset")},displayItem:function(){var e=this.$slots.default,t=this.col,a=e.length;if(a<t)document.getElementById("advance-btn").style.display="none";else for(var n=t-1;n<a;n++)e[n].elm.style.display=this.advanced?"":"none"}},mounted:function(){this.displayItem()}},d=c,u=(a("8cc5"),a("2877")),p=Object(u["a"])(d,n,s,!1,null,"359e9f37",null),h=p.exports;t["a"]=h},dfd7:function(e,t,a){}}]);